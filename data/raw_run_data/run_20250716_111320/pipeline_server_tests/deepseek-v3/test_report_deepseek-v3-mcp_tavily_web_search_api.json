{
  "server_name": "server",
  "parent_dir": "refined",
  "report_name": "deepseek-v3-mcp_tavily_web_search_api",
  "server_path": "workspace/pipeline-output-servers/deepseek-v3/mcp_tavily_web_search_api/refined/server.py",
  "timestamp": "2025-07-16T11:19:07.857778",
  "tools": [
    {
      "name": "tavily_web_search",
      "description": "\n    Perform a comprehensive web search using the Tavily API.\n\n    Args:\n        query: The search query for technical information, APIs, or code examples.\n        search_depth: Search depth; 'basic' for quick results, 'advanced' for more comprehensive analysis. Defaults to 'basic'.\n        include_domains: A list of domains to specifically include in the search results.\n        exclude_domains: A list of domains to specifically exclude from the search results.\n        max_results: Maximum number of search results to return. Defaults to 5, maximum 10.\n\n    Returns:\n        A JSON string containing a list of search results, each with 'title', 'url', and 'summary'.\n\n    Raises:\n        ValueError: If the query is empty or invalid.\n        httpx.HTTPStatusError: If the API request fails.\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "search_depth": {
            "default": "basic",
            "title": "Search Depth",
            "type": "string"
          },
          "include_domains": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Include Domains"
          },
          "exclude_domains": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Exclude Domains"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_web_searchArguments",
        "type": "object"
      }
    },
    {
      "name": "tavily_answer_search",
      "description": "\n    Generate direct answers to queries using the Tavily API, including supporting evidence.\n\n    Args:\n        query: The query for which a direct answer is needed.\n        max_results: Maximum number of supporting evidence items to return. Defaults to 5, maximum 10.\n\n    Returns:\n        A JSON string containing 'answer' and 'evidence' (a list of dictionaries with 'title', 'url', and 'summary').\n\n    Raises:\n        ValueError: If the query is empty or invalid.\n        httpx.HTTPStatusError: If the API request fails.\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_answer_searchArguments",
        "type": "object"
      }
    },
    {
      "name": "tavily_news_search",
      "description": "\n    Search for recent news articles using the Tavily API.\n\n    Args:\n        query: The search query for news articles.\n        time_limit_days: Maximum age of news articles in days. Defaults to 30, maximum 365.\n        include_sources: A list of news sources to specifically include in the search results.\n        exclude_sources: A list of news sources to specifically exclude from the search results.\n        max_results: Maximum number of news articles to return. Defaults to 5, maximum 10.\n\n    Returns:\n        A JSON string containing a list of news articles, each with 'title', 'url', 'summary', and 'published_date'.\n\n    Raises:\n        ValueError: If the query is empty or invalid.\n        httpx.HTTPStatusError: If the API request fails.\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "time_limit_days": {
            "default": 30,
            "title": "Time Limit Days",
            "type": "integer"
          },
          "include_sources": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Include Sources"
          },
          "exclude_sources": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Exclude Sources"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_news_searchArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "tavily_web_search": [
      {
        "case_name": "Basic Web Search",
        "purpose": "验证基本搜索功能是否正常工作，使用默认参数进行简单搜索。",
        "args": {
          "query": "artificial intelligence"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 1.0386121273040771,
        "is_functional_test": true
      },
      {
        "case_name": "Advanced Web Search",
        "purpose": "测试高级搜索深度是否能返回更全面的结果。",
        "args": {
          "query": "machine learning algorithms",
          "search_depth": "advanced"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 0.2713432312011719,
        "is_functional_test": true
      },
      {
        "case_name": "Search With Include Domains",
        "purpose": "验证指定包含域的搜索结果是否仅来自这些域名。",
        "args": {
          "query": "blockchain technology",
          "include_domains": [
            "example.com",
            "techcrunch.com"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 0.27219104766845703,
        "is_functional_test": true
      },
      {
        "case_name": "Search With Exclude Domains",
        "purpose": "验证排除特定域的搜索是否有效。",
        "args": {
          "query": "cloud computing",
          "exclude_domains": [
            "wikipedia.org",
            "reddit.com"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 0.2719876766204834,
        "is_functional_test": true
      },
      {
        "case_name": "Max Results Limit",
        "purpose": "验证最大结果数限制是否生效（最大10）。",
        "args": {
          "query": "quantum computing",
          "max_results": 10
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 0.2710411548614502,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Query Input",
        "purpose": "测试空查询是否抛出ValueError异常。",
        "args": {
          "query": ""
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: Query cannot be empty or contain only whitespace."
        },
        "execution_time": 0.003000497817993164,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Domain Format",
        "purpose": "验证无效域名格式是否被正确处理。",
        "args": {
          "query": "cybersecurity",
          "include_domains": [
            "invalid_domain"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 0.27385687828063965,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters in Query",
        "purpose": "验证特殊字符是否被正确转义和处理。",
        "args": {
          "query": "AI & ML in 2025!"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 0.27170825004577637,
        "is_functional_test": true
      }
    ],
    "tavily_answer_search": [
      {
        "case_name": "Basic Answer Search",
        "purpose": "验证基本问答搜索功能是否正常工作，使用默认参数进行简单查询。",
        "args": {
          "query": "artificial intelligence"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 1.2725398540496826,
        "is_functional_test": true
      },
      {
        "case_name": "Answer Search With Max Results",
        "purpose": "测试指定最大结果数时是否能正确返回相应数量的证据信息。",
        "args": {
          "query": "machine learning algorithms",
          "max_results": 7
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.34929823875427246,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Query Input",
        "purpose": "测试空查询是否抛出ValueError异常并提示查询不能为空。",
        "args": {
          "query": ""
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: Query cannot be empty or contain only whitespace."
        },
        "execution_time": 0.003621339797973633,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters in Query",
        "purpose": "验证特殊字符是否被正确处理并返回合理的答案和证据。",
        "args": {
          "query": "AI & ML in 2025!"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.35391902923583984,
        "is_functional_test": true
      },
      {
        "case_name": "Max Results Limit Test",
        "purpose": "验证最大结果数限制是否生效（最大10）。",
        "args": {
          "query": "quantum computing",
          "max_results": 10
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.34294724464416504,
        "is_functional_test": true
      },
      {
        "case_name": "Exceed Max Results Limit",
        "purpose": "测试超过最大结果数限制（如设置为11）是否会自动调整为最大允许值。",
        "args": {
          "query": "blockchain technology",
          "max_results": 11
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.3444991111755371,
        "is_functional_test": true
      },
      {
        "case_name": "Invalid API Key Handling",
        "purpose": "验证当API密钥无效或缺失时，工具是否能正确捕获并抛出HTTPStatusError。",
        "args": {
          "query": "cloud computing"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.3517947196960449,
        "is_functional_test": false
      },
      {
        "case_name": "Security Input Injection Test",
        "purpose": "测试是否存在潜在的安全漏洞，例如输入注入攻击尝试。",
        "args": {
          "query": "'; DROP TABLE users; --"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.34290122985839844,
        "is_functional_test": false
      }
    ],
    "tavily_news_search": [
      {
        "case_name": "Basic News Search",
        "purpose": "验证基本新闻搜索功能是否正常工作，使用默认参数进行简单查询。",
        "args": {
          "query": "artificial intelligence"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed: "
        },
        "execution_time": 5.009926080703735,
        "is_functional_test": true
      },
      {
        "case_name": "Search With Time Limit",
        "purpose": "测试指定时间范围（7天）的新闻搜索是否返回符合时间要求的结果。",
        "args": {
          "query": "machine learning",
          "time_limit_days": 7
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 2.053666830062866,
        "is_functional_test": true
      },
      {
        "case_name": "Search With Include Sources",
        "purpose": "验证指定包含新闻来源的搜索结果是否仅来自这些来源。",
        "args": {
          "query": "blockchain",
          "include_sources": [
            "techcrunch.com",
            "theverge.com"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.28403806686401367,
        "is_functional_test": true
      },
      {
        "case_name": "Search With Exclude Sources",
        "purpose": "验证排除特定新闻来源的搜索是否有效。",
        "args": {
          "query": "cloud computing",
          "exclude_sources": [
            "wikipedia.org",
            "reddit.com"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.2850959300994873,
        "is_functional_test": true
      },
      {
        "case_name": "Max Results Limit Test",
        "purpose": "验证最大结果数限制是否生效（最大10）。",
        "args": {
          "query": "quantum computing",
          "max_results": 10
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.28658151626586914,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Query Input",
        "purpose": "测试空查询是否抛出ValueError异常并提示查询不能为空。",
        "args": {
          "query": ""
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: Query cannot be empty or contain only whitespace."
        },
        "execution_time": 0.003722667694091797,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters in Query",
        "purpose": "验证特殊字符是否被正确处理并返回合理的新闻结果。",
        "args": {
          "query": "AI & ML in 2025!"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.2944483757019043,
        "is_functional_test": true
      },
      {
        "case_name": "Security Input Injection Test",
        "purpose": "测试是否存在潜在的安全漏洞，例如输入注入攻击尝试。",
        "args": {
          "query": "'; DROP TABLE users; --"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.28440403938293457,
        "is_functional_test": false
      }
    ]
  },
  "total_cases": 24
}