{
  "server_name": "mcp-pdf-tools",
  "parent_dir": "metaGPT-qwen-plus",
  "report_name": "metaGPT-qwen-plus-mcp-pdf-tools",
  "server_path": "workspace\\metaGPT-servers\\metaGPT-qwen-plus\\mcp-pdf-tools.py",
  "timestamp": "2025-07-13T22:59:00.242309",
  "tools": [
    {
      "name": "merge_pdfs",
      "description": "\n    将多个PDF文件合并为一个PDF文件。\n\n    Args:\n        input_files: 要合并的PDF文件路径列表。\n        output_file: 合并后的输出文件路径。\n\n    Returns:\n        一个字符串，表示操作结果。\n\n    Raises:\n        ValueError: 如果输入文件列表为空或输出文件路径无效。\n        FileNotFoundError: 如果任一输入文件不存在。\n    ",
      "args_schema": {
        "properties": {
          "input_files": {
            "items": {
              "type": "string"
            },
            "title": "Input Files",
            "type": "array"
          },
          "output_file": {
            "title": "Output File",
            "type": "string"
          }
        },
        "required": [
          "input_files",
          "output_file"
        ],
        "title": "merge_pdfsArguments",
        "type": "object"
      }
    },
    {
      "name": "extract_pages",
      "description": "\n    从PDF文件中提取特定页面并保存为新文件。\n\n    Args:\n        input_file: 输入PDF文件路径。\n        pages: 要提取的页码列表（从1开始）。\n        output_file: 提取后的输出文件路径。\n\n    Returns:\n        一个字符串，表示操作结果。\n\n    Raises:\n        ValueError: 如果输入文件或输出文件路径无效。\n        FileNotFoundError: 如果输入文件不存在。\n        IndexError: 如果页码超出范围。\n    ",
      "args_schema": {
        "properties": {
          "input_file": {
            "title": "Input File",
            "type": "string"
          },
          "pages": {
            "items": {
              "type": "integer"
            },
            "title": "Pages",
            "type": "array"
          },
          "output_file": {
            "title": "Output File",
            "type": "string"
          }
        },
        "required": [
          "input_file",
          "pages",
          "output_file"
        ],
        "title": "extract_pagesArguments",
        "type": "object"
      }
    },
    {
      "name": "search_pdfs",
      "description": "\n    在指定目录中搜索匹配特定模式的PDF文件。\n\n    Args:\n        directory: 要搜索的目录路径。\n        pattern: 正则表达式模式。\n\n    Returns:\n        匹配的PDF文件路径列表。\n\n    Raises:\n        ValueError: 如果目录或模式无效。\n        NotADirectoryError: 如果指定的目录不是有效目录。\n    ",
      "args_schema": {
        "properties": {
          "directory": {
            "title": "Directory",
            "type": "string"
          },
          "pattern": {
            "title": "Pattern",
            "type": "string"
          }
        },
        "required": [
          "directory",
          "pattern"
        ],
        "title": "search_pdfsArguments",
        "type": "object"
      }
    },
    {
      "name": "merge_pdfs_ordered",
      "description": "\n    按照指定的顺序模式合并PDF文件。\n\n    Args:\n        directory: 要搜索的目录路径。\n        pattern: 文件名正则表达式模式。\n        output_file: 合并后的输出文件路径。\n        fuzzy_match: 是否使用模糊匹配（默认：False）。\n\n    Returns:\n        一个字符串，表示操作结果。\n\n    Raises:\n        ValueError: 如果目录或输出文件路径无效。\n        NotADirectoryError: 如果指定的目录不是有效目录。\n    ",
      "args_schema": {
        "properties": {
          "directory": {
            "title": "Directory",
            "type": "string"
          },
          "pattern": {
            "title": "Pattern",
            "type": "string"
          },
          "output_file": {
            "title": "Output File",
            "type": "string"
          },
          "fuzzy_match": {
            "default": false,
            "title": "Fuzzy Match",
            "type": "boolean"
          }
        },
        "required": [
          "directory",
          "pattern",
          "output_file"
        ],
        "title": "merge_pdfs_orderedArguments",
        "type": "object"
      }
    },
    {
      "name": "find_related_pdfs",
      "description": "\n    根据目标PDF文件内容查找相关的PDF文件。\n\n    Args:\n        target_file: 目标PDF文件路径。\n        directory: 要搜索的目录路径（默认：目标文件所在目录）。\n\n    Returns:\n        相关PDF文件路径列表。\n\n    Raises:\n        ValueError: 如果目标文件路径无效。\n        FileNotFoundError: 如果目标文件不存在。\n        NotADirectoryError: 如果指定的目录不是有效目录。\n    ",
      "args_schema": {
        "properties": {
          "target_file": {
            "title": "Target File",
            "type": "string"
          },
          "directory": {
            "default": null,
            "title": "Directory",
            "type": "string"
          }
        },
        "required": [
          "target_file"
        ],
        "title": "find_related_pdfsArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "merge_pdfs": [
      {
        "case_name": "基本PDF合并测试",
        "purpose": "验证工具能够正确合并两个有效的PDF文件并生成输出文件。",
        "args": {
          "input_files": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\rule1.pdf"
          ],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\merged_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: EOF marker not found"
        },
        "execution_time": 0.04599928855895996,
        "is_functional_test": true
      },
      {
        "case_name": "单个PDF文件合并测试",
        "purpose": "验证当输入仅一个PDF文件时，工具仍能正确处理并生成该文件的副本。",
        "args": {
          "input_files": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf"
          ],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\single_merged_output.pdf"
        },
        "response": {
          "result": "成功合并 1 个文件到 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\single_merged_output.pdf'。"
        },
        "execution_time": 0.05652785301208496,
        "is_functional_test": true
      },
      {
        "case_name": "空输入文件列表测试",
        "purpose": "验证当输入文件列表为空时是否抛出ValueError。",
        "args": {
          "input_files": [],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\invalid_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: 输入文件列表和输出文件路径都不能为空。"
        },
        "execution_time": 0.00499415397644043,
        "is_functional_test": false
      },
      {
        "case_name": "无效输入文件路径测试",
        "purpose": "验证当输入文件不存在时是否抛出FileNotFoundError。",
        "args": {
          "input_files": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.pdf"
          ],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\invalid_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: 文件 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.pdf' 不存在。"
        },
        "execution_time": 0.004000425338745117,
        "is_functional_test": false
      },
      {
        "case_name": "非PDF文件尝试合并",
        "purpose": "验证工具是否拒绝非PDF文件的输入。",
        "args": {
          "input_files": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nature.jpeg",
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\re2.doc"
          ],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\invalid_merge_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: EOF marker not found"
        },
        "execution_time": 0.17026042938232422,
        "is_functional_test": false
      },
      {
        "case_name": "特殊字符输出路径测试",
        "purpose": "验证输出文件路径包含特殊字符时是否能正常处理。",
        "args": {
          "input_files": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf"
          ],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\merged_@#$.pdf"
        },
        "response": {
          "result": "成功合并 1 个文件到 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\merged_@#$.pdf'。"
        },
        "execution_time": 0.05802655220031738,
        "is_functional_test": true
      },
      {
        "case_name": "输出路径权限受限测试",
        "purpose": "验证在没有写入权限的目录中生成文件时是否抛出异常。",
        "args": {
          "input_files": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf"
          ],
          "output_file": "C:\\Windows\\System32\\restricted_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: [Errno 13] Permission denied: 'C:\\\\Windows\\\\System32\\\\restricted_output.pdf'"
        },
        "execution_time": 0.08975791931152344,
        "is_functional_test": false
      },
      {
        "case_name": "多个PDF文件合并测试",
        "purpose": "验证工具能否正确合并多个PDF文件（超过2个）并保持顺序。",
        "args": {
          "input_files": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\rule1.pdf",
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\rule1.pdf"
          ],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\multi_merged_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: EOF marker not found"
        },
        "execution_time": 0.04251694679260254,
        "is_functional_test": true
      }
    ],
    "extract_pages": [
      {
        "case_name": "基本PDF页面提取测试",
        "purpose": "验证工具能够正确提取指定的页面并生成新的PDF文件。",
        "args": {
          "input_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
          "pages": [
            1,
            2
          ],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\extracted_basic_output.pdf"
        },
        "response": {
          "result": "成功从 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf' 提取 2 页到 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\extracted_basic_output.pdf'。"
        },
        "execution_time": 0.03499913215637207,
        "is_functional_test": true
      },
      {
        "case_name": "单页提取测试",
        "purpose": "验证工具能正确提取单个页面并保存为新文件。",
        "args": {
          "input_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\rule1.pdf",
          "pages": [
            3
          ],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\extracted_single_page.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: EOF marker not found"
        },
        "execution_time": 0.003998756408691406,
        "is_functional_test": true
      },
      {
        "case_name": "提取所有页面测试",
        "purpose": "验证当输入所有页码时，是否等同于复制原文件。",
        "args": {
          "input_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
          "pages": [
            1,
            2,
            3,
            4,
            5
          ],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\extracted_full_copy.pdf"
        },
        "response": {
          "result": "成功从 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf' 提取 5 页到 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\extracted_full_copy.pdf'。"
        },
        "execution_time": 0.040511131286621094,
        "is_functional_test": true
      },
      {
        "case_name": "特殊字符输出路径测试",
        "purpose": "验证输出文件路径包含特殊字符时是否能正常处理。",
        "args": {
          "input_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
          "pages": [
            1
          ],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\extracted_@#$.pdf"
        },
        "response": {
          "result": "成功从 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf' 提取 1 页到 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\extracted_@#$.pdf'。"
        },
        "execution_time": 0.02399754524230957,
        "is_functional_test": true
      },
      {
        "case_name": "无效输入文件路径测试",
        "purpose": "验证当输入文件不存在时是否抛出FileNotFoundError。",
        "args": {
          "input_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.pdf",
          "pages": [
            1
          ],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\invalid_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 文件 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.pdf' 不存在。"
        },
        "execution_time": 0.006003141403198242,
        "is_functional_test": false
      },
      {
        "case_name": "无效页码范围测试",
        "purpose": "验证当提供的页码超出实际页数时是否抛出IndexError。",
        "args": {
          "input_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
          "pages": [
            100
          ],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\invalid_page_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 页码 100 超出范围 (1-7)。"
        },
        "execution_time": 0.009000062942504883,
        "is_functional_test": false
      },
      {
        "case_name": "空页码列表测试",
        "purpose": "验证当页码列表为空时是否抛出ValueError。",
        "args": {
          "input_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
          "pages": [],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_pages_output.pdf"
        },
        "response": {
          "result": "成功从 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf' 提取 0 页到 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_pages_output.pdf'。"
        },
        "execution_time": 0.008999109268188477,
        "is_functional_test": false
      },
      {
        "case_name": "输出路径权限受限测试",
        "purpose": "验证在没有写入权限的目录中生成文件时是否抛出异常。",
        "args": {
          "input_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
          "pages": [
            1
          ],
          "output_file": "C:\\Windows\\System32\\restricted_extract_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: [Errno 13] Permission denied: 'C:\\\\Windows\\\\System32\\\\restricted_extract_output.pdf'"
        },
        "execution_time": 0.02054762840270996,
        "is_functional_test": false
      }
    ],
    "search_pdfs": [
      {
        "case_name": "基本PDF搜索测试",
        "purpose": "验证工具能够在指定目录中正确搜索所有PDF文件并返回匹配列表。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": "\\.pdf$"
        },
        "response": [
          "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_pages_output.pdf",
          "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\extracted_@#$.pdf",
          "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\extracted_basic_output.pdf",
          "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\extracted_full_copy.pdf",
          "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
          "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\rule1.pdf"
        ],
        "execution_time": 0.004998445510864258,
        "is_functional_test": true
      },
      {
        "case_name": "正则表达式匹配特定前缀PDF文件",
        "purpose": "验证工具能够使用正则表达式搜索具有特定前缀的PDF文件。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": "^extracted_.*\\.pdf$"
        },
        "response": [
          "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\extracted_@#$.pdf",
          "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\extracted_basic_output.pdf",
          "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\extracted_full_copy.pdf"
        ],
        "execution_time": 0.00651860237121582,
        "is_functional_test": true
      },
      {
        "case_name": "无效目录路径测试",
        "purpose": "验证当提供无效目录路径时是否抛出NotADirectoryError。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\invalidDir",
          "pattern": "\\.pdf$"
        },
        "response": {
          "error": "ToolException: Error executing tool search_pdfs: 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\invalidDir' 不是有效的目录。"
        },
        "execution_time": 0.007004499435424805,
        "is_functional_test": false
      },
      {
        "case_name": "空模式字符串测试",
        "purpose": "验证空字符串作为正则表达式是否能匹配所有文件（默认行为）。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": ""
        },
        "response": {
          "error": "ToolException: Error executing tool search_pdfs: 目录和搜索模式都不能为空。"
        },
        "execution_time": 0.003996610641479492,
        "is_functional_test": true
      },
      {
        "case_name": "隐藏目录中的PDF搜索测试",
        "purpose": "验证工具不会搜索隐藏目录（例如.git）中的PDF文件。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\.git",
          "pattern": "\\.pdf$"
        },
        "response": {
          "result": ""
        },
        "execution_time": 0.010007858276367188,
        "is_functional_test": false
      },
      {
        "case_name": "无PDF文件的目录搜索测试",
        "purpose": "验证在没有PDF文件的目录中搜索时是否返回空列表。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\.git\\hooks",
          "pattern": "\\.pdf$"
        },
        "response": {
          "result": ""
        },
        "execution_time": 0.003991365432739258,
        "is_functional_test": true
      },
      {
        "case_name": "权限受限目录搜索测试",
        "purpose": "验证在没有读取权限的目录中执行搜索是否会抛出异常。",
        "args": {
          "directory": "C:\\Windows\\System32\\config",
          "pattern": "\\.pdf$"
        },
        "response": {
          "result": ""
        },
        "execution_time": 0.005001544952392578,
        "is_functional_test": false
      }
    ],
    "merge_pdfs_ordered": [
      {
        "case_name": "基本PDF合并测试",
        "purpose": "验证工具能够正确搜索指定目录下的PDF文件并按正则排序合并。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": ".*\\.pdf",
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\basic_merge_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: EOF marker not found"
        },
        "execution_time": 0.082733154296875,
        "is_functional_test": true
      },
      {
        "case_name": "使用默认模糊匹配参数测试",
        "purpose": "验证在不设置fuzzy_match参数时是否使用默认值False进行精确匹配。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": "rule.*\\.pdf",
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\default_fuzzymatch_merge.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: EOF marker not found"
        },
        "execution_time": 0.005000591278076172,
        "is_functional_test": true
      },
      {
        "case_name": "启用模糊匹配的PDF合并测试",
        "purpose": "验证当fuzzy_match=True时，是否能模糊匹配类似名称的PDF文件并合并。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": "paper",
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\fuzzy_merge_output.pdf",
          "fuzzy_match": true
        },
        "response": {
          "result": "成功按模式 'paper' 合并 1 个文件到 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\fuzzy_merge_output.pdf'。"
        },
        "execution_time": 0.05450558662414551,
        "is_functional_test": true
      },
      {
        "case_name": "无匹配文件的PDF合并测试",
        "purpose": "验证当目录中没有符合pattern的文件时是否抛出ValueError。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": "nonexistentfile_.*\\.pdf",
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\no_match_output.pdf"
        },
        "response": {
          "result": "在 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles' 中未找到匹配模式 'nonexistentfile_.*\\.pdf' 的PDF文件。"
        },
        "execution_time": 0.004999876022338867,
        "is_functional_test": false
      },
      {
        "case_name": "无效目录路径测试",
        "purpose": "验证当提供的目录路径不存在时是否抛出NotADirectoryError。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\invalidDir",
          "pattern": ".*\\.pdf",
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\invalid_dir_merge.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\invalidDir' 不是有效的目录。"
        },
        "execution_time": 0.004000186920166016,
        "is_functional_test": false
      },
      {
        "case_name": "输出路径权限受限测试",
        "purpose": "验证在没有写入权限的目录中生成文件时是否抛出异常。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": "rule.*\\.pdf",
          "output_file": "C:\\Windows\\System32\\restricted_merge_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: EOF marker not found"
        },
        "execution_time": 0.004999637603759766,
        "is_functional_test": false
      },
      {
        "case_name": "边界条件：空目录测试",
        "purpose": "验证当目标目录为空时是否抛出ValueError。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\emptyTestDir",
          "pattern": ".*\\.pdf",
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_dir_merge.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\emptyTestDir' 不是有效的目录。"
        },
        "execution_time": 0.005998134613037109,
        "is_functional_test": false
      }
    ],
    "find_related_pdfs": [
      {
        "case_name": "基本PDF关联查找测试",
        "purpose": "验证工具能够根据目标PDF文件内容查找同一目录下的相关PDF文件。",
        "args": {
          "target_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf"
        },
        "response": {
          "result": ""
        },
        "execution_time": 0.022006988525390625,
        "is_functional_test": true
      },
      {
        "case_name": "指定目录查找相关PDF测试",
        "purpose": "验证工具在指定目录中正确查找与目标PDF相关的内容。",
        "args": {
          "target_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\rule1.pdf",
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles"
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: Failed to open file 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\rule1.pdf'."
        },
        "execution_time": 0.0069997310638427734,
        "is_functional_test": true
      },
      {
        "case_name": "目标文件路径无效测试",
        "purpose": "验证当提供一个不存在的PDF文件路径时，是否抛出FileNotFoundError。",
        "args": {
          "target_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 文件 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.pdf' 不存在。"
        },
        "execution_time": 0.003999233245849609,
        "is_functional_test": false
      },
      {
        "case_name": "指定目录无效测试",
        "purpose": "验证当提供的目录路径不是有效目录时是否抛出NotADirectoryError。",
        "args": {
          "target_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf' 不是有效的目录。"
        },
        "execution_time": 0.00600433349609375,
        "is_functional_test": false
      },
      {
        "case_name": "特殊字符文件名查找测试",
        "purpose": "验证工具能否处理带有特殊字符的目标文件名并正确查找相关PDF。",
        "args": {
          "target_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\extracted_@#$.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 文件 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\extracted_@#$.pdf' 不存在。"
        },
        "execution_time": 0.005514860153198242,
        "is_functional_test": true
      },
      {
        "case_name": "隐藏文件关联查找测试",
        "purpose": "验证工具能否正确识别隐藏文件中的PDF关联关系。",
        "args": {
          "target_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\.hidden_test_file.txt"
        },
        "response": {
          "result": ""
        },
        "execution_time": 0.008638381958007812,
        "is_functional_test": true
      },
      {
        "case_name": "空目录查找测试",
        "purpose": "验证当目标目录为空时，工具是否返回空列表而不是报错。",
        "args": {
          "target_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\emptyDir"
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\emptyDir' 不是有效的目录。"
        },
        "execution_time": 0.004997968673706055,
        "is_functional_test": true
      },
      {
        "case_name": "跨目录安全限制测试",
        "purpose": "验证工具是否禁止访问系统敏感目录（如C:\\Windows）来查找相关PDF文件。",
        "args": {
          "target_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
          "directory": "C:\\Windows"
        },
        "response": {
          "result": ""
        },
        "execution_time": 9.92467999458313,
        "is_functional_test": false
      }
    ]
  },
  "total_cases": 38
}