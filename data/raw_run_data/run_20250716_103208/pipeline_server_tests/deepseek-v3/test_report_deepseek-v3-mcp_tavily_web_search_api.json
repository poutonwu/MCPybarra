{
  "server_name": "server",
  "parent_dir": "refined",
  "report_name": "deepseek-v3-mcp_tavily_web_search_api",
  "server_path": "workspace/pipeline-output-servers/deepseek-v3/mcp_tavily_web_search_api/refined/server.py",
  "timestamp": "2025-07-16T10:35:49.937734",
  "tools": [
    {
      "name": "tavily_web_search",
      "description": "\n    Perform a comprehensive web search using the Tavily API.\n\n    Args:\n        query: The search query for technical information, APIs, or code examples.\n        search_depth: Search depth; 'basic' for quick results, 'advanced' for more comprehensive analysis. Defaults to 'basic'.\n        include_domains: A list of domains to specifically include in the search results.\n        exclude_domains: A list of domains to specifically exclude from the search results.\n        max_results: Maximum number of search results to return. Defaults to 5, maximum 10.\n\n    Returns:\n        A JSON string containing a list of search results, each with 'title', 'url', and 'summary'.\n\n    Raises:\n        ValueError: If the query is empty or invalid.\n        httpx.HTTPStatusError: If the API request fails.\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "search_depth": {
            "default": "basic",
            "title": "Search Depth",
            "type": "string"
          },
          "include_domains": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Include Domains"
          },
          "exclude_domains": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Exclude Domains"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_web_searchArguments",
        "type": "object"
      }
    },
    {
      "name": "tavily_answer_search",
      "description": "\n    Generate direct answers to queries using the Tavily API, including supporting evidence.\n\n    Args:\n        query: The query for which a direct answer is needed.\n        max_results: Maximum number of supporting evidence items to return. Defaults to 5, maximum 10.\n\n    Returns:\n        A JSON string containing 'answer' and 'evidence' (a list of dictionaries with 'title', 'url', and 'summary').\n\n    Raises:\n        ValueError: If the query is empty or invalid.\n        httpx.HTTPStatusError: If the API request fails.\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_answer_searchArguments",
        "type": "object"
      }
    },
    {
      "name": "tavily_news_search",
      "description": "\n    Search for recent news articles using the Tavily API.\n\n    Args:\n        query: The search query for news articles.\n        time_limit_days: Maximum age of news articles in days. Defaults to 30, maximum 365.\n        include_sources: A list of news sources to specifically include in the search results.\n        exclude_sources: A list of news sources to specifically exclude from the search results.\n        max_results: Maximum number of news articles to return. Defaults to 5, maximum 10.\n\n    Returns:\n        A JSON string containing a list of news articles, each with 'title', 'url', 'summary', and 'published_date'.\n\n    Raises:\n        ValueError: If the query is empty or invalid.\n        httpx.HTTPStatusError: If the API request fails.\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "time_limit_days": {
            "default": 30,
            "title": "Time Limit Days",
            "type": "integer"
          },
          "include_sources": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Include Sources"
          },
          "exclude_sources": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Exclude Sources"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_news_searchArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "tavily_web_search": [
      {
        "case_name": "Basic Web Search with Default Parameters",
        "purpose": "验证使用默认参数执行基础网页搜索的基本功能",
        "args": {
          "query": "artificial intelligence"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed: "
        },
        "execution_time": 5.020831346511841,
        "is_functional_test": true
      },
      {
        "case_name": "Advanced Search with Specified Max Results",
        "purpose": "验证高级搜索功能并指定最大返回结果数量",
        "args": {
          "query": "machine learning applications",
          "search_depth": "advanced",
          "max_results": 10
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 1.7902662754058838,
        "is_functional_test": true
      },
      {
        "case_name": "Search with Include Domains",
        "purpose": "验证搜索时包含特定域名的功能",
        "args": {
          "query": "blockchain technology",
          "include_domains": [
            "example.com",
            "techcrunch.com"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 0.34641289710998535,
        "is_functional_test": true
      },
      {
        "case_name": "Search with Exclude Domains",
        "purpose": "验证搜索时排除特定域名的功能",
        "args": {
          "query": "quantum computing",
          "exclude_domains": [
            "wikipedia.org",
            "reddit.com"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 0.3460814952850342,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Query Input",
        "purpose": "验证空查询参数是否能正确抛出错误",
        "args": {
          "query": ""
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: Query cannot be empty or contain only whitespace."
        },
        "execution_time": 0.0051805973052978516,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Max Results Value",
        "purpose": "验证超出最大结果数限制的参数是否被正确处理",
        "args": {
          "query": "cloud computing",
          "max_results": 11
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 0.35989904403686523,
        "is_functional_test": false
      },
      {
        "case_name": "XSS Attempt in Query",
        "purpose": "验证搜索查询中是否对特殊字符进行安全处理",
        "args": {
          "query": "<script>alert('xss')</script>"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 0.3483757972717285,
        "is_functional_test": false
      }
    ],
    "tavily_answer_search": [
      {
        "case_name": "Basic Answer Search with Default Parameters",
        "purpose": "验证使用默认参数执行基础答案搜索的基本功能",
        "args": {
          "query": "artificial intelligence"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.9760456085205078,
        "is_functional_test": true
      },
      {
        "case_name": "Answer Search with Maximum Results",
        "purpose": "验证指定最大返回结果数量时的答案搜索功能",
        "args": {
          "query": "machine learning",
          "max_results": 10
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.2761693000793457,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Query Input Handling",
        "purpose": "验证空查询参数是否能正确抛出错误",
        "args": {
          "query": ""
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: Query cannot be empty or contain only whitespace."
        },
        "execution_time": 0.003997087478637695,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Max Results Value",
        "purpose": "验证超出最大结果数限制的参数是否被正确处理",
        "args": {
          "query": "cloud computing",
          "max_results": 11
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.38645219802856445,
        "is_functional_test": false
      },
      {
        "case_name": "XSS Attempt in Query Parameter",
        "purpose": "验证搜索查询中是否对特殊字符进行安全处理",
        "args": {
          "query": "<script>alert('xss')</script>"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.28600430488586426,
        "is_functional_test": false
      },
      {
        "case_name": "Long Query Input Handling",
        "purpose": "验证超长查询输入是否能被正常处理",
        "args": {
          "query": "This is a very long query string that exceeds normal length limits and should still be processed correctly by the Tavily API without causing any errors or truncation issues."
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed: "
        },
        "execution_time": 5.016141653060913,
        "is_functional_test": true
      },
      {
        "case_name": "Special Characters in Query",
        "purpose": "验证包含特殊字符的查询是否能被正确处理",
        "args": {
          "query": "quantum physics & string theory"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed: "
        },
        "execution_time": 5.011012315750122,
        "is_functional_test": true
      },
      {
        "case_name": "Non-English Query Handling",
        "purpose": "验证非英文查询是否能被正确处理",
        "args": {
          "query": "人工智能技术发展"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 1.1168441772460938,
        "is_functional_test": true
      }
    ],
    "tavily_news_search": [
      {
        "case_name": "Basic News Search with Default Parameters",
        "purpose": "验证使用默认参数执行基础新闻搜索的基本功能",
        "args": {
          "query": "artificial intelligence"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed: "
        },
        "execution_time": 5.011082172393799,
        "is_functional_test": true
      },
      {
        "case_name": "News Search with Time Limit Filter",
        "purpose": "验证指定最大新闻年龄限制的搜索功能",
        "args": {
          "query": "climate change",
          "time_limit_days": 7
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed: "
        },
        "execution_time": 5.008748769760132,
        "is_functional_test": true
      },
      {
        "case_name": "News Search Including Specific Sources",
        "purpose": "验证搜索时包含特定新闻来源的功能",
        "args": {
          "query": "global economy",
          "include_sources": [
            "nytimes.com",
            "theguardian.com"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed: "
        },
        "execution_time": 5.008989095687866,
        "is_functional_test": true
      },
      {
        "case_name": "News Search Excluding Specific Sources",
        "purpose": "验证搜索时排除特定新闻来源的功能",
        "args": {
          "query": "technology trends",
          "exclude_sources": [
            "wikipedia.org",
            "reddit.com"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed: "
        },
        "execution_time": 5.011719226837158,
        "is_functional_test": true
      },
      {
        "case_name": "News Search with Maximum Results",
        "purpose": "验证返回最大数量新闻结果的功能",
        "args": {
          "query": "AI ethics",
          "max_results": 10
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed: "
        },
        "execution_time": 5.012415409088135,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Query Input Handling",
        "purpose": "验证空查询参数是否能正确抛出错误",
        "args": {
          "query": ""
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: Query cannot be empty or contain only whitespace."
        },
        "execution_time": 0.005032539367675781,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Max Results Value",
        "purpose": "验证超出最大结果数限制的参数是否被正确处理",
        "args": {
          "query": "cybersecurity",
          "max_results": 11
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 2.417980432510376,
        "is_functional_test": false
      },
      {
        "case_name": "XSS Attempt in Query Parameter",
        "purpose": "验证搜索查询中是否对特殊字符进行安全处理",
        "args": {
          "query": "<script>alert('xss')</script>"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.3526177406311035,
        "is_functional_test": false
      }
    ]
  },
  "total_cases": 23
}