{
  "server_name": "server",
  "parent_dir": "refined",
  "report_name": "deepseek-v3-mcp_tavily_web_search_api",
  "server_path": "workspace/pipeline-output-servers/deepseek-v3/mcp_tavily_web_search_api/refined/server.py",
  "timestamp": "2025-07-16T10:55:45.371066",
  "tools": [
    {
      "name": "tavily_web_search",
      "description": "\n    Perform a comprehensive web search using the Tavily API.\n\n    Args:\n        query: The search query for technical information, APIs, or code examples.\n        search_depth: Search depth; 'basic' for quick results, 'advanced' for more comprehensive analysis. Defaults to 'basic'.\n        include_domains: A list of domains to specifically include in the search results.\n        exclude_domains: A list of domains to specifically exclude from the search results.\n        max_results: Maximum number of search results to return. Defaults to 5, maximum 10.\n\n    Returns:\n        A JSON string containing a list of search results, each with 'title', 'url', and 'summary'.\n\n    Raises:\n        ValueError: If the query is empty or invalid.\n        httpx.HTTPStatusError: If the API request fails.\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "search_depth": {
            "default": "basic",
            "title": "Search Depth",
            "type": "string"
          },
          "include_domains": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Include Domains"
          },
          "exclude_domains": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Exclude Domains"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_web_searchArguments",
        "type": "object"
      }
    },
    {
      "name": "tavily_answer_search",
      "description": "\n    Generate direct answers to queries using the Tavily API, including supporting evidence.\n\n    Args:\n        query: The query for which a direct answer is needed.\n        max_results: Maximum number of supporting evidence items to return. Defaults to 5, maximum 10.\n\n    Returns:\n        A JSON string containing 'answer' and 'evidence' (a list of dictionaries with 'title', 'url', and 'summary').\n\n    Raises:\n        ValueError: If the query is empty or invalid.\n        httpx.HTTPStatusError: If the API request fails.\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_answer_searchArguments",
        "type": "object"
      }
    },
    {
      "name": "tavily_news_search",
      "description": "\n    Search for recent news articles using the Tavily API.\n\n    Args:\n        query: The search query for news articles.\n        time_limit_days: Maximum age of news articles in days. Defaults to 30, maximum 365.\n        include_sources: A list of news sources to specifically include in the search results.\n        exclude_sources: A list of news sources to specifically exclude from the search results.\n        max_results: Maximum number of news articles to return. Defaults to 5, maximum 10.\n\n    Returns:\n        A JSON string containing a list of news articles, each with 'title', 'url', 'summary', and 'published_date'.\n\n    Raises:\n        ValueError: If the query is empty or invalid.\n        httpx.HTTPStatusError: If the API request fails.\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "time_limit_days": {
            "default": 30,
            "title": "Time Limit Days",
            "type": "integer"
          },
          "include_sources": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Include Sources"
          },
          "exclude_sources": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Exclude Sources"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_news_searchArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "tavily_web_search": [
      {
        "case_name": "Basic Web Search with Default Parameters",
        "purpose": "验证使用默认参数执行基本网页搜索的功能是否正常",
        "args": {
          "query": "artificial intelligence"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 1.3447325229644775,
        "is_functional_test": true
      },
      {
        "case_name": "Advanced Search with Increased Results",
        "purpose": "验证高级搜索深度和最大结果数设置是否生效",
        "args": {
          "query": "machine learning frameworks",
          "search_depth": "advanced",
          "max_results": 10
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 0.3558523654937744,
        "is_functional_test": true
      },
      {
        "case_name": "Include Specific Domains in Search",
        "purpose": "验证包含特定域名的搜索功能是否按预期工作",
        "args": {
          "query": "blockchain technology",
          "include_domains": [
            "techcrunch.com",
            "theverge.com"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 0.35629868507385254,
        "is_functional_test": true
      },
      {
        "case_name": "Exclude Specific Domains from Search",
        "purpose": "验证排除特定域名的搜索功能是否按预期工作",
        "args": {
          "query": "quantum computing",
          "exclude_domains": [
            "wikipedia.org",
            "reddit.com"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 0.35480761528015137,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Query Input Test",
        "purpose": "验证空查询输入时是否抛出ValueError异常",
        "args": {
          "query": ""
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: Query cannot be empty or contain only whitespace."
        },
        "execution_time": 0.004023551940917969,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Domain Format Handling",
        "purpose": "验证工具对无效域名格式的处理能力",
        "args": {
          "query": "cybersecurity trends",
          "include_domains": [
            "invalid-domain-without-tld"
          ],
          "exclude_domains": [
            "another.invalid..domain"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 0.3551065921783447,
        "is_functional_test": false
      },
      {
        "case_name": "Max Results Boundary Check",
        "purpose": "验证最大结果数参数的边界条件（最大为10）",
        "args": {
          "query": "AI ethics",
          "max_results": 10
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 0.3540613651275635,
        "is_functional_test": true
      },
      {
        "case_name": "Special Characters in Query Handling",
        "purpose": "验证特殊字符在搜索查询中的处理是否正确",
        "args": {
          "query": "C++ vs Python performance"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 0.3550736904144287,
        "is_functional_test": true
      }
    ],
    "tavily_answer_search": [
      {
        "case_name": "Basic Answer Search with Default Parameters",
        "purpose": "验证使用默认参数执行基本答案搜索功能是否正常",
        "args": {
          "query": "artificial intelligence"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed: "
        },
        "execution_time": 5.019446611404419,
        "is_functional_test": true
      },
      {
        "case_name": "Answer Search with Maximum Results",
        "purpose": "验证最大结果数设置为10时的响应是否符合预期",
        "args": {
          "query": "machine learning frameworks",
          "max_results": 10
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 1.3907365798950195,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Query Input Handling",
        "purpose": "验证空查询输入是否抛出ValueError异常",
        "args": {
          "query": ""
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: Query cannot be empty or contain only whitespace."
        },
        "execution_time": 0.003500223159790039,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters in Query Handling",
        "purpose": "验证包含特殊字符（如C++）的查询是否能被正确处理",
        "args": {
          "query": "C++ vs Python performance"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.3664405345916748,
        "is_functional_test": true
      },
      {
        "case_name": "Invalid Max Results Value Handling",
        "purpose": "验证超过最大值的max_results参数是否能被正确处理",
        "args": {
          "query": "AI ethics",
          "max_results": 15
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.366008996963501,
        "is_functional_test": false
      },
      {
        "case_name": "Non-English Query Answer Search",
        "purpose": "验证非英文查询是否能返回有效答案和证据",
        "args": {
          "query": "量子计算是什么"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.3765084743499756,
        "is_functional_test": true
      },
      {
        "case_name": "Long Query Handling",
        "purpose": "验证长查询字符串是否能被正确处理",
        "args": {
          "query": "What are the most recent advancements in deep learning architectures for natural language processing tasks in 2025?"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.37089991569519043,
        "is_functional_test": true
      },
      {
        "case_name": "Security Test - Malformed Query Injection Attempt",
        "purpose": "验证工具对潜在注入攻击的防护能力",
        "args": {
          "query": "SELECT * FROM information_schema.tables WHERE table_schema = 'public'; DROP TABLE IF EXISTS users;"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.3730299472808838,
        "is_functional_test": false
      }
    ],
    "tavily_news_search": [
      {
        "case_name": "Basic News Search with Default Parameters",
        "purpose": "验证使用默认参数执行基本新闻搜索的功能是否正常",
        "args": {
          "query": "artificial intelligence"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 1.4339122772216797,
        "is_functional_test": true
      },
      {
        "case_name": "News Search with Time Limit Filter",
        "purpose": "验证带时间限制的新闻搜索功能是否按预期工作",
        "args": {
          "query": "climate change",
          "time_limit_days": 7
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.38461971282958984,
        "is_functional_test": true
      },
      {
        "case_name": "News Search Including Specific Sources",
        "purpose": "验证包含特定新闻来源的搜索功能是否生效",
        "args": {
          "query": "global economy",
          "include_sources": [
            "reuters.com",
            "bloomberg.com"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.3700542449951172,
        "is_functional_test": true
      },
      {
        "case_name": "News Search Excluding Specific Sources",
        "purpose": "验证排除特定新闻来源的搜索功能是否生效",
        "args": {
          "query": "technology trends",
          "exclude_sources": [
            "wikipedia.org",
            "cnn.com"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.3770718574523926,
        "is_functional_test": true
      },
      {
        "case_name": "News Search with Maximum Results",
        "purpose": "验证最大结果数参数（上限10）是否被正确处理",
        "args": {
          "query": "AI ethics",
          "max_results": 10
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.37030482292175293,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Query Input Handling",
        "purpose": "验证空查询输入时是否抛出ValueError异常",
        "args": {
          "query": ""
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: Query cannot be empty or contain only whitespace."
        },
        "execution_time": 0.004004240036010742,
        "is_functional_test": false
      },
      {
        "case_name": "Security Test - Malformed Query Injection Attempt",
        "purpose": "验证工具对潜在注入攻击的防护能力",
        "args": {
          "query": "SELECT * FROM information_schema.tables WHERE table_schema = 'public'; DROP TABLE IF EXISTS users;"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.3737165927886963,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters in Query Handling",
        "purpose": "验证特殊字符在搜索查询中的处理是否正确",
        "args": {
          "query": "C++ vs Python performance"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.37200498580932617,
        "is_functional_test": true
      }
    ]
  },
  "total_cases": 24
}