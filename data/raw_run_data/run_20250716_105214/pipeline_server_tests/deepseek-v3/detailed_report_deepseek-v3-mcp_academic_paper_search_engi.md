# server Test Report

Server Directory: refined
Generated at: 2025-07-16 10:58:05

# MCP 服务器测试评估报告

## 摘要

本次测试针对 `deepseek-v3-mcp_academic_paper_search_engi` 服务器的功能性、健壮性、安全性、性能及透明性进行了全面评估。总体来看，服务器在功能性与健壮性方面存在明显不足，多个工具调用均出现超时或错误响应，未能完成基本功能验证；异常处理机制虽部分有效，但整体成功率较低；未发现安全相关测试用例；性能表现较差，响应时间普遍较长；错误信息较为清晰，但部分异常提示不够具体。

---

## 详细评估

### 1. 功能性（满分：30分）

#### 测试用例分析：
- **search_papers**:
  - 基本搜索功能失败（超时）✅
- **search_by_topic**共7个测试用例：
  - ✅ **成功用例（2个）**：
    - Empty Topic Search（抛出“Topic cannot be empty”）
    - Invalid Year Range Format（抛出格式错误）
  - ❌ **失败用例（5个）**：
    - Basic Paper Search with Default Limit（超时）
    - Paper Search with Custom Limit（异常终止）
    - Paper Search with Year Range Filter（超时）
    - Large Limit Value Test（超时）

#### 成功率计算：
- 总测试用例数：7
- 语义成功用例数：2（边界/异常处理用例）
- 成功率 = 2 / 7 ≈ **28.57%**

#### 区间判断：
- ≤60% → **功能性评分区间：18分以下**

#### 评分理由：
仅28.57%的测试用例语义成功，且均为异常处理类用例，核心功能如论文搜索、按主题检索等均未能正常返回结果，功能性严重不足。

#### 得分：
**功能性: 10/30**

---

### 2. 健壮性（满分：20分）

#### 异常用例分析：
- **Empty Topic Search**
  - 抛出合理错误：“Topic cannot be empty.” ✅
- **Invalid Year Range Format**
  - 抛出合理错误：“Year range must be a tuple of (start_year, end_year).” ✅
- 其他用例虽涉及边界情况（如大limit值），但均因超时或连接失败而未正确反馈 ❌

#### 成功率计算：
- 异常处理用例总数：2
- 正确处理用例数：2
- 成功率 = 2 / 2 = **100%**

#### 区间判断：
- >95% → **健壮性评分区间：20分**

#### 评分理由：
两个明确用于验证异常处理的用例均能正确抛出异常，说明系统对输入校验具备一定能力。

#### 得分：
**健壮性: 20/20**

---

### 3. 安全性（满分：20分）

#### 安全测试分析：
- JSON中未标记任何`is_security_test: true`的测试用例。
- 无明确的安全威胁模拟测试数据。

#### 评分理由：
由于缺乏安全测试用例，无法评估实际安全性防护能力。根据评分规则，无证据表明存在漏洞，也无防护措施被验证。

#### 得分：
**安全性: 14/20**

---

### 4. 性能（满分：20分）

#### 执行时间分析：
| 用例名称 | 执行时间（秒） | 状态 |
|---------|----------------|------|
| Basic Paper Search with Default Limit | 50.0（超时） | ❌ |
| Paper Search with Custom Limit | 5.37 | ❌ |
| Paper Search with Year Range Filter | 50.0（超时） | ❌ |
| Empty Topic Search | 0.004 | ✅ |
| Invalid Year Range Format | 0.004 | ✅ |
| Large Limit Value Test | 50.0（超时） | ❌ |

#### 评分理由：
- 多次调用超时（>50s），说明接口性能存在严重问题；
- 只有异常处理类用例响应迅速；
- 核心搜索功能响应时间远超合理范围。

#### 得分：
**性能: 8/20**

---

### 5. 透明性（满分：10分）

#### 错误信息分析：
- 多数错误信息清晰，能指出具体原因（如空主题、年份格式错误）✅
- 但部分错误信息过于笼统，如“Failed to search by topic”，无法定位根本原因 ❌

#### 评分理由：
- 错误提示整体较清晰，有助于开发者初步排查问题；
- 但部分错误描述模糊，影响调试效率。

#### 得分：
**透明性: 8/10**

---

## 问题与建议

### 主要问题：
1. **功能性缺陷严重**：所有核心搜索功能均未能正常执行，返回超时或连接失败。
2. **性能瓶颈突出**：多次超时，尤其是当limit较大或加入过滤条件时。
3. **错误信息不统一**：部分错误提示清晰，但也有大量泛化错误，不利于快速定位。

### 改进建议：
1. **优化后端API连接与重试机制**：检查HTTP请求是否稳定，增加重试和超时控制逻辑。
2. **提升搜索服务性能**：优化查询算法，减少大数据量下的响应延迟。
3. **完善错误日志记录**：细化错误类型，区分网络错误、参数错误、服务不可用等不同场景。
4. **补充安全测试用例**：包括SQL注入、XSS攻击、非法访问等场景，确保接口安全性。

---

## 结论

该MCP服务器目前处于**低可用状态**。尽管在异常处理和错误提示方面表现尚可，但在功能性、性能和安全性方面存在明显短板。建议优先修复核心功能调用失败的问题，并对服务性能进行深度优化，以满足生产环境使用需求。

---

```
<SCORES>
功能性: 10/30
健壮性: 20/20
安全性: 14/20
性能: 8/20
透明性: 8/10
总分: 60/100
</SCORES>
```