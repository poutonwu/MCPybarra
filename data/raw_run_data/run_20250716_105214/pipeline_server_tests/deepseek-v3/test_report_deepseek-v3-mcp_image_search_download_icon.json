{
  "server_name": "server",
  "parent_dir": "refined",
  "report_name": "deepseek-v3-mcp_image_search_download_icon",
  "server_path": "workspace/pipeline-output-servers/deepseek-v3/mcp_image_search_download_icon/refined/server.py",
  "timestamp": "2025-07-16T10:58:07.356430",
  "tools": [
    {
      "name": "search_images",
      "description": "\n    Searches for images based on user-provided keywords across popular image sources.\n\n    Args:\n        keywords: The search query for images.\n        source: Specify the image source (e.g., \"unsplash\", \"pexels\", \"pixabay\"). Defaults to searching all sources.\n        max_results: Maximum number of results to return. Defaults to 5.\n\n    Returns:\n        A JSON string containing a list of dictionaries with image details.\n\n    Raises:\n        ValueError: If no API keys are configured for the specified source.\n        httpx.HTTPStatusError: If the API request fails.\n    ",
      "args_schema": {
        "properties": {
          "keywords": {
            "title": "Keywords",
            "type": "string"
          },
          "source": {
            "default": null,
            "title": "Source",
            "type": "string"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "keywords"
        ],
        "title": "search_imagesArguments",
        "type": "object"
      }
    },
    {
      "name": "download_image",
      "description": "\n    Downloads an image from a given URL and saves it to a specified directory.\n\n    Args:\n        image_url: URL of the image to download.\n        filename: Name to save the file as (excluding extension).\n        save_dir: Directory path to save the image. Defaults to \"./downloads\".\n\n    Returns:\n        A JSON string containing the save status and path information.\n\n    Raises:\n        httpx.HTTPStatusError: If the download request fails.\n        IOError: If the file cannot be saved.\n    ",
      "args_schema": {
        "properties": {
          "image_url": {
            "title": "Image Url",
            "type": "string"
          },
          "filename": {
            "title": "Filename",
            "type": "string"
          },
          "save_dir": {
            "default": "./downloads",
            "title": "Save Dir",
            "type": "string"
          }
        },
        "required": [
          "image_url",
          "filename"
        ],
        "title": "download_imageArguments",
        "type": "object"
      }
    },
    {
      "name": "generate_icon",
      "description": "\n    Generates an icon based on a user-provided description and saves it to a specified directory.\n\n    Args:\n        description: Text description of the desired icon.\n        size: Dimensions of the icon (e.g., \"64x64\"). Defaults to \"32x32\".\n        save_dir: Directory path to save the icon. Defaults to \"./icons\".\n\n    Returns:\n        A JSON string containing the save status and path information.\n\n    Raises:\n        IOError: If the file cannot be saved.\n    ",
      "args_schema": {
        "properties": {
          "description": {
            "title": "Description",
            "type": "string"
          },
          "size": {
            "default": "32x32",
            "title": "Size",
            "type": "string"
          },
          "save_dir": {
            "default": "./icons",
            "title": "Save Dir",
            "type": "string"
          }
        },
        "required": [
          "description"
        ],
        "title": "generate_iconArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "search_images": [
      {
        "case_name": "Basic Image Search with Default Parameters",
        "purpose": "验证使用默认参数的基本图像搜索功能是否正常工作。",
        "args": {
          "keywords": "nature"
        },
        "response": {
          "error": "ToolException: Error executing tool search_images: "
        },
        "execution_time": 5.006869077682495,
        "is_functional_test": true
      },
      {
        "case_name": "Image Search from Specific Source",
        "purpose": "验证从指定图像源（如 Unsplash）进行图像搜索的功能。",
        "args": {
          "keywords": "technology",
          "source": "unsplash"
        },
        "response": {
          "error": "ToolException: Error executing tool search_images: "
        },
        "execution_time": 5.006003141403198,
        "is_functional_test": true
      },
      {
        "case_name": "Image Search with Custom Max Results",
        "purpose": "验证设置最大返回结果数时的图像搜索功能。",
        "args": {
          "keywords": "animals",
          "max_results": 10
        },
        "response": {
          "result": "[{\"url\": \"https://images.unsplash.com/photo-1529778873920-4da4926a72c2?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxhbmltYWxzfGVufDB8fHx8MTc1MjYzNDcyNXww&ixlib=rb-4.1.0&q=80&w=1080\", \"author\": \"Edgar\", \"source\": \"unsplash\", \"license\": \"https://unsplash.com/@e_d_g_a_r\"}, {\"url\": \"https://images.unsplash.com/photo-1535268647677-300dbf3d78d1?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwyfHxhbmltYWxzfGVufDB8fHx8MTc1MjYzNDcyNXww&ixlib=rb-4.1.0&q=80&w=1080\", \"author\": \"Daniel Octavian\", \"source\": \"unsplash\", \"license\": \"https://unsplash.com/@danieloctavian\"}, {\"url\": \"https://images.unsplash.com/photo-1589656966895-2f33e7653819?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwzfHxhbmltYWxzfGVufDB8fHx8MTc1MjYzNDcyNXww&ixlib=rb-4.1.0&q=80&w=1080\", \"author\": \"Hans-Jurgen Mager\", \"source\": \"unsplash\", \"license\": \"https://unsplash.com/@hansjurgen007\"}, {\"url\": \"https://images.unsplash.com/photo-1591824438708-ce405f36ba3d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHw0fHxhbmltYWxzfGVufDB8fHx8MTc1MjYzNDcyNXww&ixlib=rb-4.1.0&q=80&w=1080\", \"author\": \"Hans-Jurgen Mager\", \"source\": \"unsplash\", \"license\": \"https://unsplash.com/@hansjurgen007\"}, {\"url\": \"https://images.unsplash.com/photo-1574870111867-089730e5a72b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHw1fHxhb...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计7959字符，剩余6559字符"
        },
        "execution_time": 4.150832414627075,
        "is_functional_test": true
      },
      {
        "case_name": "Search with Empty Keywords",
        "purpose": "验证当关键词为空时工具是否能正确处理错误输入。",
        "args": {
          "keywords": ""
        },
        "response": {
          "error": "ToolException: Error executing tool search_images: Client error '400 Bad Request' for url 'https://api.unsplash.com/search/photos?query=&per_page=5'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400"
        },
        "execution_time": 0.296170711517334,
        "is_functional_test": false
      },
      {
        "case_name": "Search with Invalid Source",
        "purpose": "验证当指定不存在或未配置的图像源时是否抛出适当错误。",
        "args": {
          "keywords": "cars",
          "source": "invalid_source"
        },
        "response": {
          "result": "[]"
        },
        "execution_time": 0.0038383007049560547,
        "is_functional_test": false
      },
      {
        "case_name": "Search with Maximum Results Set to Zero",
        "purpose": "验证当 max_results 设置为最小边界值 0 时的行为。",
        "args": {
          "keywords": "landscape",
          "max_results": 0
        },
        "response": {
          "error": "ToolException: Error executing tool search_images: Client error '400 Bad Request' for url 'https://pixabay.com/api/?key=REDACTED_SECRET&q=landscape&per_page=0'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400"
        },
        "execution_time": 1.6859338283538818,
        "is_functional_test": false
      },
      {
        "case_name": "Search with Special Characters in Keywords",
        "purpose": "验证包含特殊字符的关键词是否被正确处理。",
        "args": {
          "keywords": "café !@#$%^&*()"
        },
        "response": {
          "result": "[{\"url\": \"https://images.unsplash.com/photo-1556742517-fde6c2abbe11?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MXwxfHNlYXJjaHwxfHxjYWYlQzMlQTklMjAlMjElNDB8ZW58MHx8fHwxNzUyNjM0NzI5fDA&ixlib=rb-4.1.0&q=80&w=1080\", \"author\": \"Nathan Dumlao\", \"source\": \"unsplash\", \"license\": \"https://unsplash.com/@nate_dumlao\"}, {\"url\": \"https://images.unsplash.com/photo-1658879627289-8aa97ff47359?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwyfHxjYWYlQzMlQTklMjAlMjElNDB8ZW58MHx8fHwxNzUyNjM0NzI5fDA&ixlib=rb-4.1.0&q=80&w=1080\", \"author\": \"Arthur A\", \"source\": \"unsplash\", \"license\": \"https://unsplash.com/@americanaez225\"}, {\"url\": \"https://images.unsplash.com/photo-1652583055028-321a87a71855?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwzfHxjYWYlQzMlQTklMjAlMjElNDB8ZW58MHx8fHwxNzUyNjM0NzI5fDA&ixlib=rb-4.1.0&q=80&w=1080\", \"author\": \"Bunly Hort\", \"source\": \"unsplash\", \"license\": \"https://unsplash.com/@bunly1998\"}, {\"url\": \"https://images.unsplash.com/photo-1633073623899-476ecaec59c4?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHw0fHxjYWYlQzMlQTklMjAlMjElNDB8ZW58MHx8fHwxNzUyNjM0NzI5fDA&ixlib=rb-4.1.0&q=80&w=1080\", \"author\": \"Takafumi Yamashita\", \"source\": \"unsplash\", \"license\": \"https://unsplash.com/@yamashita0129\"}, {\"url\": \"https://images.unsplash.com/photo-1616925648221-304fbc356503?crop=entropy&cs=tinysrgb&fit...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计12079字符，剩余10679字符"
        },
        "execution_time": 1.7710638046264648,
        "is_functional_test": true
      },
      {
        "case_name": "Unauthorized Access Due to Missing API Key",
        "purpose": "验证在未配置指定来源API密钥时是否抛出 ValueError。",
        "args": {
          "keywords": "architecture",
          "source": "pexels"
        },
        "response": {
          "result": "[{\"url\": \"https://images.pexels.com/photos/262367/pexels-photo-262367.jpeg\", \"author\": \"Pixabay\", \"source\": \"pexels\", \"license\": \"https://www.pexels.com/photo/grayscale-photography-of-bridge-262367/\"}, {\"url\": \"https://images.pexels.com/photos/1109541/pexels-photo-1109541.jpeg\", \"author\": \"Lex Photography\", \"source\": \"pexels\", \"license\": \"https://www.pexels.com/photo/person-holding-black-pen-1109541/\"}, {\"url\": \"https://images.pexels.com/photos/911738/pexels-photo-911738.jpeg\", \"author\": \"gdtography\", \"source\": \"pexels\", \"license\": \"https://www.pexels.com/photo/white-textile-911738/\"}, {\"url\": \"https://images.pexels.com/photos/911758/pexels-photo-911758.jpeg\", \"author\": \"gdtography\", \"source\": \"pexels\", \"license\": \"https://www.pexels.com/photo/long-exposure-photography-white-dome-building-interior-911758/\"}, {\"url\": \"https://images.pexels.com/photos/1774931/pexels-photo-1774931.jpeg\", \"author\": \"Luis  Ruiz\", \"source\": \"pexels\", \"license\": \"https://www.pexels.com/photo/modern-architecture-1774931/\"}]"
        },
        "execution_time": 1.1087017059326172,
        "is_functional_test": false
      }
    ],
    "download_image": [
      {
        "case_name": "Download Image with Missing URL Parameter",
        "purpose": "验证缺少必要参数 image_url 时是否能正确处理错误输入。",
        "args": {
          "filename": "missing_url_image"
        },
        "response": {
          "error": "ToolException: Error executing tool download_image: 1 validation error for download_imageArguments\nimage_url\n  Field required [type=missing, input_value={'filename': 'missing_url_image'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing"
        },
        "execution_time": 0.0040171146392822266,
        "is_functional_test": false
      }
    ],
    "generate_icon": [
      {
        "case_name": "Basic Icon Generation with Default Parameters",
        "purpose": "验证使用默认参数生成图标的最基本功能是否正常工作。",
        "args": {
          "description": "a simple gear icon"
        },
        "response": {
          "result": "{\"status\": \"success\", \"path\": \"./icons\\\\icon_a_simple_gear_icon.png\"}"
        },
        "execution_time": 0.015026330947875977,
        "is_functional_test": true
      },
      {
        "case_name": "Icon Generation with Custom Size",
        "purpose": "验证自定义尺寸（64x64）的图标生成功能是否正常。",
        "args": {
          "description": "a cloud icon",
          "size": "64x64"
        },
        "response": {
          "result": "{\"status\": \"success\", \"path\": \"./icons\\\\icon_a_cloud_icon.png\"}"
        },
        "execution_time": 0.005999565124511719,
        "is_functional_test": true
      },
      {
        "case_name": "Icon Generation to Custom Directory",
        "purpose": "验证将图标保存到指定目录的功能是否正常。",
        "args": {
          "description": "a star icon",
          "save_dir": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\icons_custom"
        },
        "response": {
          "result": "{\"status\": \"success\", \"path\": \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\icons_custom\\\\icon_a_star_icon.png\"}"
        },
        "execution_time": 0.004012346267700195,
        "is_functional_test": true
      },
      {
        "case_name": "Icon Generation with Invalid Save Directory",
        "purpose": "验证当指定的保存目录无效或不可写时，工具是否能正确处理错误。",
        "args": {
          "description": "a warning sign icon",
          "save_dir": "D:\\invalid\\nonexistent\\directory"
        },
        "response": {
          "result": "{\"status\": \"success\", \"path\": \"D:\\\\invalid\\\\nonexistent\\\\directory\\\\icon_a_warning_sign_icon.png\"}"
        },
        "execution_time": 0.005001544952392578,
        "is_functional_test": false
      },
      {
        "case_name": "Icon Generation with Empty Description",
        "purpose": "验证空描述输入时是否能正确抛出参数验证错误。",
        "args": {
          "description": ""
        },
        "response": {
          "result": "{\"status\": \"success\", \"path\": \"./icons\\\\icon_.png\"}"
        },
        "execution_time": 0.004323005676269531,
        "is_functional_test": false
      },
      {
        "case_name": "Icon Generation with Special Characters in Description",
        "purpose": "验证包含特殊字符的描述是否被正确处理。",
        "args": {
          "description": "an icon with symbols !@#$%^&*() and emojis 😄🚀"
        },
        "response": {
          "result": "{\"status\": \"success\", \"path\": \"./icons\\\\icon_an_icon_with_symbols__and_emojis.png\"}"
        },
        "execution_time": 0.0050008296966552734,
        "is_functional_test": true
      },
      {
        "case_name": "Icon Generation with Minimum Size Value",
        "purpose": "验证最小支持尺寸（如16x16）是否能成功生成图标。",
        "args": {
          "description": "a small checkmark icon",
          "size": "16x16"
        },
        "response": {
          "result": "{\"status\": \"success\", \"path\": \"./icons\\\\icon_a_small_checkmark_icon.png\"}"
        },
        "execution_time": 0.004025459289550781,
        "is_functional_test": true
      },
      {
        "case_name": "Icon Generation with Very Long Description",
        "purpose": "验证极长文本描述是否能被工具处理并生成图标。",
        "args": {
          "description": "A detailed description of a futuristic spaceship with glowing engines, metallic surface, solar panels, and observation deck."
        },
        "response": {
          "result": "{\"status\": \"success\", \"path\": \"./icons\\\\icon_A_detailed_description_of_a_futuristic_spaceship_with_glowing_engines_metallic_surface_solar_panels_and_observation_deck.png\"}"
        },
        "execution_time": 0.004000186920166016,
        "is_functional_test": true
      }
    ]
  },
  "total_cases": 17
}