{
  "server_name": "server",
  "parent_dir": "mcp_search_images-main",
  "report_name": "mcp_search_images-main-server",
  "server_path": "workspace\\public-mcp-servers\\mcp_search_images-main\\server.py",
  "timestamp": "2025-06-30T21:50:34.309987",
  "tools": [
    {
      "name": "search_images",
      "description": "搜索图片\n    \n    Args:\n        query: 图片搜索关键词\n        source: 图片来源 (unsplash, pexels, pixabay)\n        max_results: 最大返回结果数量，可以是字符串形式的数字\n        \n    Returns:\n        str: 包含搜索结果的JSON字符串\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "source": {
            "default": "unsplash",
            "title": "Source",
            "type": "string"
          },
          "max_results": {
            "default": "10",
            "title": "Max Results",
            "type": "string"
          }
        },
        "required": [
          "query"
        ],
        "title": "search_imagesArguments",
        "type": "object"
      }
    },
    {
      "name": "download_image",
      "description": "下载图片\n    \n    Args:\n        url: 图片URL\n        file_name: 保存的文件名\n        save_folder: 保存目录路径（必须是绝对路径，例如：/Users/username/projects/mcp_search_images/icons）\n        \n    Returns:\n        str: 包含下载结果的JSON字符串\n    ",
      "args_schema": {
        "properties": {
          "url": {
            "title": "Url",
            "type": "string"
          },
          "file_name": {
            "title": "File Name",
            "type": "string"
          },
          "save_folder": {
            "default": null,
            "title": "Save Folder",
            "type": "string"
          }
        },
        "required": [
          "url",
          "file_name"
        ],
        "title": "download_imageArguments",
        "type": "object"
      }
    },
    {
      "name": "generate_icon",
      "description": "生成图标\n    \n    Args:\n        prompt: 图标生成提示词\n        file_name: 保存的文件名\n        save_folder: 保存目录路径（必须是绝对路径，例如：/Users/username/projects/mcp_search_images/icons）\n        width: 生成图标的宽度(可选)\n        height: 生成图标的高度(可选)\n        \n    Returns:\n        str: 包含生成结果的JSON字符串\n    ",
      "args_schema": {
        "properties": {
          "prompt": {
            "title": "Prompt",
            "type": "string"
          },
          "file_name": {
            "title": "File Name",
            "type": "string"
          },
          "save_folder": {
            "default": null,
            "title": "Save Folder",
            "type": "string"
          },
          "width": {
            "default": null,
            "title": "Width",
            "type": "integer"
          },
          "height": {
            "default": null,
            "title": "Height",
            "type": "integer"
          }
        },
        "required": [
          "prompt",
          "file_name"
        ],
        "title": "generate_iconArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "search_images": [
      {
        "case_name": "基本功能测试 - 默认参数搜索",
        "purpose": "验证使用默认 source 和 max_results 的图片搜索功能是否正常",
        "args": {
          "query": "nature"
        },
        "response": {
          "result": "{\"results\": [{\"id\": \"IicyiaPYGGI\", \"url\": \"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxuYXR1cmV8ZW58MHx8fHwxNzUxMjkxNDU4fDA&ixlib=rb-4.1.0&q=80&w=400\", \"thumb\": \"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxuYXR1cmV8ZW58MHx8fHwxNzUxMjkxNDU4fDA&ixlib=rb-4.1.0&q=80&w=200\", \"source\": \"unsplash\", \"author\": \"Henry Be\", \"download_url\": \"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxuYXR1cmV8ZW58MHx8fHwxNzUxMjkxNDU4fDA&ixlib=rb-4.1.0\"}, {\"id\": \"EwKXn5CapA4\", \"url\": \"https://images.unsplash.com/photo-1518495973542-4542c06a5843?crop=entropy&cs=tinysrgb&fit=max&fm=jpg...[截断]，共计6630字符，剩余5830字符"
        },
        "execution_time": 0.9639065265655518,
        "is_security_test": false
      },
      {
        "case_name": "基本功能测试 - 指定来源和结果数量",
        "purpose": "验证指定 source 和 max_results 的搜索功能是否返回正确数量的结果",
        "args": {
          "query": "technology",
          "source": "pexels",
          "max_results": "5"
        },
        "response": {
          "result": "{\"results\": [{\"id\": 546819, \"url\": \"https://images.pexels.com/photos/546819/pexels-photo-546819.jpeg?auto=compress&cs=tinysrgb&h=350\", \"thumb\": \"https://images.pexels.com/photos/546819/pexels-photo-546819.jpeg?auto=compress&cs=tinysrgb&h=130\", \"source\": \"pexels\", \"author\": \"luis gomes\", \"download_url\": \"https://images.pexels.com/photos/546819/pexels-photo-546819.jpeg\"}, {\"id\": 356056, \"url\": \"https://images.pexels.com/photos/356056/pexels-photo-356056.jpeg?auto=compress&cs=tinysrgb&h=350\", \"thumb\": \"https://images.pexels.com/photos/356056/pexels-photo-356056.jpeg?auto=compress&cs=tinysrgb&h=130\", \"source\": \"pexels\", \"author\": \"Pixabay\", \"download_url\": \"https://images.pexels.com/photos/356056/pexels-photo-356056.jpeg\"}, {\"id\": 1148820, \"url\": \"https://images.pexels.com/photos/1148820/pexel...[截断]，共计1882字符，剩余1082字符"
        },
        "execution_time": 1.6853446960449219,
        "is_security_test": false
      },
      {
        "case_name": "基本功能测试 - 多关键词组合搜索",
        "purpose": "验证多个关键词组成的查询是否能正确处理",
        "args": {
          "query": "sunset beach vacation",
          "source": "pixabay",
          "max_results": "8"
        },
        "response": {
          "result": "{\"results\": [{\"id\": 1761410, \"url\": \"https://pixabay.com/get/g4552c51a6f77b33897bb908b5325ecb01392315bb5868c4e095628106f357710bdc3cfb11ba77b19b17988fc8ab09dbd2846ea9a36ae709ccbf7c03865f576b4_640.jpg\", \"thumb\": \"https://cdn.pixabay.com/photo/2016/10/22/18/52/beach-1761410_150.jpg\", \"source\": \"pixabay\", \"author\": \"Walkerssk\", \"download_url\": \"https://pixabay.com/get/gc197fd83c49d374f04b9b8a5672e297929353ac51f499d93b01d3d7423ebd8956e2d1a72fe9dc7a6d6b42f5ae658f6ff7af728232c2bdbff04e83d22dc16db07_1280.jpg\"}, {\"id\": 6990822, \"url\": \"https://pixabay.com/get/gefc18f0e2d3f25b6551a0ac7ad3c411f724b519ff75f23ed477de5c21a5d1d06d3b843164592256e6f8968113995aadeca1286012b7f0700bf03441db2a294e4_640.jpg\", \"thumb\": \"https://cdn.pixabay.com/photo/2022/02/03/17/16/sunset-6990822_150.jpg\", \"source\": \"pixabay\", ...[截断]，共计3974字符，剩余3174字符"
        },
        "execution_time": 0.951113224029541,
        "is_security_test": false
      },
      {
        "case_name": "边界条件测试 - 最小结果数量",
        "purpose": "验证当 max_results 设置为最小值 '1' 时，工具是否正常处理",
        "args": {
          "query": "mountain",
          "source": "unsplash",
          "max_results": "1"
        },
        "response": {
          "result": "{\"results\": [{\"id\": \"YFFGkE3y4F8\", \"url\": \"https://images.unsplash.com/photo-1480497490787-505ec076689f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxtb3VudGFpbnxlbnwwfHx8fDE3NTEyOTE0NjJ8MA&ixlib=rb-4.1.0&q=80&w=400\", \"thumb\": \"https://images.unsplash.com/photo-1480497490787-505ec076689f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxtb3VudGFpbnxlbnwwfHx8fDE3NTEyOTE0NjJ8MA&ixlib=rb-4.1.0&q=80&w=200\", \"source\": \"unsplash\", \"author\": \"Tim Stief\", \"download_url\": \"https://images.unsplash.com/photo-1480497490787-505ec076689f?ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxtb3VudGFpbnxlbnwwfHx8fDE3NTEyOTE0NjJ8MA&ixlib=rb-4.1.0\"}]}"
        },
        "execution_time": 1.3355975151062012,
        "is_security_test": false
      },
      {
        "case_name": "边界条件测试 - 最大结果数量限制",
        "purpose": "验证当 max_results 设置为较大值时是否会超出系统限制（假设最大支持100）",
        "args": {
          "query": "city night",
          "source": "pexels",
          "max_results": "100"
        },
        "response": {
          "result": "{\"results\": [{\"id\": 2129796, \"url\": \"https://images.pexels.com/photos/2129796/pexels-photo-2129796.png?auto=compress&cs=tinysrgb&h=350\", \"thumb\": \"https://images.pexels.com/photos/2129796/pexels-photo-2129796.png?auto=compress&cs=tinysrgb&h=130\", \"source\": \"pexels\", \"author\": \"David Skyrius\", \"download_url\": \"https://images.pexels.com/photos/2129796/pexels-photo-2129796.png\"}, {\"id\": 219692, \"url\": \"https://images.pexels.com/photos/219692/pexels-photo-219692.jpeg?auto=compress&cs=tinysrgb&h=350\", \"thumb\": \"https://images.pexels.com/photos/219692/pexels-photo-219692.jpeg?auto=compress&cs=tinysrgb&h=130\", \"source\": \"pexels\", \"author\": \"Pixabay\", \"download_url\": \"https://images.pexels.com/photos/219692/pexels-photo-219692.jpeg\"}, {\"id\": 169647, \"url\": \"https://images.pexels.com/photos/169647/...[截断]，共计7302字符，剩余6502字符"
        },
        "execution_time": 1.3311307430267334,
        "is_security_test": false
      },
      {
        "case_name": "错误处理测试 - 空查询",
        "purpose": "验证空 query 参数是否被正确处理或抛出错误",
        "args": {
          "query": "",
          "source": "pixabay",
          "max_results": "5"
        },
        "response": {
          "result": "{\"results\": [{\"id\": 9684521, \"url\": \"https://pixabay.com/get/g49b72139b952ff5dbe2aeb3853f2ebfeda30b9dfe5e187d0d2981696b9e94e1ed9cb234b26c315b290b2defa68ccd820ad62f319fe2816370d858c1c00b94e36_640.jpg\", \"thumb\": \"https://cdn.pixabay.com/photo/2025/06/27/22/44/butterfly-9684521_150.jpg\", \"source\": \"pixabay\", \"author\": \"anselmo7511\", \"download_url\": \"https://pixabay.com/get/g3690e084d890580c642d9bae926709dd588acda8a4488e2b834b202576000fb2cbfc04dace5255ce71babf657b33c6a4ed91ab12d5849c6e8d221bf739633345_1280.jpg\"}, {\"id\": 9681209, \"url\": \"https://pixabay.com/get/g8266aaa9985d2154ab8184337203dbdcef8c3dbd3e8ee9efae2b44327130b274ba1c7161fcef736a385adb21b215defefdaa4e7a9dd4f0d0aa4000e4a7d4b143_640.jpg\", \"thumb\": \"https://cdn.pixabay.com/photo/2025/06/26/05/41/australian-pelican-9681209_150.jpg\", \"so...[截断]，共计2523字符，剩余1723字符"
        },
        "execution_time": 0.904292106628418,
        "is_security_test": false
      },
      {
        "case_name": "错误处理测试 - 不合法的 source",
        "purpose": "验证当提供不支持的 source 值时是否能正确识别并报错",
        "args": {
          "query": "car",
          "source": "invalid_source",
          "max_results": "5"
        },
        "response": {
          "result": "{\"error\": \"\\u4e0d\\u652f\\u6301\\u7684\\u56fe\\u7247\\u6e90: invalid_source. \\u652f\\u6301\\u7684\\u9009\\u9879: unsplash, pexels, pixabay\"}"
        },
        "execution_time": 0.003999948501586914,
        "is_security_test": false
      },
      {
        "case_name": "错误处理测试 - 非数字 max_results",
        "purpose": "验证非数字字符串作为 max_results 是否能正确处理或报错",
        "args": {
          "query": "dog",
          "source": "unsplash",
          "max_results": "five"
        },
        "response": {
          "result": "{\"error\": \"max_results\\u5fc5\\u987b\\u662f\\u6570\\u5b57\"}"
        },
        "execution_time": 0.003999948501586914,
        "is_security_test": false
      },
      {
        "case_name": "安全性测试 - 特殊字符注入测试",
        "purpose": "验证查询中包含特殊字符是否会被错误处理或引发异常",
        "args": {
          "query": "test image!@#$%^&*()",
          "source": "pexels",
          "max_results": "3"
        },
        "response": {
          "result": "{\"results\": [{\"id\": 7089047, \"url\": \"https://images.pexels.com/photos/7089047/pexels-photo-7089047.jpeg?auto=compress&cs=tinysrgb&h=350\", \"thumb\": \"https://images.pexels.com/photos/7089047/pexels-photo-7089047.jpeg?auto=compress&cs=tinysrgb&h=130\", \"source\": \"pexels\", \"author\": \"MART  PRODUCTION\", \"download_url\": \"https://images.pexels.com/photos/7089047/pexels-photo-7089047.jpeg\"}, {\"id\": 7089623, \"url\": \"https://images.pexels.com/photos/7089623/pexels-photo-7089623.jpeg?auto=compress&cs=tinysrgb&h=350\", \"thumb\": \"https://images.pexels.com/photos/7089623/pexels-photo-7089623.jpeg?auto=compress&cs=tinysrgb&h=130\", \"source\": \"pexels\", \"author\": \"MART  PRODUCTION\", \"download_url\": \"https://images.pexels.com/photos/7089623/pexels-photo-7089623.jpeg\"}, {\"id\": 7089333, \"url\": \"https://images.pe...[截断]，共计1132字符，剩余332字符"
        },
        "execution_time": 1.6128437519073486,
        "is_security_test": false
      }
    ],
    "download_image": [
      {
        "case_name": "基本功能测试 - 成功下载图片",
        "purpose": "验证工具能够正确从有效URL下载图片并保存为指定文件名",
        "args": {
          "url": "https://httpbin.org/image/jpeg",
          "file_name": "test_image.jpg"
        },
        "response": {
          "result": "{\"success\": true, \"message\": \"\\u56fe\\u7247\\u5df2\\u4fdd\\u5b58\\u5230: D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\public-mcp-servers\\\\mcp_search_images-main\\\\icons\\\\test_image.jpg\", \"file_path\": \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\public-mcp-servers\\\\mcp_search_images-main\\\\icons\\\\test_image.jpg\"}"
        },
        "execution_time": 4.448371648788452,
        "is_security_test": false
      },
      {
        "case_name": "基本功能测试 - 自定义保存目录",
        "purpose": "验证工具能将图片保存到指定的绝对路径目录中",
        "args": {
          "url": "https://httpbin.org/image/png",
          "file_name": "custom_dir_image.png",
          "save_folder": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles"
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u4e0b\\u8f7d\\u56fe\\u7247\\u5931\\u8d25\\uff0cHTTP\\u72b6\\u6001\\u7801: 503\"}"
        },
        "execution_time": 1.7065455913543701,
        "is_security_test": false
      },
      {
        "case_name": "边界条件测试 - 下载零字节文件",
        "purpose": "验证工具在遇到空文件（0字节）时是否能正确处理",
        "args": {
          "url": "https://httpbin.org/response-headers?Content-Length=0",
          "file_name": "zero_byte_file.txt"
        },
        "response": {
          "result": "{\"error\": \"\\u4e0d\\u652f\\u6301\\u7684\\u6587\\u4ef6\\u6269\\u5c55\\u540d: .txt. \\u652f\\u6301\\u7684\\u6269\\u5c55\\u540d: .png, .jpg, .jpeg, .svg\"}"
        },
        "execution_time": 0.02500629425048828,
        "is_security_test": false
      },
      {
        "case_name": "错误处理测试 - 无效或不可访问的URL",
        "purpose": "验证当提供一个无效或无法访问的URL时，工具是否能正确报错",
        "args": {
          "url": "https://httpbin.org/status/404",
          "file_name": "error_404_image.jpg"
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u4e0b\\u8f7d\\u56fe\\u7247\\u5931\\u8d25\\uff0cHTTP\\u72b6\\u6001\\u7801: 503\"}"
        },
        "execution_time": 1.6478016376495361,
        "is_security_test": false
      },
      {
        "case_name": "错误处理测试 - 缺少必填参数 'url'",
        "purpose": "验证缺少必须参数 'url' 时是否能正确抛出错误",
        "args": {
          "file_name": "missing_url_image.jpg"
        },
        "response": {
          "error": "ToolException: Error executing tool download_image: 1 validation error for download_imageArguments\nurl\n  Field required [type=missing, input_value={'file_name': 'missing_url_image.jpg'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing"
        },
        "execution_time": 0.014000654220581055,
        "is_security_test": false
      },
      {
        "case_name": "错误处理测试 - 缺少必填参数 'file_name'",
        "purpose": "验证缺少必须参数 'file_name' 时是否能正确抛出错误",
        "args": {
          "url": "https://httpbin.org/image/jpeg"
        },
        "response": {
          "error": "ToolException: Error executing tool download_image: 1 validation error for download_imageArguments\nfile_name\n  Field required [type=missing, input_value={'url': 'https://httpbin.org/image/jpeg'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing"
        },
        "execution_time": 0.013001680374145508,
        "is_security_test": false
      },
      {
        "case_name": "安全性测试 - URL注入尝试",
        "purpose": "验证工具是否对URL进行安全检查以防止本地文件路径覆盖等攻击行为",
        "args": {
          "url": "file:///C:/Windows/System32/notepad.exe",
          "file_name": "malicious_attempt.txt"
        },
        "response": {
          "result": "{\"error\": \"\\u4e0d\\u652f\\u6301\\u7684\\u6587\\u4ef6\\u6269\\u5c55\\u540d: .txt. \\u652f\\u6301\\u7684\\u6269\\u5c55\\u540d: .png, .jpg, .jpeg, .svg\"}"
        },
        "execution_time": 0.013515472412109375,
        "is_security_test": true
      },
      {
        "case_name": "安全性测试 - 文件名路径穿越尝试",
        "purpose": "验证工具是否对文件名进行过滤以防止路径穿越攻击",
        "args": {
          "url": "https://httpbin.org/image/jpeg",
          "file_name": "..\\malicious_image.jpg"
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u4e0b\\u8f7d\\u56fe\\u7247\\u5931\\u8d25\\uff0cHTTP\\u72b6\\u6001\\u7801: 503\"}"
        },
        "execution_time": 1.7063210010528564,
        "is_security_test": false
      },
      {
        "case_name": "边界条件测试 - 极长文件名",
        "purpose": "验证工具是否支持极长的文件名（例如255字符以上）",
        "args": {
          "url": "https://httpbin.org/image/jpeg",
          "file_name": "a_very_long_file_name_that_has_more_than_two_hundred_and_fifty_five_characters_to_test_the_limitation_of_the_operating_system_or_application_for_saving_files_with_extra_long_names.jpg"
        },
        "response": {
          "result": "{\"success\": true, \"message\": \"\\u56fe\\u7247\\u5df2\\u4fdd\\u5b58\\u5230: D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\public-mcp-servers\\\\mcp_search_images-main\\\\icons\\\\a_very_long_file_name_that_has_more_than_two_hundred_and_fifty_five_characters_to_test_the_limitation_of_the_operating_system_or_application_for_saving_files_with_extra_long_names.jpg\", \"file_path\": \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\public-mcp-servers\\\\mcp_search_images-main\\\\icons\\\\a_very_long_file_name_that_has_more_than_two_hundred_and_fifty_five_characters_to_test_the_limitation_of_the_operating_system_or_application_for_saving_files_with_extra_long_names.jpg\"}"
        },
        "execution_time": 5.293730020523071,
        "is_security_test": false
      },
      {
        "case_name": "安全性测试 - 下载可执行文件伪装成图片",
        "purpose": "验证工具是否允许下载非图片类型的可执行文件（如exe、bat等）",
        "args": {
          "url": "https://httpbin.org/get?file=test.exe",
          "file_name": "test.exe"
        },
        "response": {
          "result": "{\"error\": \"\\u4e0d\\u652f\\u6301\\u7684\\u6587\\u4ef6\\u6269\\u5c55\\u540d: .exe. \\u652f\\u6301\\u7684\\u6269\\u5c55\\u540d: .png, .jpg, .jpeg, .svg\"}"
        },
        "execution_time": 0.030004024505615234,
        "is_security_test": false
      },
      {
        "case_name": "基本功能测试 - 下载已存在同名文件",
        "purpose": "验证工具在目标路径已有相同文件名时是否会覆盖或正确处理",
        "args": {
          "url": "https://httpbin.org/image/jpeg",
          "file_name": "mas.png",
          "save_folder": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles"
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u4e0b\\u8f7d\\u56fe\\u7247\\u5931\\u8d25\\uff0cHTTP\\u72b6\\u6001\\u7801: 503\"}"
        },
        "execution_time": 2.1023685932159424,
        "is_security_test": false
      },
      {
        "case_name": "错误处理测试 - 非法保存路径",
        "purpose": "验证当提供的 save_folder 路径不存在或无写入权限时是否能正确报错",
        "args": {
          "url": "https://httpbin.org/image/jpeg",
          "file_name": "invalid_path_image.jpg",
          "save_folder": "D:\\invalid\\nonexistent\\folder"
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u4e0b\\u8f7d\\u56fe\\u7247\\u5931\\u8d25\\uff0cHTTP\\u72b6\\u6001\\u7801: 503\"}"
        },
        "execution_time": 1.7722647190093994,
        "is_security_test": false
      }
    ],
    "generate_icon": [
      {
        "case_name": "基本功能测试 - 使用默认尺寸生成图标",
        "purpose": "验证工具在未指定宽度和高度时使用默认值生成图标",
        "args": {
          "prompt": "nature landscape",
          "file_name": "default_icon.png",
          "save_folder": "/Users/username/projects/mcp_search_images/icons"
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u751f\\u6210\\u56fe\\u6807\\u65f6\\u53d1\\u751f\\u9519\\u8bef: 'latin-1' codec can't encode characters in position 7-8: ordinal not in range(256)\"}"
        },
        "execution_time": 0.46965575218200684,
        "is_security_test": false
      },
      {
        "case_name": "基本功能测试 - 自定义尺寸生成图标",
        "purpose": "验证工具能根据指定的宽度和高度生成图标",
        "args": {
          "prompt": "technology concept",
          "file_name": "custom_size_icon.jpg",
          "save_folder": "/Users/username/projects/mcp_search_images/icons",
          "width": 128,
          "height": 128
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u751f\\u6210\\u56fe\\u6807\\u65f6\\u53d1\\u751f\\u9519\\u8bef: 'latin-1' codec can't encode characters in position 7-8: ordinal not in range(256)\"}"
        },
        "execution_time": 0.4496142864227295,
        "is_security_test": false
      },
      {
        "case_name": "边界条件测试 - 最小有效尺寸",
        "purpose": "验证工具对最小合法尺寸的支持情况",
        "args": {
          "prompt": "abstract design",
          "file_name": "min_size_icon.png",
          "save_folder": "/Users/username/projects/mcp_search_images/icons",
          "width": 16,
          "height": 16
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u751f\\u6210\\u56fe\\u6807\\u65f6\\u53d1\\u751f\\u9519\\u8bef: 'latin-1' codec can't encode characters in position 7-8: ordinal not in range(256)\"}"
        },
        "execution_time": 0.4123830795288086,
        "is_security_test": false
      },
      {
        "case_name": "边界条件测试 - 最大支持尺寸",
        "purpose": "验证工具对最大支持尺寸的处理能力（假设为1024）",
        "args": {
          "prompt": "digital art",
          "file_name": "max_size_icon.png",
          "save_folder": "/Users/username/projects/mcp_search_images/icons",
          "width": 1024,
          "height": 1024
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u751f\\u6210\\u56fe\\u6807\\u65f6\\u53d1\\u751f\\u9519\\u8bef: 'latin-1' codec can't encode characters in position 7-8: ordinal not in range(256)\"}"
        },
        "execution_time": 0.4486398696899414,
        "is_security_test": false
      },
      {
        "case_name": "错误处理测试 - 缺少必填参数 prompt",
        "purpose": "验证缺少 prompt 参数时是否抛出正确错误",
        "args": {
          "file_name": "missing_prompt_icon.png",
          "save_folder": "/Users/username/projects/mcp_search_images/icons"
        },
        "response": {
          "error": "ToolException: Error executing tool generate_icon: 1 validation error for generate_iconArguments\nprompt\n  Field required [type=missing, input_value={'file_name': 'missing_pr...cp_search_images/icons'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing"
        },
        "execution_time": 0.012181997299194336,
        "is_security_test": false
      },
      {
        "case_name": "错误处理测试 - 缺少必填参数 file_name",
        "purpose": "验证缺少 file_name 参数时是否抛出正确错误",
        "args": {
          "prompt": "cloud computing",
          "save_folder": "/Users/username/projects/mcp_search_images/icons"
        },
        "response": {
          "error": "ToolException: Error executing tool generate_icon: 1 validation error for generate_iconArguments\nfile_name\n  Field required [type=missing, input_value={'prompt': 'cloud computi...cp_search_images/icons'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing"
        },
        "execution_time": 0.010998964309692383,
        "is_security_test": false
      },
      {
        "case_name": "错误处理测试 - 非法宽度值",
        "purpose": "验证负数作为宽度参数时是否被正确处理",
        "args": {
          "prompt": "cybersecurity",
          "file_name": "negative_width_icon.png",
          "save_folder": "/Users/username/projects/mcp_search_images/icons",
          "width": -64,
          "height": 64
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u751f\\u6210\\u56fe\\u6807\\u65f6\\u53d1\\u751f\\u9519\\u8bef: 'latin-1' codec can't encode characters in position 7-8: ordinal not in range(256)\"}"
        },
        "execution_time": 0.43456101417541504,
        "is_security_test": false
      },
      {
        "case_name": "错误处理测试 - 非法高度值",
        "purpose": "验证零或负数作为高度参数时是否被正确处理",
        "args": {
          "prompt": "blockchain",
          "file_name": "zero_height_icon.png",
          "save_folder": "/Users/username/projects/mcp_search_images/icons",
          "width": 64,
          "height": 0
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u751f\\u6210\\u56fe\\u6807\\u65f6\\u53d1\\u751f\\u9519\\u8bef: 'latin-1' codec can't encode characters in position 7-8: ordinal not in range(256)\"}"
        },
        "execution_time": 0.4496610164642334,
        "is_security_test": false
      },
      {
        "case_name": "安全性测试 - 路径穿越尝试",
        "purpose": "验证工具是否阻止路径穿越攻击尝试",
        "args": {
          "prompt": "security icon",
          "file_name": "../malicious_icon.png",
          "save_folder": "/Users/username/projects/mcp_search_images/icons"
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u751f\\u6210\\u56fe\\u6807\\u65f6\\u53d1\\u751f\\u9519\\u8bef: 'latin-1' codec can't encode characters in position 7-8: ordinal not in range(256)\"}"
        },
        "execution_time": 0.48670077323913574,
        "is_security_test": false
      },
      {
        "case_name": "安全性测试 - 特殊字符文件名",
        "purpose": "验证工具是否允许包含特殊字符的文件名，防止潜在注入风险",
        "args": {
          "prompt": "network security",
          "file_name": "icon@#$.png",
          "save_folder": "/Users/username/projects/mcp_search_images/icons"
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u751f\\u6210\\u56fe\\u6807\\u65f6\\u53d1\\u751f\\u9519\\u8bef: 'latin-1' codec can't encode characters in position 7-8: ordinal not in range(256)\"}"
        },
        "execution_time": 0.4804854393005371,
        "is_security_test": false
      },
      {
        "case_name": "安全性测试 - 下载目录权限验证",
        "purpose": "验证工具是否能将图标保存到无写入权限的目录（应报错）",
        "args": {
          "prompt": "database management",
          "file_name": "restricted_dir_icon.png",
          "save_folder": "/system/restricted/folder"
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u751f\\u6210\\u56fe\\u6807\\u65f6\\u53d1\\u751f\\u9519\\u8bef: 'latin-1' codec can't encode characters in position 7-8: ordinal not in range(256)\"}"
        },
        "execution_time": 0.4471924304962158,
        "is_security_test": false
      },
      {
        "case_name": "边界条件测试 - 极长文件名",
        "purpose": "验证工具是否支持极长的文件名（例如超过255字符）",
        "args": {
          "prompt": "long filename test",
          "file_name": "a_very_long_file_name_that_has_more_than_two_hundred_and_fifty_five_characters_to_test_the_limitation_of_the_operating_system_or_application_for_saving_files_with_extra_long_names.png",
          "save_folder": "/Users/username/projects/mcp_search_images/icons"
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u751f\\u6210\\u56fe\\u6807\\u65f6\\u53d1\\u751f\\u9519\\u8bef: 'latin-1' codec can't encode characters in position 7-8: ordinal not in range(256)\"}"
        },
        "execution_time": 1.0450942516326904,
        "is_security_test": false
      }
    ]
  },
  "total_cases": 33
}