{
  "server_name": "server",
  "parent_dir": "mcp_pdf_processor_refined",
  "report_name": "mcp_pdf_processor_refined-server",
  "server_path": "workspace\\refinement\\mcp_pdf_processor_refined\\server.py",
  "timestamp": "2025-06-30T22:08:17.916637",
  "tools": [
    {
      "name": "merge_pdfs",
      "description": "\n    合并多个PDF文件为一个。\n\n    Args:\n        pdf_paths: 包含要合并的PDF文件绝对路径列表 (必填)。\n        output_path: 输出PDF文件的绝对路径 (必填)。\n\n    Returns:\n        一个字符串，表示操作成功完成的消息。\n\n    Raises:\n        ValueError: 如果输入参数格式不正确。\n        FileNotFoundError: 如果任何指定的PDF文件不存在。\n\n    示例:\n        合并位于不同路径的两个PDF文件，并将结果保存到新位置:\n        merge_pdfs(pdf_paths=[\"/path/to/file1.pdf\", \"/path/to/file2.pdf\"], output_path=\"/path/to/merged.pdf\")\n    ",
      "args_schema": {
        "properties": {
          "pdf_paths": {
            "items": {},
            "title": "Pdf Paths",
            "type": "array"
          },
          "output_path": {
            "title": "Output Path",
            "type": "string"
          }
        },
        "required": [
          "pdf_paths",
          "output_path"
        ],
        "title": "merge_pdfsArguments",
        "type": "object"
      }
    },
    {
      "name": "extract_pages",
      "description": "\n    从PDF文件中提取特定页面并保存为新文件。\n\n    Args:\n        source_pdf: 要提取页面的源PDF文件的绝对路径 (必填)。\n        pages: 需要提取的页码列表，页码从1开始计数 (必填)。\n        output_pdf: 提取页面后输出的新PDF文件的绝对路径 (必填)。\n\n    Returns:\n        一个字符串，表示操作成功完成的消息。\n\n    Raises:\n        ValueError: 如果输入参数格式不正确。\n        FileNotFoundError: 如果源PDF文件不存在。\n        IndexError: 如果请求的页码超出范围。\n\n    示例:\n        从source.pdf中提取第1和第3页，并保存到新的output.pdf中:\n        extract_pages(source_pdf=\"/path/to/source.pdf\", pages=[1, 3], output_pdf=\"/path/to/output.pdf\")\n    ",
      "args_schema": {
        "properties": {
          "source_pdf": {
            "title": "Source Pdf",
            "type": "string"
          },
          "pages": {
            "items": {},
            "title": "Pages",
            "type": "array"
          },
          "output_pdf": {
            "title": "Output Pdf",
            "type": "string"
          }
        },
        "required": [
          "source_pdf",
          "pages",
          "output_pdf"
        ],
        "title": "extract_pagesArguments",
        "type": "object"
      }
    },
    {
      "name": "search_pdfs",
      "description": "\n    在指定目录中搜索匹配特定模式的PDF文件。\n\n    Args:\n        directory: 要搜索的目录的绝对路径 (必填)。\n        pattern: 用于匹配PDF文件名的正则表达式模式 (必填)。\n\n    Returns:\n        匹配给定模式的所有PDF文件路径的JSON格式字符串。\n\n    Raises:\n        ValueError: 如果输入参数格式不正确。\n        NotADirectoryError: 如果指定的目录无效。\n\n    示例:\n        搜索目录'/documents'中所有以'report'开头的PDF文件:\n        search_pdfs(directory=\"/documents\", pattern=\"^report.*\\.pdf$\")\n    ",
      "args_schema": {
        "properties": {
          "directory": {
            "title": "Directory",
            "type": "string"
          },
          "pattern": {
            "title": "Pattern",
            "type": "string"
          }
        },
        "required": [
          "directory",
          "pattern"
        ],
        "title": "search_pdfsArguments",
        "type": "object"
      }
    },
    {
      "name": "merge_pdfs_ordered",
      "description": "\n    按照指定的顺序模式合并PDF文件，支持精确和模糊匹配。\n\n    Args:\n        pdf_details: 包含PDF文件详情的列表，每个元素是一个字典，包含'path'(PDF文件绝对路径)和'order'(插入顺序)键 (必填)。\n        output_path: 合并后的PDF文件输出的绝对路径 (必填)。\n\n    Returns:\n        一个字符串，表示操作成功完成的消息。\n\n    Raises:\n        ValueError: 如果输入参数格式不正确。\n        FileNotFoundError: 如果任何指定的PDF文件不存在。\n\n    示例:\n        按照指定顺序合并两个PDF文件，并将结果保存到新位置:\n        merge_pdfs_ordered(pdf_details=[{\"path\": \"/path/to/file1.pdf\", \"order\": 2}, {\"path\": \"/path/to/file2.pdf\", \"order\": 1}], output_path=\"/path/to/ordered_merged.pdf\")\n    ",
      "args_schema": {
        "properties": {
          "pdf_details": {
            "items": {},
            "title": "Pdf Details",
            "type": "array"
          },
          "output_path": {
            "title": "Output Path",
            "type": "string"
          }
        },
        "required": [
          "pdf_details",
          "output_path"
        ],
        "title": "merge_pdfs_orderedArguments",
        "type": "object"
      }
    },
    {
      "name": "find_related_pdfs",
      "description": "\n    根据目标PDF文件内容分析并查找相关的PDF文件。\n\n    Args:\n        target_pdf: 目标PDF文件的绝对路径 (必填)。\n        directory: 要搜索相关PDF的目录的绝对路径 (必填)。\n        similarity_threshold: 决定相似度阈值的小数值，范围应在0到1之间 (必填)。\n\n    Returns:\n        JSON格式字符串，包含与目标PDF内容相关的PDF文件路径及其相似度分数。\n\n    Raises:\n        ValueError: 如果输入参数格式不正确。\n        FileNotFoundError: 如果目标PDF文件不存在。\n        NotADirectoryError: 如果指定的目录无效。\n\n    示例:\n        查找与target.pdf内容相似度超过0.5的相关PDF文件:\n        find_related_pdfs(target_pdf=\"/path/to/target.pdf\", directory=\"/documents\", similarity_threshold=0.5)\n    ",
      "args_schema": {
        "properties": {
          "target_pdf": {
            "title": "Target Pdf",
            "type": "string"
          },
          "directory": {
            "title": "Directory",
            "type": "string"
          },
          "similarity_threshold": {
            "title": "Similarity Threshold",
            "type": "number"
          }
        },
        "required": [
          "target_pdf",
          "directory",
          "similarity_threshold"
        ],
        "title": "find_related_pdfsArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "search_pdfs": [
      {
        "case_name": "基本功能测试 - 匹配特定前缀的PDF文件",
        "purpose": "验证工具能够正确搜索指定目录中以'report'开头的PDF文件",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": "^report.*\\.pdf$"
        },
        "response": {
          "result": "[]"
        },
        "execution_time": 0.009001970291137695,
        "is_security_test": false
      },
      {
        "case_name": "基本功能测试 - 匹配所有PDF文件",
        "purpose": "验证工具能够正确返回指定目录中的所有PDF文件",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": ".*\\.pdf$"
        },
        "response": {
          "result": "[\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\2023.nlposs-1.24.pdf\", \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\城市道路管理条例.pdf\"]"
        },
        "execution_time": 0.01100015640258789,
        "is_security_test": false
      },
      {
        "case_name": "基本功能测试 - 匹配中文命名的PDF文件",
        "purpose": "验证工具能够正确匹配并返回中文命名的PDF文件",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": "城市道路管理条例\\.pdf$"
        },
        "response": {
          "result": "[\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\城市道路管理条例.pdf\"]"
        },
        "execution_time": 0.011997461318969727,
        "is_security_test": false
      },
      {
        "case_name": "边界条件测试 - 空目录路径",
        "purpose": "验证工具在空目录路径下的行为是否符合预期（应抛出异常）",
        "args": {
          "directory": "",
          "pattern": ".*\\.pdf$"
        },
        "response": {
          "error": "ToolException: Error executing tool search_pdfs: 发生错误: 'directory' 必须是有效的绝对路径。"
        },
        "execution_time": 0.020000696182250977,
        "is_security_test": false
      },
      {
        "case_name": "边界条件测试 - 非法正则表达式",
        "purpose": "验证工具在使用非法正则表达式时是否能正确处理错误",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": "*invalid_regex*"
        },
        "response": {
          "error": "ToolException: Error executing tool search_pdfs: 发生错误: nothing to repeat at position 0"
        },
        "execution_time": 0.014519691467285156,
        "is_security_test": false
      },
      {
        "case_name": "边界条件测试 - 搜索隐藏文件夹中的PDF",
        "purpose": "验证工具是否能搜索到隐藏文件夹中的PDF文件",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\.git",
          "pattern": ".*\\.pdf$"
        },
        "response": {
          "result": "[]"
        },
        "execution_time": 0.02899909019470215,
        "is_security_test": false
      },
      {
        "case_name": "错误处理测试 - 目录不存在",
        "purpose": "验证当提供的目录不存在时，工具是否抛出NotADirectoryError",
        "args": {
          "directory": "D:\\nonexistent\\directory",
          "pattern": ".*\\.pdf$"
        },
        "response": {
          "error": "ToolException: Error executing tool search_pdfs: 发生错误: 不是有效的目录: D:\\nonexistent\\directory"
        },
        "execution_time": 0.01907801628112793,
        "is_security_test": false
      },
      {
        "case_name": "错误处理测试 - 参数类型错误",
        "purpose": "验证当传入非字符串类型的参数时是否抛出ValueError",
        "args": {
          "directory": 12345,
          "pattern": 67890
        },
        "response": {
          "error": "ToolException: Error executing tool search_pdfs: 2 validation errors for search_pdfsArguments\ndirectory\n  Input should be a valid string [type=string_type, input_value=12345, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type\npattern\n  Input should be a valid string [type=string_type, input_value=67890, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type"
        },
        "execution_time": 0.014003276824951172,
        "is_security_test": false
      },
      {
        "case_name": "安全性测试 - 路径遍历攻击检测",
        "purpose": "验证工具是否能正确处理包含路径遍历字符的输入",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\..\\..\\",
          "pattern": ".*\\.pdf$"
        },
        "response": {
          "result": "[\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\..\\\\..\\\\testSystem\\\\testFiles\\\\2023.nlposs-1.24.pdf\", \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\..\\\\..\\\\testSystem\\\\testFiles\\\\城市道路管理条例.pdf\", \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\..\\\\..\\\\workspace\\\\public-mcp-servers\\\\markitdown-main\\\\packages\\\\markitdown\\\\tests\\\\test_files\\\\test.pdf\", \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\..\\\\..\\\\workspace\\\\refinement\\\\arxiv_paper_manager_refined\\\\workspace\\\\papers\\\\1605.08386.pdf\", \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\..\\\\..\\\\workspace\\\\refinement\\\\arxiv_paper_manager_refined\\\\workspace\\\\papers\\\\1605.08386v1.pdf\", \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\..\\\\..\\\\workspace\\\\...[截断]，共计1361字符，剩余561字符"
        },
        "execution_time": 0.06836771965026855,
        "is_security_test": false
      },
      {
        "case_name": "安全性测试 - 特殊字符路径",
        "purpose": "验证工具是否能安全处理含有特殊字符的目录路径",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles!@#$%^&*()",
          "pattern": ".*\\.pdf$"
        },
        "response": {
          "error": "ToolException: Error executing tool search_pdfs: 发生错误: 不是有效的目录: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles!@#$%^&*()"
        },
        "execution_time": 0.021518230438232422,
        "is_security_test": true
      },
      {
        "case_name": "性能测试 - 大量文件下搜索PDF",
        "purpose": "验证工具在大量文件环境下搜索PDF的性能和稳定性",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": ".*\\.pdf$"
        },
        "response": {
          "result": "[\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\2023.nlposs-1.24.pdf\", \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\城市道路管理条例.pdf\"]"
        },
        "execution_time": 0.011998176574707031,
        "is_security_test": false
      },
      {
        "case_name": "跨平台兼容性测试 - UNC路径支持",
        "purpose": "验证工具是否支持UNC网络路径格式的目录输入",
        "args": {
          "directory": "\\\\localhost\\c$\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": ".*\\.pdf$"
        },
        "response": {
          "error": "ToolException: Error executing tool search_pdfs: 发生错误: 不是有效的目录: \\\\localhost\\c$\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles"
        },
        "execution_time": 0.016000986099243164,
        "is_security_test": false
      }
    ],
    "merge_pdfs": [
      {
        "case_name": "基本功能测试 - 合并两个PDF文件",
        "purpose": "验证工具能够正确合并两个有效的PDF文件，并生成一个输出文件。",
        "args": {
          "pdf_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\城市道路管理条例.pdf"
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\merged_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: 发生错误: EOF marker not found"
        },
        "execution_time": 0.05451846122741699,
        "is_security_test": false
      },
      {
        "case_name": "基本功能测试 - 单个PDF文件合并",
        "purpose": "验证当仅提供一个PDF文件时，工具仍然可以将其视为有效输入并复制为输出文件。",
        "args": {
          "pdf_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf"
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\single_merged_output.pdf"
        },
        "response": {
          "result": "PDFs已成功合并到: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\single_merged_output.pdf"
        },
        "execution_time": 0.057830095291137695,
        "is_security_test": false
      },
      {
        "case_name": "基本功能测试 - 合并多个PDF文件",
        "purpose": "验证工具能够正确处理多个PDF文件的合并操作。",
        "args": {
          "pdf_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\城市道路管理条例.pdf",
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\ResultReport.xml"
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\multi_merged_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: 发生错误: EOF marker not found"
        },
        "execution_time": 0.05052542686462402,
        "is_security_test": false
      },
      {
        "case_name": "边界条件测试 - 空路径列表",
        "purpose": "验证当传入空的pdf_paths列表时是否抛出ValueError。",
        "args": {
          "pdf_paths": [],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_input_merged.pdf"
        },
        "response": {
          "result": "PDFs已成功合并到: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_input_merged.pdf"
        },
        "execution_time": 0.00500035285949707,
        "is_security_test": false
      },
      {
        "case_name": "边界条件测试 - 输出路径不存在",
        "purpose": "验证当输出目录路径不存在时，工具是否能正确处理错误情况。",
        "args": {
          "pdf_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf"
          ],
          "output_path": "D:\\nonexistent\\directory\\merged_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: 发生错误: [Errno 2] No such file or directory: 'D:\\\\nonexistent\\\\directory\\\\merged_output.pdf'"
        },
        "execution_time": 0.07854342460632324,
        "is_security_test": false
      },
      {
        "case_name": "错误处理测试 - 输入文件不存在",
        "purpose": "验证当提供的某个PDF文件路径无效或文件不存在时是否抛出FileNotFoundError。",
        "args": {
          "pdf_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_file.pdf"
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\missing_file_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: 发生错误: 以下文件未找到: ['D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\nonexistent_file.pdf']"
        },
        "execution_time": 0.0030002593994140625,
        "is_security_test": false
      },
      {
        "case_name": "错误处理测试 - 参数类型错误",
        "purpose": "验证当传入非字符串类型的参数时是否抛出ValueError。",
        "args": {
          "pdf_paths": "not_a_list_of_paths",
          "output_path": 123456
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: 2 validation errors for merge_pdfsArguments\npdf_paths\n  Input should be a valid list [type=list_type, input_value='not_a_list_of_paths', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.10/v/list_type\noutput_path\n  Input should be a valid string [type=string_type, input_value=123456, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type"
        },
        "execution_time": 0.006007194519042969,
        "is_security_test": false
      },
      {
        "case_name": "安全性测试 - 路径遍历攻击检测",
        "purpose": "验证工具是否能安全处理包含路径遍历字符的PDF文件路径。",
        "args": {
          "pdf_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\..\\..\\testSystem\\testFiles\\2023.nlposs-1.24.pdf"
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\traversal_merged_output.pdf"
        },
        "response": {
          "result": "PDFs已成功合并到: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\traversal_merged_output.pdf"
        },
        "execution_time": 0.0580596923828125,
        "is_security_test": true
      },
      {
        "case_name": "安全性测试 - 特殊字符路径",
        "purpose": "验证工具是否能安全处理含有特殊字符的PDF文件路径。",
        "args": {
          "pdf_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\!@#$%^&*()_test.pdf"
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special_char_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: 发生错误: 以下文件未找到: ['D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\!@#$%^&*()_test.pdf']"
        },
        "execution_time": 0.003951311111450195,
        "is_security_test": true
      },
      {
        "case_name": "性能测试 - 大量PDF文件合并",
        "purpose": "验证工具在合并大量PDF文件时的性能和稳定性。",
        "args": {
          "pdf_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\城市道路管理条例.pdf",
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\ResultReport.xml",
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nature_image.jpg",
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\converted_nature_image.png"
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\large_merge_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: 发生错误: 以下文件未找到: ['D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\converted_nature_image.png']"
        },
        "execution_time": 0.008008480072021484,
        "is_security_test": false
      }
    ],
    "extract_pages": [
      {
        "case_name": "基本功能测试 - 提取单个页面",
        "purpose": "验证工具能够正确从指定PDF中提取单个页面并保存为新文件。",
        "args": {
          "source_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
          "pages": [
            1
          ],
          "output_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\extracted_page1.pdf"
        },
        "response": {
          "result": "已成功从D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf提取页面至: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\extracted_page1.pdf"
        },
        "execution_time": 0.028006553649902344,
        "is_security_test": false
      },
      {
        "case_name": "基本功能测试 - 提取多个连续页面",
        "purpose": "验证工具能够正确提取多个连续页码的页面，并合并生成一个新PDF文件。",
        "args": {
          "source_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\城市道路管理条例.pdf",
          "pages": [
            2,
            3,
            4
          ],
          "output_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\extracted_pages_2_to_4.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 发生错误: EOF marker not found"
        },
        "execution_time": 0.01015019416809082,
        "is_security_test": false
      },
      {
        "case_name": "基本功能测试 - 提取非连续页面",
        "purpose": "验证工具能够处理非连续页码请求，提取多个不相邻页面并保存为一个新PDF。",
        "args": {
          "source_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
          "pages": [
            1,
            5,
            7
          ],
          "output_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\extracted_non_continuous_pages.pdf"
        },
        "response": {
          "result": "已成功从D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf提取页面至: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\extracted_non_continuous_pages.pdf"
        },
        "execution_time": 0.040373802185058594,
        "is_security_test": false
      },
      {
        "case_name": "边界条件测试 - 提取第一页",
        "purpose": "验证工具在提取PDF第一页时的行为是否正常。",
        "args": {
          "source_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\城市道路管理条例.pdf",
          "pages": [
            1
          ],
          "output_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\first_page_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 发生错误: EOF marker not found"
        },
        "execution_time": 0.010005712509155273,
        "is_security_test": false
      },
      {
        "case_name": "边界条件测试 - 提取最后一页",
        "purpose": "验证工具在提取PDF最后一页时是否能正确识别并输出。",
        "args": {
          "source_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
          "pages": [
            10
          ],
          "output_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\last_page_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 发生错误: 页码超出范围: 10, 总页数: 7"
        },
        "execution_time": 0.011521339416503906,
        "is_security_test": false
      },
      {
        "case_name": "边界条件测试 - 提取空页码列表",
        "purpose": "验证当传入空页码列表时是否抛出ValueError异常。",
        "args": {
          "source_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\城市道路管理条例.pdf",
          "pages": [],
          "output_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_pages_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 发生错误: EOF marker not found"
        },
        "execution_time": 0.006997585296630859,
        "is_security_test": false
      },
      {
        "case_name": "错误处理测试 - 源文件不存在",
        "purpose": "验证当提供的源PDF文件路径无效或文件不存在时是否抛出FileNotFoundError。",
        "args": {
          "source_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_file.pdf",
          "pages": [
            1
          ],
          "output_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\missing_source_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 发生错误: 文件未找到: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_file.pdf"
        },
        "execution_time": 0.0050013065338134766,
        "is_security_test": false
      },
      {
        "case_name": "错误处理测试 - 输出路径无效",
        "purpose": "验证当输出目录路径不存在时是否抛出异常。",
        "args": {
          "source_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
          "pages": [
            1
          ],
          "output_pdf": "D:\\nonexistent\\directory\\output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 发生错误: [Errno 2] No such file or directory: 'D:\\\\nonexistent\\\\directory\\\\output.pdf'"
        },
        "execution_time": 0.024998188018798828,
        "is_security_test": false
      },
      {
        "case_name": "错误处理测试 - 请求超出范围的页码",
        "purpose": "验证当请求的页码超过PDF总页数时是否抛出IndexError。",
        "args": {
          "source_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\城市道路管理条例.pdf",
          "pages": [
            999
          ],
          "output_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\invalid_page_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 发生错误: EOF marker not found"
        },
        "execution_time": 0.008004188537597656,
        "is_security_test": false
      },
      {
        "case_name": "安全性测试 - 路径遍历攻击检测",
        "purpose": "验证工具是否能安全处理包含路径遍历字符的输入文件路径。",
        "args": {
          "source_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\.git\\..\\城市道路管理条例.pdf",
          "pages": [
            1
          ],
          "output_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\traversal_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 发生错误: EOF marker not found"
        },
        "execution_time": 0.009997129440307617,
        "is_security_test": true
      },
      {
        "case_name": "安全性测试 - 特殊字符路径",
        "purpose": "验证工具是否能安全处理含有特殊字符的输入和输出路径。",
        "args": {
          "source_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\!@#$%^&*()_test.pdf",
          "pages": [
            1
          ],
          "output_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special_char_output!.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 发生错误: 文件未找到: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\!@#$%^&*()_test.pdf"
        },
        "execution_time": 0.003998756408691406,
        "is_security_test": true
      },
      {
        "case_name": "性能测试 - 大量页面提取",
        "purpose": "验证工具在提取大量页面时的性能和稳定性。",
        "args": {
          "source_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
          "pages": [
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15
          ],
          "output_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\large_extract_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 发生错误: 页码超出范围: 8, 总页数: 7"
        },
        "execution_time": 0.04974627494812012,
        "is_security_test": false
      }
    ],
    "find_related_pdfs": [
      {
        "case_name": "基本功能测试 - 查找内容相似的PDF文件",
        "purpose": "验证工具能够根据目标PDF的内容查找指定目录中相似度超过阈值的PDF文件。",
        "args": {
          "target_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "similarity_threshold": 0.5
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 发生错误: No /Root object! - Is this really a PDF?"
        },
        "execution_time": 1.5241663455963135,
        "is_security_test": false
      },
      {
        "case_name": "基本功能测试 - 目标PDF与目录中多个文件相似",
        "purpose": "验证工具能够正确识别并返回多个相似度高于阈值的PDF文件。",
        "args": {
          "target_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\城市道路管理条例.pdf",
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "similarity_threshold": 0.3
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 发生错误: No /Root object! - Is this really a PDF?"
        },
        "execution_time": 0.006001949310302734,
        "is_security_test": false
      },
      {
        "case_name": "边界条件测试 - 相似度阈值为0",
        "purpose": "验证工具在相似度阈值设为0时是否返回目录中的所有PDF文件（排除目标文件本身）。",
        "args": {
          "target_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "similarity_threshold": 0.0
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 发生错误: No /Root object! - Is this really a PDF?"
        },
        "execution_time": 1.4321272373199463,
        "is_security_test": false
      },
      {
        "case_name": "边界条件测试 - 相似度阈值为1",
        "purpose": "验证工具在相似度阈值设为1时是否仅返回完全相同的PDF文件（若有）。",
        "args": {
          "target_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "similarity_threshold": 1.0
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 发生错误: No /Root object! - Is this really a PDF?"
        },
        "execution_time": 1.437584638595581,
        "is_security_test": false
      },
      {
        "case_name": "错误处理测试 - 目标PDF文件不存在",
        "purpose": "验证当提供的目标PDF文件路径无效或文件不存在时是否抛出FileNotFoundError。",
        "args": {
          "target_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_file.pdf",
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "similarity_threshold": 0.5
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 发生错误: 文件未找到: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_file.pdf"
        },
        "execution_time": 0.007527589797973633,
        "is_security_test": false
      },
      {
        "case_name": "错误处理测试 - 指定的目录无效",
        "purpose": "验证当提供的目录路径不是有效目录时是否抛出NotADirectoryError。",
        "args": {
          "target_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
          "directory": "D:\\invalid\\directory\\path",
          "similarity_threshold": 0.5
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 发生错误: 不是有效的目录: D:\\invalid\\directory\\path"
        },
        "execution_time": 0.00599980354309082,
        "is_security_test": false
      },
      {
        "case_name": "安全性测试 - 路径遍历攻击检测",
        "purpose": "验证工具是否能安全处理包含路径遍历字符的目标PDF或搜索目录路径。",
        "args": {
          "target_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\.git\\..\\城市道路管理条例.pdf",
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\.git\\..",
          "similarity_threshold": 0.5
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 发生错误: No /Root object! - Is this really a PDF?"
        },
        "execution_time": 0.010998010635375977,
        "is_security_test": true
      },
      {
        "case_name": "安全性测试 - 特殊字符路径",
        "purpose": "验证工具是否能安全处理含有特殊字符的目标PDF路径和搜索目录路径。",
        "args": {
          "target_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\!@#$%^&*()_test.pdf",
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles!@#$%^&*()",
          "similarity_threshold": 0.5
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 发生错误: 文件未找到: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\!@#$%^&*()_test.pdf"
        },
        "execution_time": 0.005004167556762695,
        "is_security_test": true
      },
      {
        "case_name": "性能测试 - 大量PDF文件中查找相关文档",
        "purpose": "验证工具在大量PDF文件环境中查找相关文档的性能和稳定性。",
        "args": {
          "target_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "similarity_threshold": 0.4
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 发生错误: No /Root object! - Is this really a PDF?"
        },
        "execution_time": 1.509338617324829,
        "is_security_test": false
      },
      {
        "case_name": "错误处理测试 - 参数类型错误",
        "purpose": "验证当传入非字符串类型的target_pdf或directory参数，或者非数值类型的similarity_threshold时是否抛出ValueError。",
        "args": {
          "target_pdf": 123,
          "directory": 456,
          "similarity_threshold": "high"
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 3 validation errors for find_related_pdfsArguments\ntarget_pdf\n  Input should be a valid string [type=string_type, input_value=123, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type\ndirectory\n  Input should be a valid string [type=string_type, input_value=456, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type\nsimilarity_threshold\n  Input should be a valid number, unable to parse string as a number [type=float_parsing, input_value='high', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.10/v/float_parsing"
        },
        "execution_time": 0.004998445510864258,
        "is_security_test": false
      }
    ],
    "merge_pdfs_ordered": [
      {
        "case_name": "基本功能测试 - 按指定顺序合并两个有效PDF文件",
        "purpose": "验证工具能够正确按照指定的order顺序合并两个有效的PDF文件，并生成一个输出文件。",
        "args": {
          "pdf_details": [
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
              "order": 2
            },
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\城市道路管理条例.pdf",
              "order": 1
            }
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\ordered_merged_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: 发生错误: EOF marker not found"
        },
        "execution_time": 0.008000373840332031,
        "is_security_test": false
      },
      {
        "case_name": "基本功能测试 - 合并多个PDF文件并按自定义顺序排列",
        "purpose": "验证工具能够处理多个PDF文件，根据用户提供的order字段进行排序并合并。",
        "args": {
          "pdf_details": [
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
              "order": 3
            },
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\城市道路管理条例.pdf",
              "order": 1
            },
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\ResultReport.xml",
              "order": 2
            }
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\multi_ordered_merged_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: 发生错误: EOF marker not found"
        },
        "execution_time": 0.009006023406982422,
        "is_security_test": false
      },
      {
        "case_name": "基本功能测试 - 单个PDF文件合并（无排序影响）",
        "purpose": "验证当仅提供一个PDF文件时，工具仍然可以将其复制为输出文件，忽略order字段。",
        "args": {
          "pdf_details": [
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
              "order": 5
            }
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\single_ordered_output.pdf"
        },
        "response": {
          "result": "PDFs已按照指定顺序合并到: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\single_ordered_output.pdf"
        },
        "execution_time": 0.1250755786895752,
        "is_security_test": false
      },
      {
        "case_name": "边界条件测试 - 空的pdf_details列表",
        "purpose": "验证当传入空的pdf_details列表时是否抛出ValueError。",
        "args": {
          "pdf_details": [],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_input_ordered_output.pdf"
        },
        "response": {
          "result": "PDFs已按照指定顺序合并到: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_input_ordered_output.pdf"
        },
        "execution_time": 0.004954338073730469,
        "is_security_test": false
      },
      {
        "case_name": "边界条件测试 - 输出路径不存在",
        "purpose": "验证当输出目录路径不存在时，工具是否能正确处理错误情况。",
        "args": {
          "pdf_details": [
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
              "order": 1
            }
          ],
          "output_path": "D:\\nonexistent\\directory\\ordered_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: 发生错误: [Errno 2] No such file or directory: 'D:\\\\nonexistent\\\\directory\\\\ordered_output.pdf'"
        },
        "execution_time": 0.04951167106628418,
        "is_security_test": false
      },
      {
        "case_name": "错误处理测试 - 输入文件不存在",
        "purpose": "验证当提供的某个PDF文件路径无效或文件不存在时是否抛出FileNotFoundError。",
        "args": {
          "pdf_details": [
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_file.pdf",
              "order": 1
            }
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\missing_file_ordered_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: 发生错误: 以下文件未找到: ['D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\nonexistent_file.pdf']"
        },
        "execution_time": 0.008000850677490234,
        "is_security_test": false
      },
      {
        "case_name": "错误处理测试 - 参数类型错误",
        "purpose": "验证当传入非字典类型的pdf_details元素或非字符串类型的output_path时是否抛出ValueError。",
        "args": {
          "pdf_details": "not_a_list_of_dicts",
          "output_path": 123456
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: 2 validation errors for merge_pdfs_orderedArguments\npdf_details\n  Input should be a valid list [type=list_type, input_value='not_a_list_of_dicts', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.10/v/list_type\noutput_path\n  Input should be a valid string [type=string_type, input_value=123456, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type"
        },
        "execution_time": 0.00400090217590332,
        "is_security_test": false
      },
      {
        "case_name": "安全性测试 - 路径遍历攻击检测",
        "purpose": "验证工具是否能安全处理包含路径遍历字符的PDF文件路径。",
        "args": {
          "pdf_details": [
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\.git\\..\\城市道路管理条例.pdf",
              "order": 1
            }
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\traversal_ordered_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: 发生错误: EOF marker not found"
        },
        "execution_time": 0.008000850677490234,
        "is_security_test": true
      },
      {
        "case_name": "安全性测试 - 特殊字符路径",
        "purpose": "验证工具是否能安全处理含有特殊字符的PDF文件路径和输出路径。",
        "args": {
          "pdf_details": [
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\!@#$%^&*()_test.pdf",
              "order": 1
            }
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special_char_ordered_output!.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: 发生错误: 以下文件未找到: ['D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\!@#$%^&*()_test.pdf']"
        },
        "execution_time": 0.009002447128295898,
        "is_security_test": true
      },
      {
        "case_name": "性能测试 - 大量PDF文件按序合并",
        "purpose": "验证工具在合并大量PDF文件并按order排序时的性能和稳定性。",
        "args": {
          "pdf_details": [
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
              "order": 5
            },
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\城市道路管理条例.pdf",
              "order": 1
            },
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\ResultReport.xml",
              "order": 3
            },
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nature_image.jpg",
              "order": 2
            },
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\converted_nature_image.png",
              "order": 4
            }
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\large_ordered_merge_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: 发生错误: 以下文件未找到: ['D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\converted_nature_image.png']"
        },
        "execution_time": 0.009004831314086914,
        "is_security_test": false
      }
    ]
  },
  "total_cases": 54
}