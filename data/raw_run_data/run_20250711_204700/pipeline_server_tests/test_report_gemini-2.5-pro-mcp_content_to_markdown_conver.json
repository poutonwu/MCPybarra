{
  "server_name": "server",
  "parent_dir": "refined",
  "report_name": "gemini-2.5-pro-mcp_content_to_markdown_conver",
  "server_path": "workspace/pipeline-output-servers/gemini-2.5-pro/mcp_content_to_markdown_conver/refined/server.py",
  "timestamp": "2025-07-11T20:53:55.365495",
  "tools": [
    {
      "name": "convert_to_markdown",
      "description": "Converts content from various sources (HTTP/S webpages, local file paths, or Data URIs) into structured Markdown.\n\n    The tool automatically detects the source type and processes it accordingly. It preserves structural\n    elements like headings, lists, tables, and links.\n\n    Args:\n        source (str): The source of the content to be converted. This can be:\n                      - An HTTP or HTTPS URL (e.g., \"https://example.com\").\n                      - A local file path (e.g., \"./my_document.html\").\n                      - A Data URI (e.g., \"data:text/html;base64,PGgxPlRlc3Q8L2gxPg==\").\n\n    Returns:\n        A string containing the content converted to structured Markdown.\n\n    Raises:\n        ValueError: If the source is invalid, content cannot be fetched, or the source type is unsupported.\n        requests.exceptions.RequestException: If a network error occurs while fetching a URL.\n    ",
      "args_schema": {
        "properties": {
          "source": {
            "title": "Source",
            "type": "string"
          }
        },
        "required": [
          "source"
        ],
        "title": "convert_to_markdownArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "convert_to_markdown": [
      {
        "case_name": "Convert Local HTML File to Markdown",
        "purpose": "验证工具能否正确将本地HTML文件转换为结构化Markdown",
        "args": {
          "source": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\code (1).html"
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: An error occurred while processing source 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\code (1).html': Security error: File path 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\code (1).html' is outside the allowed directory."
        },
        "execution_time": 0.004370927810668945,
        "is_functional_test": true
      },
      {
        "case_name": "Convert Web Page URL to Markdown",
        "purpose": "验证工具能否从远程HTTP URL获取内容并成功转换为Markdown",
        "args": {
          "source": "https://example.com"
        },
        "response": {
          "result": "\nExample Domain\n\n\n\n\n\n# Example Domain\n\nThis domain is for use in illustrative examples in documents. You may use this\ndomain in literature without prior coordination or asking for permission.\n\n[More information...](https://www.iana.org/domains/example)\n\n\n\n\n"
        },
        "execution_time": 1.202423334121704,
        "is_functional_test": true
      },
      {
        "case_name": "Convert Data URI to Markdown",
        "purpose": "验证工具是否能正确解析Base64编码的Data URI并生成Markdown",
        "args": {
          "source": "data:text/html;base64,PGgxPlRlc3Q8L2gxPg=="
        },
        "response": {
          "result": "\n# Test\n\n"
        },
        "execution_time": 0.003995180130004883,
        "is_functional_test": true
      },
      {
        "case_name": "Convert PDF Document to Markdown",
        "purpose": "验证工具是否支持PDF文件作为输入源并进行Markdown转换",
        "args": {
          "source": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\《上海市道路交通管理条例》.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: An error occurred while processing source 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\《上海市道路交通管理条例》.pdf': Security error: File path 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\《上海市道路交通管理条例》.pdf' is outside the allowed directory."
        },
        "execution_time": 0.003515481948852539,
        "is_functional_test": true
      },
      {
        "case_name": "Convert DOCX File to Markdown",
        "purpose": "测试对Word文档（DOCX）格式的支持及转换能力",
        "args": {
          "source": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\测试文档_另存为.docx"
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: An error occurred while processing source 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\测试文档_另存为.docx': Security error: File path 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\测试文档_另存为.docx' is outside the allowed directory."
        },
        "execution_time": 0.004002094268798828,
        "is_functional_test": true
      },
      {
        "case_name": "Convert CSV File to Markdown Table",
        "purpose": "验证CSV文件是否可被识别并转换为Markdown表格结构",
        "args": {
          "source": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\机械设备精简.csv"
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: An error occurred while processing source 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\机械设备精简.csv': Security error: File path 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\机械设备精简.csv' is outside the allowed directory."
        },
        "execution_time": 0.006520271301269531,
        "is_functional_test": true
      },
      {
        "case_name": "Invalid Source Type Handling",
        "purpose": "测试无效或不支持的源类型时是否抛出适当的错误信息",
        "args": {
          "source": "invalid-scheme://example.com"
        },
        "response": {
          "result": "invalid-scheme://example.com"
        },
        "execution_time": 0.005001068115234375,
        "is_functional_test": false
      },
      {
        "case_name": "Nonexistent File Path Handling",
        "purpose": "验证当提供的本地文件路径不存在时，工具是否能够优雅处理错误",
        "args": {
          "source": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_file.html"
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: An error occurred while processing source 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_file.html': Security error: File path 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_file.html' is outside the allowed directory."
        },
        "execution_time": 0.005513906478881836,
        "is_functional_test": false
      },
      {
        "case_name": "Malformed Data URI Handling",
        "purpose": "测试畸形或格式错误的Data URI是否能被正确捕获并返回错误",
        "args": {
          "source": "data:text/html;base64,invalid_base64_data"
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: An error occurred while processing source 'data:text/html;base64,invalid_base64_data': Failed to decode Data URI content: Invalid base64-encoded string: number of data characters (17) cannot be 1 more than a multiple of 4"
        },
        "execution_time": 0.006507158279418945,
        "is_functional_test": false
      },
      {
        "case_name": "Empty Source Input",
        "purpose": "验证空字符串作为source参数时是否引发正确的参数验证错误",
        "args": {
          "source": ""
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: The 'source' parameter cannot be empty."
        },
        "execution_time": 0.004004478454589844,
        "is_functional_test": false
      },
      {
        "case_name": "Convert Very Long Markdown Content",
        "purpose": "测试工具处理超长文本内容的能力，确保边界条件下的稳定性",
        "args": {
          "source": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\执行结果文本.txt"
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: An error occurred while processing source 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\执行结果文本.txt': Security error: File path 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\执行结果文本.txt' is outside the allowed directory."
        },
        "execution_time": 0.0065195560455322266,
        "is_functional_test": true
      },
      {
        "case_name": "Convert HTML with Special Characters",
        "purpose": "验证包含特殊字符和中文的HTML文件是否能正确转换为Markdown",
        "args": {
          "source": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\未命名 (1).html"
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: An error occurred while processing source 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\未命名 (1).html': Security error: File path 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\未命名 (1).html' is outside the allowed directory."
        },
        "execution_time": 0.003000497817993164,
        "is_functional_test": true
      }
    ]
  },
  "total_cases": 12
}