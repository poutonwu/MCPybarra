{
  "server_name": "server",
  "parent_dir": "refined",
  "report_name": "gpt-4o-mcp_outlook_email_manager",
  "server_path": "workspace/pipeline-output-servers/gpt-4o/mcp_outlook_email_manager/refined/server.py",
  "timestamp": "2025-07-11T21:12:17.453403",
  "tools": [
    {
      "name": "list_folders",
      "description": "Lists all available Outlook email folders.\n\n    Returns:\n        A JSON string containing a list of folder names.\n\n    Example:\n        list_folders()\n        Output: [\"Inbox\", \"Sent Items\", \"CustomFolder1\"]\n    ",
      "args_schema": {
        "properties": {},
        "title": "list_foldersArguments",
        "type": "object"
      }
    },
    {
      "name": "list_recent_emails",
      "description": "Fetches the titles of emails received within a specified number of days.\n\n    Args:\n        days: Number of days to look back for emails.\n        folder_name: Name of the folder to filter emails (optional).\n\n    Returns:\n        A JSON string containing a list of email titles.\n\n    Example:\n        list_recent_emails(7, \"Inbox\")\n        Output: [\"Meeting Reminder\", \"Invoice Due\"]\n    ",
      "args_schema": {
        "properties": {
          "days": {
            "title": "Days",
            "type": "integer"
          },
          "folder_name": {
            "default": "Inbox",
            "title": "Folder Name",
            "type": "string"
          }
        },
        "required": [
          "days"
        ],
        "title": "list_recent_emailsArguments",
        "type": "object"
      }
    },
    {
      "name": "search_emails",
      "description": "Searches for emails within a specified time range and folder, filtering by sender or keyword.\n\n    Args:\n        start_date: Start date for the search in \"YYYY-MM-DD\" format.\n        end_date: End date for the search in \"YYYY-MM-DD\" format.\n        folder_name: Name of the folder to search in.\n        filter_by: Filter criteria, either by sender's email or keyword.\n\n    Returns:\n        A JSON string containing a list of email titles matching the search criteria.\n\n    Example:\n        search_emails(\"2023-01-01\", \"2023-01-31\", \"Inbox\", \"john.doe@example.com\")\n        Output: [\"Project Update\", \"Meeting Schedule\"]\n    ",
      "args_schema": {
        "properties": {
          "start_date": {
            "title": "Start Date",
            "type": "string"
          },
          "end_date": {
            "title": "End Date",
            "type": "string"
          },
          "folder_name": {
            "title": "Folder Name",
            "type": "string"
          },
          "filter_by": {
            "title": "Filter By",
            "type": "string"
          }
        },
        "required": [
          "start_date",
          "end_date",
          "folder_name",
          "filter_by"
        ],
        "title": "search_emailsArguments",
        "type": "object"
      }
    },
    {
      "name": "get_email_by_number",
      "description": "Fetches detailed content and attachments for an email identified by its index.\n\n    Args:\n        email_number: The index number for the email in the cached list.\n\n    Returns:\n        A JSON string containing:\n            - subject: Email subject.\n            - body: Email body content.\n            - attachments: List of attachment file names.\n\n    Example:\n        get_email_by_number(1)\n        Output: {\"subject\": \"Meeting Reminder\", \"body\": \"Details about the meeting...\", \"attachments\": [\"agenda.pdf\"]}\n    ",
      "args_schema": {
        "properties": {
          "email_number": {
            "title": "Email Number",
            "type": "integer"
          }
        },
        "required": [
          "email_number"
        ],
        "title": "get_email_by_numberArguments",
        "type": "object"
      }
    },
    {
      "name": "reply_to_email_by_number",
      "description": "Replies to an email identified by its index and sends the reply content.\n\n    Args:\n        email_number: The index number for the email in the cached list.\n        reply_content: The content of the reply.\n\n    Returns:\n        A JSON string containing a success message.\n\n    Example:\n        reply_to_email_by_number(1, \"Thank you for the update.\")\n        Output: \"Reply sent successfully\"\n    ",
      "args_schema": {
        "properties": {
          "email_number": {
            "title": "Email Number",
            "type": "integer"
          },
          "reply_content": {
            "title": "Reply Content",
            "type": "string"
          }
        },
        "required": [
          "email_number",
          "reply_content"
        ],
        "title": "reply_to_email_by_numberArguments",
        "type": "object"
      }
    },
    {
      "name": "compose_email",
      "description": "Composes and sends a new email.\n\n    Args:\n        subject: Subject of the email.\n        body: Body content of the email.\n        recipients: List of recipient email addresses.\n        cc: List of CC email addresses (optional).\n\n    Returns:\n        A JSON string containing a success message.\n\n    Example:\n        compose_email(\"Meeting Reminder\", \"Details about the meeting...\", [\"john.doe@example.com\"], [\"jane.doe@example.com\"])\n        Output: \"Email sent successfully\"\n    ",
      "args_schema": {
        "properties": {
          "subject": {
            "title": "Subject",
            "type": "string"
          },
          "body": {
            "title": "Body",
            "type": "string"
          },
          "recipients": {
            "items": {},
            "title": "Recipients",
            "type": "array"
          },
          "cc": {
            "default": [],
            "items": {},
            "title": "Cc",
            "type": "array"
          }
        },
        "required": [
          "subject",
          "body",
          "recipients"
        ],
        "title": "compose_emailArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "list_folders": [
      {
        "case_name": "List Default Outlook Folders",
        "purpose": "验证 list_folders 工具能够正确列出默认的Outlook文件夹（如Inbox、Sent Items等）。",
        "args": {},
        "response": {
          "result": "[\"1291980381@qq.com\", \"zhihutangjiang@126.com\", \"outformcptest@outlook.com\"]"
        },
        "execution_time": 0.04775428771972656,
        "is_functional_test": true
      },
      {
        "case_name": "Verify Empty Folder List Handling",
        "purpose": "测试当Outlook中没有可用文件夹时，工具是否能优雅地返回空数组而不是报错。",
        "args": {},
        "response": {
          "result": "[\"1291980381@qq.com\", \"zhihutangjiang@126.com\", \"outformcptest@outlook.com\"]"
        },
        "execution_time": 0.01557469367980957,
        "is_functional_test": true
      },
      {
        "case_name": "List Folders With Special Characters",
        "purpose": "验证工具是否能正确处理包含特殊字符的文件夹名称。",
        "args": {},
        "response": {
          "result": "[\"1291980381@qq.com\", \"zhihutangjiang@126.com\", \"outformcptest@outlook.com\"]"
        },
        "execution_time": 0.012640237808227539,
        "is_functional_test": true
      },
      {
        "case_name": "List Folders Under High Load Simulation",
        "purpose": "在模拟系统高负载情况下，验证 list_folders 是否仍能正常返回结果。",
        "args": {},
        "response": {
          "result": "[\"1291980381@qq.com\", \"zhihutangjiang@126.com\", \"outformcptest@outlook.com\"]"
        },
        "execution_time": 0.016071081161499023,
        "is_functional_test": true
      },
      {
        "case_name": "Test Folder Listing with Non-English Names",
        "purpose": "验证工具是否支持显示非英文命名的Outlook文件夹，例如中文或日文。",
        "args": {},
        "response": {
          "result": "[\"1291980381@qq.com\", \"zhihutangjiang@126.com\", \"outformcptest@outlook.com\"]"
        },
        "execution_time": 0.01599884033203125,
        "is_functional_test": true
      },
      {
        "case_name": "Folder Listing in Clean Room Environment",
        "purpose": "在一个干净环境中运行工具，确保其不依赖任何外部状态即可正常工作。",
        "args": {},
        "response": {
          "result": "[\"1291980381@qq.com\", \"zhihutangjiang@126.com\", \"outformcptest@outlook.com\"]"
        },
        "execution_time": 0.021120071411132812,
        "is_functional_test": true
      },
      {
        "case_name": "Check for Sensitive Data Exposure in Output",
        "purpose": "验证输出是否意外暴露了敏感信息，如用户路径或系统细节。",
        "args": {},
        "response": {
          "result": "[\"1291980381@qq.com\", \"zhihutangjiang@126.com\", \"outformcptest@outlook.com\"]"
        },
        "execution_time": 0.01403355598449707,
        "is_functional_test": false
      },
      {
        "case_name": "Handle Outlook Not Running",
        "purpose": "验证当Outlook未启动时，工具是否能优雅处理错误并返回合理提示。",
        "args": {},
        "response": {
          "result": "[\"1291980381@qq.com\", \"zhihutangjiang@126.com\", \"outformcptest@outlook.com\"]"
        },
        "execution_time": 0.018579721450805664,
        "is_functional_test": false
      },
      {
        "case_name": "Outlook Access Denied Error Handling",
        "purpose": "验证当当前用户无权访问Outlook时，工具是否能正确捕获异常并返回清晰错误信息。",
        "args": {},
        "response": {
          "result": "[\"1291980381@qq.com\", \"zhihutangjiang@126.com\", \"outformcptest@outlook.com\"]"
        },
        "execution_time": 0.014299869537353516,
        "is_functional_test": false
      },
      {
        "case_name": "Maximum Folder Count Test",
        "purpose": "验证工具在Outlook中存在大量文件夹时是否仍能正常处理和返回列表。",
        "args": {},
        "response": {
          "result": "[\"1291980381@qq.com\", \"zhihutangjiang@126.com\", \"outformcptest@outlook.com\"]"
        },
        "execution_time": 0.012068510055541992,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Input Parameters Handling",
        "purpose": "",
        "args": {},
        "response": {
          "result": "[\"1291980381@qq.com\", \"zhihutangjiang@126.com\", \"outformcptest@outlook.com\"]"
        },
        "execution_time": 0.015578031539916992,
        "is_functional_test": false
      },
      {
        "case_name": "Long Path and Nested Folder Name Handling",
        "purpose": "验证工具是否能正确处理具有长路径或嵌套结构的文件夹名称。",
        "args": {},
        "response": {
          "result": "[\"1291980381@qq.com\", \"zhihutangjiang@126.com\", \"outformcptest@outlook.com\"]"
        },
        "execution_time": 0.014052629470825195,
        "is_functional_test": true
      }
    ],
    "list_recent_emails": [
      {
        "case_name": "Basic Email Listing With Default Folder",
        "purpose": "验证在指定7天内且使用默认文件夹（Inbox）时，能否正确获取最近邮件标题列表。",
        "args": {
          "days": 7
        },
        "response": {
          "result": "{\"error\": \"Folder 'Inbox' not found.\"}"
        },
        "execution_time": 0.011787891387939453,
        "is_functional_test": true
      },
      {
        "case_name": "Email Listing From Custom Folder",
        "purpose": "验证工具能从非默认文件夹中获取指定天数内的邮件标题。",
        "args": {
          "days": 30,
          "folder_name": "Sent Items"
        },
        "response": {
          "result": "{\"error\": \"Folder 'Sent Items' not found.\"}"
        },
        "execution_time": 0.01402902603149414,
        "is_functional_test": true
      },
      {
        "case_name": "Zero Days Input Handling",
        "purpose": "测试输入天数为0时是否返回当天收到的邮件标题列表。",
        "args": {
          "days": 0
        },
        "response": {
          "result": "{\"error\": \"Days must be a positive integer.\"}"
        },
        "execution_time": 0.0041942596435546875,
        "is_functional_test": true
      },
      {
        "case_name": "Negative Days Input Handling",
        "purpose": "验证工具对负数天数输入的处理是否合理并返回错误信息。",
        "args": {
          "days": -5
        },
        "response": {
          "result": "{\"error\": \"Days must be a positive integer.\"}"
        },
        "execution_time": 0.005997657775878906,
        "is_functional_test": false
      },
      {
        "case_name": "Empty Folder Name Handling",
        "purpose": "测试当提供空字符串作为文件夹名称时的行为是否与预期一致。",
        "args": {
          "days": 7,
          "folder_name": ""
        },
        "response": {
          "result": "{\"error\": \"Folder name must be a non-empty string.\"}"
        },
        "execution_time": 0.0030307769775390625,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters In Folder Name",
        "purpose": "验证工具能否正确处理包含特殊字符的文件夹名称中的邮件检索。",
        "args": {
          "days": 14,
          "folder_name": "Project@Reports#2023"
        },
        "response": {
          "result": "{\"error\": \"Folder 'Project@Reports#2023' not found.\"}"
        },
        "execution_time": 0.01451730728149414,
        "is_functional_test": true
      },
      {
        "case_name": "Nonexistent Folder Handling",
        "purpose": "测试工具在尝试访问不存在的文件夹时是否会优雅地失败并返回空数组或错误提示。",
        "args": {
          "days": 7,
          "folder_name": "InvalidFolderName123"
        },
        "response": {
          "result": "{\"error\": \"Folder 'InvalidFolderName123' not found.\"}"
        },
        "execution_time": 0.015282869338989258,
        "is_functional_test": false
      },
      {
        "case_name": "Maximum Days Boundary Test",
        "purpose": "验证工具在最大可能天数（例如9999）下是否仍能正常工作。",
        "args": {
          "days": 9999
        },
        "response": {
          "result": "{\"error\": \"Folder 'Inbox' not found.\"}"
        },
        "execution_time": 0.014306783676147461,
        "is_functional_test": true
      },
      {
        "case_name": "SQL Injection Attempt In Folder Name",
        "purpose": "测试工具是否安全地处理含有潜在SQL注入风险的文件夹名称输入。",
        "args": {
          "days": 7,
          "folder_name": "'; DROP TABLE emails;--"
        },
        "response": {
          "result": "{\"error\": \"Folder ''; DROP TABLE emails;--' not found.\"}"
        },
        "execution_time": 0.012510061264038086,
        "is_functional_test": false
      },
      {
        "case_name": "XSS Attempt In Folder Name",
        "purpose": "验证工具是否安全地处理含有潜在XSS攻击特征的文件夹名称。",
        "args": {
          "days": 7,
          "folder_name": "<script>alert('xss')</script>"
        },
        "response": {
          "result": "{\"error\": \"Folder '<script>alert('xss')</script>' not found.\"}"
        },
        "execution_time": 0.013972043991088867,
        "is_functional_test": false
      },
      {
        "case_name": "Unicode Folder Name Handling",
        "purpose": "验证工具是否支持非英文命名的文件夹，如中文、日文等。",
        "args": {
          "days": 7,
          "folder_name": "收件箱"
        },
        "response": {
          "result": "{\"error\": \"Folder '\\u6536\\u4ef6\\u7bb1' not found.\"}"
        },
        "execution_time": 0.013045072555541992,
        "is_functional_test": true
      },
      {
        "case_name": "High Load Simulation For Email Retrieval",
        "purpose": "在模拟高负载环境下验证 list_recent_emails 工具是否仍能稳定运行并返回结果。",
        "args": {
          "days": 365
        },
        "response": {
          "result": "{\"error\": \"Folder 'Inbox' not found.\"}"
        },
        "execution_time": 0.013444662094116211,
        "is_functional_test": true
      }
    ],
    "search_emails": [
      {
        "case_name": "Basic Email Search By Sender",
        "purpose": "验证在有效日期范围内、指定文件夹中通过发件人搜索邮件的基本功能是否正常工作。",
        "args": {
          "start_date": "2023-01-01",
          "end_date": "2023-01-31",
          "folder_name": "Inbox",
          "filter_by": "john.doe@example.com"
        },
        "response": {
          "result": "{\"error\": \"Folder 'Inbox' not found.\"}"
        },
        "execution_time": 0.02809429168701172,
        "is_functional_test": true
      },
      {
        "case_name": "Email Search With Keyword Filter",
        "purpose": "验证工具能根据关键词过滤器在指定时间范围和文件夹中正确搜索匹配的邮件标题。",
        "args": {
          "start_date": "2023-03-01",
          "end_date": "2023-03-31",
          "folder_name": "Sent Items",
          "filter_by": "project"
        },
        "response": {
          "result": "{\"error\": \"Folder 'Sent Items' not found.\"}"
        },
        "execution_time": 0.014024496078491211,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Folder Name Handling",
        "purpose": "测试当提供空字符串作为文件夹名称时，工具是否能优雅地处理错误并返回提示信息。",
        "args": {
          "start_date": "2023-04-01",
          "end_date": "2023-04-30",
          "folder_name": "",
          "filter_by": "report"
        },
        "response": {
          "result": "{\"error\": \"Folder name must be a non-empty string.\"}"
        },
        "execution_time": 0.007007122039794922,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Date Format Handling",
        "purpose": "验证工具是否能检测并拒绝格式不正确的日期输入（如MM/DD/YYYY）。",
        "args": {
          "start_date": "01/01/2023",
          "end_date": "01/31/2023",
          "folder_name": "Inbox",
          "filter_by": "sales"
        },
        "response": {
          "result": "{\"error\": \"time data '01/01/2023' does not match format '%Y-%m-%d'\"}"
        },
        "execution_time": 0.0034067630767822266,
        "is_functional_test": false
      },
      {
        "case_name": "Future End Date Handling",
        "purpose": "测试工具是否能正确处理未来结束日期的情况，并仍返回符合条件的结果。",
        "args": {
          "start_date": "2023-12-01",
          "end_date": "2099-12-31",
          "folder_name": "Drafts",
          "filter_by": "proposal"
        },
        "response": {
          "result": "{\"error\": \"Folder 'Drafts' not found.\"}"
        },
        "execution_time": 0.01450800895690918,
        "is_functional_test": true
      },
      {
        "case_name": "SQL Injection Attempt In Filter",
        "purpose": "测试工具是否安全地处理含有潜在SQL注入风险的 filter_by 参数。",
        "args": {
          "start_date": "2023-05-01",
          "end_date": "2023-05-31",
          "folder_name": "Inbox",
          "filter_by": "'; DROP TABLE emails;--"
        },
        "response": {
          "result": "{\"error\": \"Folder 'Inbox' not found.\"}"
        },
        "execution_time": 0.015028715133666992,
        "is_functional_test": false
      },
      {
        "case_name": "XSS Attempt In Filter",
        "purpose": "验证工具是否安全地处理含有潜在XSS攻击特征的 filter_by 输入。",
        "args": {
          "start_date": "2023-06-01",
          "end_date": "2023-06-30",
          "folder_name": "Spam",
          "filter_by": "<script>alert('xss')</script>"
        },
        "response": {
          "result": "{\"error\": \"Folder 'Spam' not found.\"}"
        },
        "execution_time": 0.015508174896240234,
        "is_functional_test": false
      },
      {
        "case_name": "Unicode Folder Name Handling",
        "purpose": "验证工具是否支持非英文命名的文件夹，例如中文或日文。",
        "args": {
          "start_date": "2023-07-01",
          "end_date": "2023-07-31",
          "folder_name": "收件箱",
          "filter_by": "会议"
        },
        "response": {
          "result": "{\"error\": \"Folder '\\u6536\\u4ef6\\u7bb1' not found.\"}"
        },
        "execution_time": 0.030555248260498047,
        "is_functional_test": true
      },
      {
        "case_name": "Special Characters In Folder Name",
        "purpose": "验证工具能否正确处理包含特殊字符的文件夹名称中的邮件检索。",
        "args": {
          "start_date": "2023-08-01",
          "end_date": "2023-08-31",
          "folder_name": "Project@Reports#2023",
          "filter_by": "update"
        },
        "response": {
          "result": "{\"error\": \"Folder 'Project@Reports#2023' not found.\"}"
        },
        "execution_time": 0.01350545883178711,
        "is_functional_test": true
      },
      {
        "case_name": "Nonexistent Folder Handling",
        "purpose": "测试工具在尝试访问不存在的文件夹时是否会优雅地失败并返回空数组或错误提示。",
        "args": {
          "start_date": "2023-09-01",
          "end_date": "2023-09-30",
          "folder_name": "InvalidFolderName123",
          "filter_by": "meeting"
        },
        "response": {
          "result": "{\"error\": \"Folder 'InvalidFolderName123' not found.\"}"
        },
        "execution_time": 0.013640642166137695,
        "is_functional_test": false
      },
      {
        "case_name": "Start Date After End Date Handling",
        "purpose": "验证当开始日期晚于结束日期时，工具是否能正确处理并返回错误提示。",
        "args": {
          "start_date": "2023-12-31",
          "end_date": "2023-01-01",
          "folder_name": "Inbox",
          "filter_by": "summary"
        },
        "response": {
          "result": "{\"error\": \"Start date must be before end date.\"}"
        },
        "execution_time": 0.0070056915283203125,
        "is_functional_test": false
      },
      {
        "case_name": "Maximum Date Range Boundary Test",
        "purpose": "验证工具在最大可能时间范围内是否仍能正常工作（如跨年、多年跨度等）。",
        "args": {
          "start_date": "1900-01-01",
          "end_date": "2099-12-31",
          "folder_name": "All Mail",
          "filter_by": "document"
        },
        "response": {
          "result": "{\"error\": \"Folder 'All Mail' not found.\"}"
        },
        "execution_time": 0.012896299362182617,
        "is_functional_test": true
      }
    ],
    "get_email_by_number": [
      {
        "case_name": "Basic Email Fetch by Valid Index",
        "purpose": "验证使用有效索引号能否正确获取指定邮件的详细内容（主题、正文和附件）。",
        "args": {
          "email_number": 1
        },
        "response": {
          "result": "{\"error\": \"No emails are cached. Please run 'list_recent_emails' first.\"}"
        },
        "execution_time": 0.0055201053619384766,
        "is_functional_test": true
      },
      {
        "case_name": "Fetch Email with Minimum Index Value",
        "purpose": "测试最小边界值（如索引0）是否能正确处理或返回错误提示。",
        "args": {
          "email_number": 0
        },
        "response": {
          "result": "{\"error\": \"No emails are cached. Please run 'list_recent_emails' first.\"}"
        },
        "execution_time": 0.010038137435913086,
        "is_functional_test": false
      },
      {
        "case_name": "Fetch Email with Negative Index",
        "purpose": "验证工具对负数索引输入的处理是否合理并返回错误信息。",
        "args": {
          "email_number": -1
        },
        "response": {
          "result": "{\"error\": \"No emails are cached. Please run 'list_recent_emails' first.\"}"
        },
        "execution_time": 0.006512641906738281,
        "is_functional_test": false
      },
      {
        "case_name": "Fetch Email with Non-Integer Index",
        "purpose": "测试非整数类型的索引参数是否被正确拒绝并返回类型错误。",
        "args": {
          "email_number": "one"
        },
        "response": {
          "error": "ToolException: Error executing tool get_email_by_number: 1 validation error for get_email_by_numberArguments\nemail_number\n  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='one', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.10/v/int_parsing"
        },
        "execution_time": 0.00851893424987793,
        "is_functional_test": false
      },
      {
        "case_name": "Fetch Email with Very Large Index",
        "purpose": "验证工具在极大索引值下是否能优雅地失败（如返回空结果或错误提示）。",
        "args": {
          "email_number": 9999999
        },
        "response": {
          "result": "{\"error\": \"No emails are cached. Please run 'list_recent_emails' first.\"}"
        },
        "execution_time": 0.003999471664428711,
        "is_functional_test": false
      },
      {
        "case_name": "Fetch Email with Zero Index",
        "purpose": "测试索引为0时的行为是否符合预期（如无效索引处理）。",
        "args": {
          "email_number": 0
        },
        "response": {
          "result": "{\"error\": \"No emails are cached. Please run 'list_recent_emails' first.\"}"
        },
        "execution_time": 0.004509449005126953,
        "is_functional_test": false
      },
      {
        "case_name": "Fetch Email When No Emails Are Cached",
        "purpose": "验证当缓存中没有可用邮件时，工具是否能优雅地返回错误或空结果。",
        "args": {
          "email_number": 1
        },
        "response": {
          "result": "{\"error\": \"No emails are cached. Please run 'list_recent_emails' first.\"}"
        },
        "execution_time": 0.005002021789550781,
        "is_functional_test": false
      },
      {
        "case_name": "SQL Injection Attempt in Email Number",
        "purpose": "测试工具是否安全地处理潜在SQL注入风险的索引输入。",
        "args": {
          "email_number": "1; DROP TABLE emails;"
        },
        "response": {
          "error": "ToolException: Error executing tool get_email_by_number: 1 validation error for get_email_by_numberArguments\nemail_number\n  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='1; DROP TABLE emails;', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.10/v/int_parsing"
        },
        "execution_time": 0.005506753921508789,
        "is_functional_test": false
      },
      {
        "case_name": "XSS Attempt in Email Number Input",
        "purpose": "验证工具是否安全地处理含有潜在XSS攻击特征的索引输入。",
        "args": {
          "email_number": "<script>alert('xss')</script>"
        },
        "response": {
          "error": "ToolException: Error executing tool get_email_by_number: 1 validation error for get_email_by_numberArguments\nemail_number\n  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value=\"<script>alert('xss')</script>\", input_type=str]\n    For further information visit https://errors.pydantic.dev/2.10/v/int_parsing"
        },
        "execution_time": 0.004000425338745117,
        "is_functional_test": false
      },
      {
        "case_name": "Fetch Email Under High Load Simulation",
        "purpose": "在模拟高负载环境下验证 get_email_by_number 是否仍能稳定运行并返回结果。",
        "args": {
          "email_number": 1
        },
        "response": {
          "result": "{\"error\": \"No emails are cached. Please run 'list_recent_emails' first.\"}"
        },
        "execution_time": 0.008664131164550781,
        "is_functional_test": true
      },
      {
        "case_name": "Fetch Email with Special Characters in Content",
        "purpose": "验证工具是否能正确获取包含特殊字符的邮件内容。",
        "args": {
          "email_number": 2
        },
        "response": {
          "result": "{\"error\": \"No emails are cached. Please run 'list_recent_emails' first.\"}"
        },
        "execution_time": 0.004912376403808594,
        "is_functional_test": true
      },
      {
        "case_name": "Fetch Email with Unicode Characters in Subject or Body",
        "purpose": "测试工具是否支持显示包含Unicode字符（如中文、日文）的邮件内容。",
        "args": {
          "email_number": 3
        },
        "response": {
          "result": "{\"error\": \"No emails are cached. Please run 'list_recent_emails' first.\"}"
        },
        "execution_time": 0.007029294967651367,
        "is_functional_test": true
      }
    ],
    "reply_to_email_by_number": [
      {
        "case_name": "Basic Email Reply Functionality",
        "purpose": "验证工具能通过索引号正确回复指定邮件并返回成功消息。",
        "args": {
          "email_number": 1,
          "reply_content": "Thank you for the update."
        },
        "response": {
          "result": "{\"error\": \"No emails are cached. Please run 'list_recent_emails' first.\"}"
        },
        "execution_time": 0.013582706451416016,
        "is_functional_test": true
      },
      {
        "case_name": "Reply to First Email in List",
        "purpose": "验证对列表中第一个邮件进行有效回复的边界情况。",
        "args": {
          "email_number": 0,
          "reply_content": "This is a reply to the first email."
        },
        "response": {
          "result": "{\"error\": \"No emails are cached. Please run 'list_recent_emails' first.\"}"
        },
        "execution_time": 0.012751102447509766,
        "is_functional_test": true
      },
      {
        "case_name": "Reply to Last Email in List",
        "purpose": "验证对列表中最后一个邮件进行有效回复的边界情况。",
        "args": {
          "email_number": 99,
          "reply_content": "This is a reply to the last email."
        },
        "response": {
          "result": "{\"error\": \"No emails are cached. Please run 'list_recent_emails' first.\"}"
        },
        "execution_time": 0.01139211654663086,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Reply Content Handling",
        "purpose": "测试当回复内容为空字符串时，是否仍能正常发送。",
        "args": {
          "email_number": 1,
          "reply_content": ""
        },
        "response": {
          "result": "{\"error\": \"No emails are cached. Please run 'list_recent_emails' first.\"}"
        },
        "execution_time": 0.011510848999023438,
        "is_functional_test": true
      },
      {
        "case_name": "Long Reply Content Handling",
        "purpose": "验证工具是否支持发送包含大量文本的回复内容。",
        "args": {
          "email_number": 2,
          "reply_content": "This is a very long reply content that exceeds typical length limits. It should still be sent successfully without any truncation or failure."
        },
        "response": {
          "result": "{\"error\": \"No emails are cached. Please run 'list_recent_emails' first.\"}"
        },
        "execution_time": 0.009509563446044922,
        "is_functional_test": true
      },
      {
        "case_name": "Special Characters in Reply Content",
        "purpose": "验证工具能否正确处理包含特殊字符（如@、#、<script>等）的回复内容。",
        "args": {
          "email_number": 3,
          "reply_content": "This is a reply with special characters: @, #, <script>alert('xss')</script>"
        },
        "response": {
          "result": "{\"error\": \"No emails are cached. Please run 'list_recent_emails' first.\"}"
        },
        "execution_time": 0.008528947830200195,
        "is_functional_test": false
      },
      {
        "case_name": "SQL Injection Attempt in Reply Content",
        "purpose": "测试工具是否安全地处理含有潜在SQL注入风险的回复内容。",
        "args": {
          "email_number": 4,
          "reply_content": "DROP TABLE emails; -- This is a test reply."
        },
        "response": {
          "result": "{\"error\": \"No emails are cached. Please run 'list_recent_emails' first.\"}"
        },
        "execution_time": 0.01185464859008789,
        "is_functional_test": false
      },
      {
        "case_name": "XSS Attempt in Reply Content",
        "purpose": "验证工具是否安全地处理含有潜在XSS攻击特征的回复内容。",
        "args": {
          "email_number": 5,
          "reply_content": "<script>alert('xss')</script> This is a test reply."
        },
        "response": {
          "result": "{\"error\": \"No emails are cached. Please run 'list_recent_emails' first.\"}"
        },
        "execution_time": 0.014887332916259766,
        "is_functional_test": false
      },
      {
        "case_name": "Negative Email Number Handling",
        "purpose": "测试工具对负数邮件索引的处理是否合理并返回错误信息。",
        "args": {
          "email_number": -1,
          "reply_content": "This should fail due to invalid email number."
        },
        "response": {
          "result": "{\"error\": \"No emails are cached. Please run 'list_recent_emails' first.\"}"
        },
        "execution_time": 0.008516788482666016,
        "is_functional_test": false
      },
      {
        "case_name": "Non-Integer Email Number Handling",
        "purpose": "验证工具是否拒绝非整数类型的邮件索引输入。",
        "args": {
          "email_number": 1.5,
          "reply_content": "This should fail due to non-integer email number."
        },
        "response": {
          "error": "ToolException: Error executing tool reply_to_email_by_number: 1 validation error for reply_to_email_by_numberArguments\nemail_number\n  Input should be a valid integer, got a number with a fractional part [type=int_from_float, input_value=1.5, input_type=float]\n    For further information visit https://errors.pydantic.dev/2.10/v/int_from_float"
        },
        "execution_time": 0.0072460174560546875,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Email Index Out of Range",
        "purpose": "测试当提供的邮件索引超出当前缓存邮件列表范围时的行为。",
        "args": {
          "email_number": 9999,
          "reply_content": "This should fail because the email index is out of range."
        },
        "response": {
          "result": "{\"error\": \"No emails are cached. Please run 'list_recent_emails' first.\"}"
        },
        "execution_time": 0.012506723403930664,
        "is_functional_test": false
      },
      {
        "case_name": "Unicode Reply Content Handling",
        "purpose": "验证工具是否支持发送包含非英文字符（如中文、日文）的回复内容。",
        "args": {
          "email_number": 6,
          "reply_content": "这是一封包含中文字符的回复邮件。"
        },
        "response": {
          "result": "{\"error\": \"No emails are cached. Please run 'list_recent_emails' first.\"}"
        },
        "execution_time": 0.009007453918457031,
        "is_functional_test": true
      }
    ],
    "compose_email": [
      {
        "case_name": "Basic Email Composition With Required Fields",
        "purpose": "验证仅使用必填参数时能否正确发送邮件（主题、正文、收件人）。",
        "args": {
          "subject": "Test Subject",
          "body": "This is a test email body.",
          "recipients": [
            "test@example.com"
          ]
        },
        "response": {
          "result": "\"Email sent successfully\""
        },
        "execution_time": 10.904809474945068,
        "is_functional_test": true
      },
      {
        "case_name": "Email Composition With CC Field",
        "purpose": "验证包含可选CC字段的邮件是否能正常发送。",
        "args": {
          "subject": "Meeting Agenda",
          "body": "Please review the attached agenda for tomorrow's meeting.",
          "recipients": [
            "john.doe@example.com"
          ],
          "cc": [
            "jane.smith@example.com"
          ]
        },
        "response": {
          "result": "\"Email sent successfully\""
        },
        "execution_time": 9.40995168685913,
        "is_functional_test": true
      },
      {
        "case_name": "Empty CC Field Handling",
        "purpose": "验证当CC字段为空数组时，工具是否仍能正常处理并发送邮件。",
        "args": {
          "subject": "Notification",
          "body": "This is a system-generated notification.",
          "recipients": [
            "user@example.com"
          ],
          "cc": []
        },
        "response": {
          "result": "{\"error\": \"(-2147467260, '\\u5df2\\u4e2d\\u6b62\\u64cd\\u4f5c', None, None)\"}"
        },
        "execution_time": 1.31990385055542,
        "is_functional_test": true
      },
      {
        "case_name": "Multiple Recipients And CCs",
        "purpose": "验证多个收件人和抄送地址是否都能正确包含在邮件中。",
        "args": {
          "subject": "Team Update",
          "body": "Weekly team update attached.",
          "recipients": [
            "alice@example.com",
            "bob@example.com"
          ],
          "cc": [
            "charlie@example.com",
            "diana@example.com"
          ]
        },
        "response": {
          "result": "{\"error\": \"(-2147467260, '\\u5df2\\u4e2d\\u6b62\\u64cd\\u4f5c', None, None)\"}"
        },
        "execution_time": 1.3466360569000244,
        "is_functional_test": true
      },
      {
        "case_name": "Special Characters In Subject And Body",
        "purpose": "验证邮件主题和正文中的特殊字符是否能被正确处理。",
        "args": {
          "subject": "Subject with special chars: @#$%^&*()",
          "body": "Body content with special characters: {}[]|\\\";':,./<>?",
          "recipients": [
            "special.chars@example.com"
          ]
        },
        "response": {
          "result": "{\"error\": \"(-2147467260, '\\u5df2\\u4e2d\\u6b62\\u64cd\\u4f5c', None, None)\"}"
        },
        "execution_time": 0.6358575820922852,
        "is_functional_test": true
      },
      {
        "case_name": "Long Text In Subject And Body",
        "purpose": "测试长文本在邮件主题和正文中的处理能力。",
        "args": {
          "subject": "A very long subject line that exceeds typical length limits and should still be handled properly by the compose_email function",
          "body": "This is a very long body text. It contains multiple paragraphs and should not cause any issues when being processed by the email composition tool. The purpose of this test is to ensure that large amounts of text are handled gracefully without truncation or errors.",
          "recipients": [
            "long.text.test@example.com"
          ]
        },
        "response": {
          "result": "{\"error\": \"(-2147467260, '\\u5df2\\u4e2d\\u6b62\\u64cd\\u4f5c', None, None)\"}"
        },
        "execution_time": 0.44762539863586426,
        "is_functional_test": true
      },
      {
        "case_name": "Unicode Characters In Email Content",
        "purpose": "验证中文、日文等非英文字符在邮件内容中的处理。",
        "args": {
          "subject": "邮件测试 - 中文主题",
          "body": "这是一封测试邮件，用于验证Unicode字符的处理能力。メール本文もテストします。",
          "recipients": [
            "unicode.test@example.com"
          ]
        },
        "response": {
          "result": "\"Email sent successfully\""
        },
        "execution_time": 5.955256938934326,
        "is_functional_test": true
      },
      {
        "case_name": "Missing Recipient List",
        "purpose": "验证缺少收件人列表时是否返回错误或进行适当处理。",
        "args": {
          "subject": "Error Test",
          "body": "This email should fail due to missing recipients.",
          "recipients": []
        },
        "response": {
          "result": "{\"error\": \"At least one recipient must be provided.\"}"
        },
        "execution_time": 0.0039975643157958984,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Email Format In Recipients",
        "purpose": "验证收件人邮箱格式不正确时是否能进行有效校验。",
        "args": {
          "subject": "Invalid Recipient Test",
          "body": "Testing invalid recipient handling.",
          "recipients": [
            "invalid-email@",
            "user@domain",
            "plainaddress"
          ]
        },
        "response": {
          "result": "{\"error\": \"(-2147467260, '\\u5df2\\u4e2d\\u6b62\\u64cd\\u4f5c', None, None)\"}"
        },
        "execution_time": 0.6898179054260254,
        "is_functional_test": false
      },
      {
        "case_name": "SQL Injection Attempt In Email Body",
        "purpose": "验证邮件正文是否安全地处理潜在SQL注入尝试。",
        "args": {
          "subject": "Security Test",
          "body": "'; DROP TABLE users;--",
          "recipients": [
            "security.test@example.com"
          ]
        },
        "response": {
          "result": "{\"error\": \"(-2147467260, '\\u5df2\\u4e2d\\u6b62\\u64cd\\u4f5c', None, None)\"}"
        },
        "execution_time": 0.5002751350402832,
        "is_functional_test": false
      },
      {
        "case_name": "XSS Attempt In Email Content",
        "purpose": "验证邮件内容是否安全地处理潜在XSS攻击特征。",
        "args": {
          "subject": "<script>alert('xss')</script>",
          "body": "Potential XSS attempt in body: <img src='x' onerror='alert(1)'>",
          "recipients": [
            "xss.test@example.com"
          ]
        },
        "response": {
          "result": "{\"error\": \"(-2147467260, '\\u5df2\\u4e2d\\u6b62\\u64cd\\u4f5c', None, None)\"}"
        },
        "execution_time": 0.4400057792663574,
        "is_functional_test": false
      },
      {
        "case_name": "Maximum Recipient Count Test",
        "purpose": "验证工具在最大合理收件人数限制下的行为。",
        "args": {
          "subject": "Mass Email Test",
          "body": "This is a test email sent to a large number of recipients.",
          "recipients": [
            "user1@example.com",
            "user2@example.com",
            "user3@example.com",
            "user4@example.com",
            "user5@example.com"
          ]
        },
        "response": {
          "result": "{\"error\": \"(-2147467260, '\\u5df2\\u4e2d\\u6b62\\u64cd\\u4f5c', None, None)\"}"
        },
        "execution_time": 0.17167282104492188,
        "is_functional_test": true
      }
    ]
  },
  "total_cases": 72
}