{
  "server_name": "server",
  "parent_dir": "refined",
  "report_name": "gemini-2.5-pro-mcp_content_to_markdown_conver",
  "server_path": "workspace/pipeline-output-servers/gemini-2.5-pro/mcp_content_to_markdown_conver/refined/server.py",
  "timestamp": "2025-07-13T03:57:04.948263",
  "tools": [
    {
      "name": "convert_to_markdown",
      "description": "Converts content from various sources (HTTP/S webpages, local file paths, or Data URIs) into structured Markdown.\n\n    The tool automatically detects the source type and processes it accordingly. It preserves structural\n    elements like headings, lists, tables, and links.\n\n    Args:\n        source (str): The source of the content to be converted. This can be:\n                      - An HTTP or HTTPS URL (e.g., \"https://example.com\").\n                      - A local file path (e.g., \"./my_document.html\").\n                      - A Data URI (e.g., \"data:text/html;base64,PGgxPlRlc3Q8L2gxPg==\").\n\n    Returns:\n        A string containing the content converted to structured Markdown.\n\n    Raises:\n        ValueError: If the source is invalid, content cannot be fetched, or the source type is unsupported.\n        requests.exceptions.RequestException: If a network error occurs while fetching a URL.\n    ",
      "args_schema": {
        "properties": {
          "source": {
            "title": "Source",
            "type": "string"
          }
        },
        "required": [
          "source"
        ],
        "title": "convert_to_markdownArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "convert_to_markdown": [
      {
        "case_name": "Basic HTML File Conversion",
        "purpose": "验证工具能够将本地HTML文件正确转换为结构化的Markdown格式。",
        "args": {
          "source": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\present.html"
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: An error occurred while processing source 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\present.html': Security error: File path 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\present.html' is outside the allowed directory."
        },
        "execution_time": 0.004999637603759766,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Content File Handling",
        "purpose": "测试工具在输入文件内容为空时的处理能力，确保不会崩溃并返回适当结果或空字符串。",
        "args": {
          "source": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content_test.txt"
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: An error occurred while processing source 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content_test.txt': Security error: File path 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content_test.txt' is outside the allowed directory."
        },
        "execution_time": 0.002999544143676758,
        "is_functional_test": true
      },
      {
        "case_name": "HTTP URL Conversion",
        "purpose": "验证工具能够从远程HTTP URL获取网页内容并转换为Markdown。",
        "args": {
          "source": "http://example.com"
        },
        "response": {
          "result": "\nExample Domain\n\n\n\n\n\n# Example Domain\n\nThis domain is for use in illustrative examples in documents. You may use this\ndomain in literature without prior coordination or asking for permission.\n\n[More information...](https://www.iana.org/domains/example)\n\n\n\n\n"
        },
        "execution_time": 0.8384044170379639,
        "is_functional_test": true
      },
      {
        "case_name": "HTTPS URL Conversion",
        "purpose": "验证工具能够从安全的HTTPS URL获取网页内容并转换为Markdown。",
        "args": {
          "source": "https://example.com"
        },
        "response": {
          "result": "\nExample Domain\n\n\n\n\n\n# Example Domain\n\nThis domain is for use in illustrative examples in documents. You may use this\ndomain in literature without prior coordination or asking for permission.\n\n[More information...](https://www.iana.org/domains/example)\n\n\n\n\n"
        },
        "execution_time": 1.2744081020355225,
        "is_functional_test": true
      },
      {
        "case_name": "Base64 Data URI Conversion",
        "purpose": "测试工具能否正确解析并转换base64编码的Data URI为Markdown。",
        "args": {
          "source": "data:text/html;base64,PGgxPlRlc3Q8L2gxPg=="
        },
        "response": {
          "result": "\n# Test\n\n"
        },
        "execution_time": 0.004094123840332031,
        "is_functional_test": true
      },
      {
        "case_name": "Special Characters in Source Path",
        "purpose": "测试包含特殊字符的文件路径是否能被正确处理。",
        "args": {
          "source": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special@#$.docx"
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: An error occurred while processing source 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special@#$.docx': Security error: File path 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special@#$.docx' is outside the allowed directory."
        },
        "execution_time": 0.003998994827270508,
        "is_functional_test": true
      },
      {
        "case_name": "Invalid File Format Handling",
        "purpose": "测试工具对非文本类文件（如图片）的错误处理能力。",
        "args": {
          "source": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nature.png"
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: An error occurred while processing source 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nature.png': Security error: File path 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nature.png' is outside the allowed directory."
        },
        "execution_time": 0.008000373840332031,
        "is_functional_test": false
      },
      {
        "case_name": "Malformed URL Handling",
        "purpose": "验证工具在遇到无效URL时是否会抛出适当的错误信息。",
        "args": {
          "source": "htp:/invalid-url-example"
        },
        "response": {
          "result": "htp:/invalid-url-example"
        },
        "execution_time": 0.004998683929443359,
        "is_functional_test": false
      }
    ]
  },
  "total_cases": 8
}