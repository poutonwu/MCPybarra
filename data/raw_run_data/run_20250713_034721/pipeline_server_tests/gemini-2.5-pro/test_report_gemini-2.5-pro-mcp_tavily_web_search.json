{
  "server_name": "server",
  "parent_dir": "refined",
  "report_name": "gemini-2.5-pro-mcp_tavily_web_search",
  "server_path": "workspace/pipeline-output-servers/gemini-2.5-pro/mcp_tavily_web_search/refined/server.py",
  "timestamp": "2025-07-13T03:58:24.998591",
  "tools": [
    {
      "name": "tavily_web_search",
      "description": "\n    Performs a comprehensive web search using the Tavily API.\n\n    This function supports customizable search depth and allows for fine-grained\n    control over the search scope by including or excluding specific domains.\n\n    Args:\n        query (str): The search query string. (Required)\n        search_depth (str, optional): The depth of the search. Can be 'basic' for\n                                     quick results or 'advanced' for more in-depth\n                                     analysis. Defaults to 'basic'.\n        include_domains (List[str], optional): A list of domains to specifically\n                                               include in the search results.\n        exclude_domains (List[str], optional): A list of domains to specifically\n                                               exclude from the search results.\n        max_results (int, optional): The maximum number of search results to\n                                     return. Defaults to 5.\n\n    Returns:\n        str: A JSON string representing a list of dictionaries, where each\n             dictionary contains a search result with 'title', 'url', and 'content'.\n             In case of an error, a JSON string with an 'error' key is returned.\n\n    Example:\n        tavily_web_search(\n            query=\"latest advancements in AI\",\n            search_depth=\"advanced\",\n            include_domains=[\"techcrunch.com\"],\n            max_results=3\n        )\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "search_depth": {
            "default": "basic",
            "title": "Search Depth",
            "type": "string"
          },
          "include_domains": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Include Domains"
          },
          "exclude_domains": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Exclude Domains"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_web_searchArguments",
        "type": "object"
      }
    },
    {
      "name": "tavily_answer_search",
      "description": "\n    Conducts a search to find a direct answer to a specific question.\n\n    This tool leverages Tavily's advanced search capabilities to generate a\n    concise answer supported by evidence from search results. It always uses\n    'advanced' search depth and requests an answer.\n\n    Args:\n        query (str): The question or query for which a direct answer is sought. (Required)\n        max_results (int, optional): The maximum number of supporting search results\n                                     to return alongside the answer. Defaults to 5.\n\n    Returns:\n        str: A JSON string containing a dictionary with two keys: 'answer' (str),\n             which holds the direct answer, and 'results' (List[dict]), a list\n             of supporting search result dictionaries. In case of an error, a\n             JSON string with an 'error' key is returned.\n\n    Example:\n        tavily_answer_search(query=\"What is the capital of France?\")\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_answer_searchArguments",
        "type": "object"
      }
    },
    {
      "name": "tavily_news_search",
      "description": "\n    Specializes in searching for recent news articles.\n\n    It allows filtering articles by their publication date (up to 365 days old)\n    and by specific news sources.\n\n    Args:\n        query (str): The topic or keyword for the news search. (Required)\n        max_days_ago (int, optional): The maximum age of news articles in days.\n                                      Must be between 1 and 365. Defaults to 7.\n        include_domains (List[str], optional): A list of news source domains to\n                                               include (e.g., ['reuters.com']).\n        exclude_domains (List[str], optional): A list of news source domains to\n                                               exclude.\n        max_results (int, optional): The maximum number of news articles to return.\n                                     Defaults to 5.\n\n    Returns:\n        str: A JSON string representing a list of dictionaries, where each\n             dictionary is a news article with 'title', 'url', and 'content'.\n             In case of an error, a JSON string with an 'error' key is returned.\n\n    Example:\n        tavily_news_search(\n            query=\"tech earnings report\",\n            max_days_ago=14,\n            include_domains=[\"bloomberg.com\"]\n        )\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "max_days_ago": {
            "default": 7,
            "title": "Max Days Ago",
            "type": "integer"
          },
          "include_domains": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Include Domains"
          },
          "exclude_domains": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Exclude Domains"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_news_searchArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "tavily_web_search": [
      {
        "case_name": "Basic Search with Default Parameters",
        "purpose": "验证使用默认参数的基本搜索功能是否正常工作",
        "args": {
          "query": "artificial intelligence"
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred\", \"details\": \"This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com\"}"
        },
        "execution_time": 1.4701709747314453,
        "is_functional_test": true
      },
      {
        "case_name": "Advanced Search with Max Results",
        "purpose": "测试高级搜索深度和返回最大结果数的组合功能",
        "args": {
          "query": "climate change",
          "search_depth": "advanced",
          "max_results": 3
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred\", \"details\": \"This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com\"}"
        },
        "execution_time": 1.4450573921203613,
        "is_functional_test": true
      },
      {
        "case_name": "Include Specific Domain in Search",
        "purpose": "验证搜索时包含特定域名的功能",
        "args": {
          "query": "latest news",
          "include_domains": [
            "news.google.com"
          ]
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred\", \"details\": \"This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com\"}"
        },
        "execution_time": 1.4434711933135986,
        "is_functional_test": true
      },
      {
        "case_name": "Exclude Specific Domain from Search",
        "purpose": "测试排除指定域名的搜索功能",
        "args": {
          "query": "technology trends",
          "exclude_domains": [
            "wikipedia.org"
          ]
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred\", \"details\": \"This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com\"}"
        },
        "execution_time": 1.5900647640228271,
        "is_functional_test": true
      },
      {
        "case_name": "Combined Include and Exclude Domains",
        "purpose": "验证同时使用 include 和 exclude 域名的搜索逻辑",
        "args": {
          "query": "AI ethics",
          "include_domains": [
            "aiethicsinstitute.org"
          ],
          "exclude_domains": [
            "example.com"
          ]
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred\", \"details\": \"This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com\"}"
        },
        "execution_time": 1.384389877319336,
        "is_functional_test": true
      },
      {
        "case_name": "Search with Special Characters in Query",
        "purpose": "测试查询中包含特殊字符的处理能力",
        "args": {
          "query": "machine learning & deep learning"
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred\", \"details\": \"This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com\"}"
        },
        "execution_time": 1.413478136062622,
        "is_functional_test": true
      },
      {
        "case_name": "Error Handling - Empty Query",
        "purpose": "测试空查询字符串的错误处理机制",
        "args": {
          "query": ""
        },
        "response": {
          "result": "{\"error\": \"Validation Error\", \"details\": \"The 'query' parameter must be a non-empty string.\"}"
        },
        "execution_time": 0.004509449005126953,
        "is_functional_test": false
      },
      {
        "case_name": "Error Handling - Invalid Search Depth",
        "purpose": "验证不合法的 search_depth 参数是否被正确拒绝",
        "args": {
          "query": "quantum computing",
          "search_depth": "invalid_depth"
        },
        "response": {
          "result": "{\"error\": \"Validation Error\", \"details\": \"The 'search_depth' parameter must be 'basic' or 'advanced'.\"}"
        },
        "execution_time": 0.0029993057250976562,
        "is_functional_test": false
      },
      {
        "case_name": "Boundary Test - Max Results at Limit",
        "purpose": "测试达到 max_results 上限的情况",
        "args": {
          "query": "open source projects",
          "max_results": 5
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred\", \"details\": \"This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com\"}"
        },
        "execution_time": 1.451986312866211,
        "is_functional_test": true
      },
      {
        "case_name": "Boundary Test - Zero Max Results",
        "purpose": "测试设置 max_results 为 0 的边界情况",
        "args": {
          "query": "blockchain technology",
          "max_results": 0
        },
        "response": {
          "result": "{\"error\": \"Validation Error\", \"details\": \"The 'max_results' parameter must be a positive integer.\"}"
        },
        "execution_time": 0.00557255744934082,
        "is_functional_test": false
      },
      {
        "case_name": "Special Character Handling in Domain Names",
        "purpose": "验证在 include_domains 中处理含特殊字符的域名",
        "args": {
          "query": "cybersecurity",
          "include_domains": [
            "exa@mple.co#m"
          ]
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred\", \"details\": \"This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com\"}"
        },
        "execution_time": 1.4363598823547363,
        "is_functional_test": false
      }
    ],
    "tavily_answer_search": [
      {
        "case_name": "Basic Answer Search with Default Parameters",
        "purpose": "验证使用默认参数的基本问答搜索功能是否正常工作",
        "args": {
          "query": "What is the capital of France?"
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred\", \"details\": \"This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com\"}"
        },
        "execution_time": 1.412325143814087,
        "is_functional_test": true
      },
      {
        "case_name": "Answer Search with Max Results Set to 3",
        "purpose": "测试指定返回最多3个支持结果的问答搜索功能",
        "args": {
          "query": "Who invented the telephone?",
          "max_results": 3
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred\", \"details\": \"This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com\"}"
        },
        "execution_time": 1.4353158473968506,
        "is_functional_test": true
      },
      {
        "case_name": "Answer Search for a Technical Question",
        "purpose": "验证工具对技术类问题的回答能力",
        "args": {
          "query": "What is quantum computing?"
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred\", \"details\": \"This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com\"}"
        },
        "execution_time": 1.6670329570770264,
        "is_functional_test": true
      },
      {
        "case_name": "Answer Search with Special Characters in Query",
        "purpose": "测试包含特殊字符的问题查询处理能力",
        "args": {
          "query": "What's the difference between & and && in programming?"
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred\", \"details\": \"This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com\"}"
        },
        "execution_time": 1.4327366352081299,
        "is_functional_test": true
      },
      {
        "case_name": "Security Test - Injection Attempt in Query",
        "purpose": "验证系统是否安全地处理含潜在注入攻击的查询内容",
        "args": {
          "query": "DROP TABLE users; What is the weather today?"
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred\", \"details\": \"This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com\"}"
        },
        "execution_time": 1.625643014907837,
        "is_functional_test": false
      },
      {
        "case_name": "Error Handling - Empty Query String",
        "purpose": "测试空查询字符串的错误处理机制",
        "args": {
          "query": ""
        },
        "response": {
          "result": "{\"error\": \"Validation Error\", \"details\": \"The 'query' parameter must be a non-empty string.\"}"
        },
        "execution_time": 0.003999471664428711,
        "is_functional_test": false
      },
      {
        "case_name": "Error Handling - Negative Max Results",
        "purpose": "验证负值 max_results 参数是否被正确拒绝",
        "args": {
          "query": "Artificial Intelligence trends",
          "max_results": -2
        },
        "response": {
          "result": "{\"error\": \"Validation Error\", \"details\": \"The 'max_results' parameter must be a positive integer.\"}"
        },
        "execution_time": 0.0040013790130615234,
        "is_functional_test": false
      }
    ],
    "tavily_news_search": [
      {
        "case_name": "Basic News Search with Default Parameters",
        "purpose": "验证使用默认参数的基本新闻搜索功能是否正常工作",
        "args": {
          "query": "technology news"
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred\", \"details\": \"This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com\"}"
        },
        "execution_time": 1.4221916198730469,
        "is_functional_test": true
      },
      {
        "case_name": "News Search with Max Days Ago Set to 365",
        "purpose": "测试最大天数为365天的新闻搜索功能",
        "args": {
          "query": "climate change",
          "max_days_ago": 365
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred\", \"details\": \"This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com\"}"
        },
        "execution_time": 1.4128711223602295,
        "is_functional_test": true
      },
      {
        "case_name": "Include Specific Domain in News Search",
        "purpose": "验证包含特定新闻源域名的搜索功能",
        "args": {
          "query": "financial market update",
          "include_domains": [
            "reuters.com"
          ]
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred\", \"details\": \"This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com\"}"
        },
        "execution_time": 1.478623867034912,
        "is_functional_test": true
      },
      {
        "case_name": "Exclude Specific Domain from News Search",
        "purpose": "测试排除指定新闻源域名的搜索功能",
        "args": {
          "query": "healthcare innovation",
          "exclude_domains": [
            "wikipedia.org"
          ]
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred\", \"details\": \"This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com\"}"
        },
        "execution_time": 1.494903564453125,
        "is_functional_test": true
      },
      {
        "case_name": "Combined Include and Exclude Domains in News Search",
        "purpose": "验证同时使用 include 和 exclude 域名的搜索逻辑",
        "args": {
          "query": "AI development",
          "include_domains": [
            "aijournal.org"
          ],
          "exclude_domains": [
            "example.com"
          ]
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred\", \"details\": \"This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com\"}"
        },
        "execution_time": 1.4741754531860352,
        "is_functional_test": true
      },
      {
        "case_name": "Search with Special Characters in Query",
        "purpose": "测试查询中包含特殊字符的处理能力",
        "args": {
          "query": "machine learning & deep learning"
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred\", \"details\": \"This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com\"}"
        },
        "execution_time": 1.4618287086486816,
        "is_functional_test": true
      },
      {
        "case_name": "Security Test - Injection Attempt in Query",
        "purpose": "验证系统是否安全地处理含潜在注入攻击的查询内容",
        "args": {
          "query": "DROP TABLE users; What is the latest tech news?"
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred\", \"details\": \"This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com\"}"
        },
        "execution_time": 1.4035828113555908,
        "is_functional_test": false
      },
      {
        "case_name": "Error Handling - Empty Query String",
        "purpose": "测试空查询字符串的错误处理机制",
        "args": {
          "query": ""
        },
        "response": {
          "result": "{\"error\": \"Validation Error\", \"details\": \"The 'query' parameter must be a non-empty string.\"}"
        },
        "execution_time": 0.004779338836669922,
        "is_functional_test": false
      },
      {
        "case_name": "Error Handling - Invalid Max Days Ago Value",
        "purpose": "验证非法 max_days_ago 参数值是否被正确拒绝",
        "args": {
          "query": "sports news",
          "max_days_ago": 0
        },
        "response": {
          "result": "{\"error\": \"Validation Error\", \"details\": \"The 'max_days_ago' parameter must be an integer between 1 and 365.\"}"
        },
        "execution_time": 0.008035898208618164,
        "is_functional_test": false
      },
      {
        "case_name": "Boundary Test - Max Results at Limit",
        "purpose": "测试达到 max_results 上限的情况",
        "args": {
          "query": "latest headlines",
          "max_results": 5
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred\", \"details\": \"This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com\"}"
        },
        "execution_time": 1.4363889694213867,
        "is_functional_test": true
      },
      {
        "case_name": "Boundary Test - Min Results Edge Case",
        "purpose": "测试设置 max_results 为 1 的边界情况",
        "args": {
          "query": "breaking news",
          "max_results": 1
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred\", \"details\": \"This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com\"}"
        },
        "execution_time": 1.465606451034546,
        "is_functional_test": true
      },
      {
        "case_name": "Special Character Handling in Domain Names",
        "purpose": "验证在 include_domains 中处理含特殊字符的域名",
        "args": {
          "query": "cybersecurity updates",
          "include_domains": [
            "exa@mple.co#m"
          ]
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred\", \"details\": \"This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com\"}"
        },
        "execution_time": 1.4430501461029053,
        "is_functional_test": false
      }
    ]
  },
  "total_cases": 30
}