{
  "server_name": "server",
  "parent_dir": "refined",
  "report_name": "qwen-plus-mcp_ssh_automation_manager",
  "server_path": "workspace/pipeline-output-servers/qwen-plus/mcp_ssh_automation_manager/refined/server.py",
  "timestamp": "2025-07-13T04:14:55.444397",
  "tools": [
    {
      "name": "connect",
      "description": "\n    建立与远程SSH服务器的安全连接，支持密码或密钥认证。\n\n    Args:（默认为已经配好key_path的免密登录的主机）\n        host: 目标SSH服务器的IP地址或主机名。（默认：10.70.5.21）\n        port: SSH服务端口号，默认22。（默认：26002）\n        username: 登录用户名。（默认：pengbocheng）\n        password: 登录密码（如果使用密钥认证则不需要）。（默认：123456）\n        key_path: 私钥文件路径（如果使用密码认证则不需要）。\n        key_passphrase: 密钥文件的密码短语。\n\n    Returns:\n        包含会话ID的字符串，用于后续操作标识该连接。\n\n    Raises:\n        ValueError: 如果参数验证失败。\n        paramiko.SSHException: 如果SSH连接失败。\n    ",
      "args_schema": {
        "properties": {
          "host": {
            "default": "10.70.5.21",
            "title": "Host",
            "type": "string"
          },
          "port": {
            "default": 26002,
            "title": "Port",
            "type": "integer"
          },
          "username": {
            "default": "pengbocheng",
            "title": "Username",
            "type": "string"
          },
          "password": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Password"
          },
          "key_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Key Path"
          },
          "key_passphrase": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Key Passphrase"
          }
        },
        "title": "connectArguments",
        "type": "object"
      }
    },
    {
      "name": "disconnect",
      "description": "\n    安全断开指定的SSH连接并释放相关资源。\n\n    Args:\n        session_id: 要断开的会话唯一标识符。\n\n    Returns:\n        包含操作结果状态的字符串（成功/失败）。\n\n    Raises:\n        ValueError: 如果会话ID无效。\n    ",
      "args_schema": {
        "properties": {
          "session_id": {
            "title": "Session Id",
            "type": "string"
          }
        },
        "required": [
          "session_id"
        ],
        "title": "disconnectArguments",
        "type": "object"
      }
    },
    {
      "name": "list_sessions",
      "description": "\n    列出所有当前活跃的SSH会话信息。\n\n    Args:\n        无\n\n    Returns:\n        JSON格式字符串，包含活跃会话列表及详细信息。\n    ",
      "args_schema": {
        "properties": {},
        "title": "list_sessionsArguments",
        "type": "object"
      }
    },
    {
      "name": "execute",
      "description": "\n    在指定的SSH会话中执行远程命令，支持标准输入和超时设置。\n\n    Args:\n        session_id: 要执行命令的会话ID。\n        command: 要执行的远程命令。\n        timeout: 命令执行超时时间(秒)，默认60秒。\n        stdin_input: 传递给命令的标准输入内容。\n\n    Returns:\n        JSON格式字符串，包含命令的标准输出、错误输出、退出状态码和执行时间。\n\n    Raises:\n        ValueError: 如果参数验证失败。\n    ",
      "args_schema": {
        "properties": {
          "session_id": {
            "title": "Session Id",
            "type": "string"
          },
          "command": {
            "title": "Command",
            "type": "string"
          },
          "timeout": {
            "default": 60,
            "title": "Timeout",
            "type": "integer"
          },
          "stdin_input": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Stdin Input"
          }
        },
        "required": [
          "session_id",
          "command"
        ],
        "title": "executeArguments",
        "type": "object"
      }
    },
    {
      "name": "upload",
      "description": "\n    将本地文件上传到远程SSH服务器的指定路径。\n\n    Args:\n        session_id: 使用的SSH会话ID。\n        local_path: 本地文件的完整路径。\n        remote_path: 远程服务器上的目标路径。\n\n    Returns:\n        包含传输结果状态的字符串（成功/失败）及传输统计信息。\n\n    Raises:\n        ValueError: 如果参数验证失败。\n    ",
      "args_schema": {
        "properties": {
          "session_id": {
            "title": "Session Id",
            "type": "string"
          },
          "local_path": {
            "title": "Local Path",
            "type": "string"
          },
          "remote_path": {
            "title": "Remote Path",
            "type": "string"
          }
        },
        "required": [
          "session_id",
          "local_path",
          "remote_path"
        ],
        "title": "uploadArguments",
        "type": "object"
      }
    },
    {
      "name": "download",
      "description": "\n    从远程SSH服务器下载文件到本地指定路径。\n\n    Args:\n        session_id: 使用的SSH会话ID。\n        remote_path: 远程服务器上的文件路径。\n        local_path: 本地保存文件的完整路径。\n\n    Returns:\n        包含传输结果状态的字符串（成功/失败）及传输统计信息。\n\n    Raises:\n        ValueError: 如果参数验证失败。\n    ",
      "args_schema": {
        "properties": {
          "session_id": {
            "title": "Session Id",
            "type": "string"
          },
          "remote_path": {
            "title": "Remote Path",
            "type": "string"
          },
          "local_path": {
            "title": "Local Path",
            "type": "string"
          }
        },
        "required": [
          "session_id",
          "remote_path",
          "local_path"
        ],
        "title": "downloadArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "connect": [
      {
        "case_name": "成功建立SSH连接（默认参数）",
        "purpose": "验证使用默认参数能否成功建立SSH连接",
        "args": {},
        "response": {
          "error": "ToolException: Error executing tool connect: 必须提供密码或密钥路径进行认证。"
        },
        "execution_time": 0.0059967041015625,
        "is_functional_test": true
      },
      {
        "case_name": "使用密码认证建立SSH连接",
        "purpose": "验证使用指定密码而非密钥能成功建立SSH连接",
        "args": {
          "host": "10.70.5.21",
          "port": 26002,
          "username": "pengbocheng",
          "password": "123456"
        },
        "response": {
          "result": "745eb7a6-44dd-4571-8d54-65b20a759743"
        },
        "execution_time": 0.25164198875427246,
        "is_functional_test": true
      },
      {
        "case_name": "使用密钥认证建立SSH连接",
        "purpose": "验证使用指定私钥路径能成功建立SSH连接",
        "args": {
          "host": "10.70.5.21",
          "port": 26002,
          "username": "pengbocheng",
          "key_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\.ssh\\id_rsa"
        },
        "response": {
          "error": "ToolException: Error executing tool connect: [Errno 2] No such file or directory: 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\.ssh\\\\id_rsa'"
        },
        "execution_time": 0.005997419357299805,
        "is_functional_test": true
      },
      {
        "case_name": "带密钥密码短语的SSH连接",
        "purpose": "验证使用加密私钥并提供密码短语时能否成功建立SSH连接",
        "args": {
          "host": "10.70.5.21",
          "port": 26002,
          "username": "pengbocheng",
          "key_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\.ssh\\id_rsa_encrypted",
          "key_passphrase": "securepassphrase"
        },
        "response": {
          "error": "ToolException: Error executing tool connect: [Errno 2] No such file or directory: 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\.ssh\\\\id_rsa_encrypted'"
        },
        "execution_time": 0.007006645202636719,
        "is_functional_test": true
      },
      {
        "case_name": "主机不存在导致连接失败",
        "purpose": "验证当目标主机不可达时是否正确抛出异常",
        "args": {
          "host": "10.99.99.99",
          "port": 22,
          "username": "invaliduser"
        },
        "response": {
          "error": "ToolException: Error executing tool connect: 必须提供密码或密钥路径进行认证。"
        },
        "execution_time": 0.00800180435180664,
        "is_functional_test": false
      },
      {
        "case_name": "无效端口导致连接失败",
        "purpose": "验证当指定错误端口时是否能正确处理连接失败",
        "args": {
          "host": "10.70.5.21",
          "port": 99999,
          "username": "pengbocheng"
        },
        "response": {
          "error": "ToolException: Error executing tool connect: 'port' 必须是1到65535之间的有效整数。"
        },
        "execution_time": 0.007010698318481445,
        "is_functional_test": false
      },
      {
        "case_name": "无效用户名导致认证失败",
        "purpose": "验证当使用错误用户名时是否能正确抛出异常",
        "args": {
          "host": "10.70.5.21",
          "port": 26002,
          "username": "invaliduser",
          "password": "wrongpass"
        },
        "response": {
          "error": "ToolException: Error executing tool connect: Authentication failed."
        },
        "execution_time": 2.8744213581085205,
        "is_functional_test": false
      },
      {
        "case_name": "同时提供密码和密钥路径",
        "purpose": "验证工具是否能正确处理同时提供密码和密钥的情况（优先使用密钥）",
        "args": {
          "host": "10.70.5.21",
          "port": 26002,
          "username": "pengbocheng",
          "password": "ignored_password",
          "key_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\.ssh\\id_rsa"
        },
        "response": {
          "result": "4e4afc18-d1bf-43b5-9853-74f7e960bfd1"
        },
        "execution_time": 0.2439289093017578,
        "is_functional_test": true
      }
    ],
    "list_sessions": [
      {
        "case_name": "列出当前所有活跃SSH会话",
        "purpose": "验证list_sessions工具能够成功返回当前所有活跃的SSH会话信息",
        "args": {},
        "response": {
          "result": "{\"active_sessions\": [{\"session_id\": \"745eb7a6-44dd-4571-8d54-65b20a759743\", \"host\": \"10.70.5.21\", \"username\": \"pengbocheng\", \"connected_at\": 1752351330.4750519}, {\"session_id\": \"4e4afc18-d1bf-43b5-9853-74f7e960bfd1\", \"host\": \"10.70.5.21\", \"username\": \"pengbocheng\", \"connected_at\": 1752351333.6274335}], \"total_sessions\": 2}"
        },
        "execution_time": 0.005998849868774414,
        "is_functional_test": true
      },
      {
        "case_name": "无活跃会话时返回空列表",
        "purpose": "验证当没有活跃SSH会话时，list_sessions是否正确返回空列表",
        "args": {},
        "response": {
          "result": "{\"active_sessions\": [{\"session_id\": \"745eb7a6-44dd-4571-8d54-65b20a759743\", \"host\": \"10.70.5.21\", \"username\": \"pengbocheng\", \"connected_at\": 1752351330.4750519}, {\"session_id\": \"4e4afc18-d1bf-43b5-9853-74f7e960bfd1\", \"host\": \"10.70.5.21\", \"username\": \"pengbocheng\", \"connected_at\": 1752351333.6274335}], \"total_sessions\": 2}"
        },
        "execution_time": 0.005000114440917969,
        "is_functional_test": true
      },
      {
        "case_name": "并发多会话下正确列出所有会话",
        "purpose": "验证在多个SSH会话并发建立后，list_sessions能否完整、准确地列出所有活跃会话",
        "args": {},
        "response": {
          "result": "{\"active_sessions\": [{\"session_id\": \"745eb7a6-44dd-4571-8d54-65b20a759743\", \"host\": \"10.70.5.21\", \"username\": \"pengbocheng\", \"connected_at\": 1752351330.4750519}, {\"session_id\": \"4e4afc18-d1bf-43b5-9853-74f7e960bfd1\", \"host\": \"10.70.5.21\", \"username\": \"pengbocheng\", \"connected_at\": 1752351333.6274335}], \"total_sessions\": 2}"
        },
        "execution_time": 0.008000373840332031,
        "is_functional_test": true
      },
      {
        "case_name": "长时间运行后会话列表稳定性测试",
        "purpose": "验证系统持续运行一段时间后，list_sessions是否仍能稳定获取正确的会话信息",
        "args": {},
        "response": {
          "result": "{\"active_sessions\": [{\"session_id\": \"745eb7a6-44dd-4571-8d54-65b20a759743\", \"host\": \"10.70.5.21\", \"username\": \"pengbocheng\", \"connected_at\": 1752351330.4750519}, {\"session_id\": \"4e4afc18-d1bf-43b5-9853-74f7e960bfd1\", \"host\": \"10.70.5.21\", \"username\": \"pengbocheng\", \"connected_at\": 1752351333.6274335}], \"total_sessions\": 2}"
        },
        "execution_time": 0.004998445510864258,
        "is_functional_test": true
      },
      {
        "case_name": "非管理员用户调用list_sessions",
        "purpose": "验证非管理员权限用户调用list_sessions时是否会受到适当限制或安全控制",
        "args": {},
        "response": {
          "result": "{\"active_sessions\": [{\"session_id\": \"745eb7a6-44dd-4571-8d54-65b20a759743\", \"host\": \"10.70.5.21\", \"username\": \"pengbocheng\", \"connected_at\": 1752351330.4750519}, {\"session_id\": \"4e4afc18-d1bf-43b5-9853-74f7e960bfd1\", \"host\": \"10.70.5.21\", \"username\": \"pengbocheng\", \"connected_at\": 1752351333.6274335}], \"total_sessions\": 2}"
        },
        "execution_time": 0.009721994400024414,
        "is_functional_test": false
      },
      {
        "case_name": "未认证状态下尝试调用list_sessions",
        "purpose": "验证未通过身份验证的用户调用list_sessions是否会返回权限不足错误",
        "args": {},
        "response": {
          "result": "{\"active_sessions\": [{\"session_id\": \"745eb7a6-44dd-4571-8d54-65b20a759743\", \"host\": \"10.70.5.21\", \"username\": \"pengbocheng\", \"connected_at\": 1752351330.4750519}, {\"session_id\": \"4e4afc18-d1bf-43b5-9853-74f7e960bfd1\", \"host\": \"10.70.5.21\", \"username\": \"pengbocheng\", \"connected_at\": 1752351333.6274335}], \"total_sessions\": 2}"
        },
        "execution_time": 0.0050008296966552734,
        "is_functional_test": false
      },
      {
        "case_name": "网络中断导致无法获取会话列表",
        "purpose": "验证在网络连接异常的情况下，list_sessions是否能优雅处理并返回相应错误信息",
        "args": {},
        "response": {
          "result": "{\"active_sessions\": [{\"session_id\": \"745eb7a6-44dd-4571-8d54-65b20a759743\", \"host\": \"10.70.5.21\", \"username\": \"pengbocheng\", \"connected_at\": 1752351330.4750519}, {\"session_id\": \"4e4afc18-d1bf-43b5-9853-74f7e960bfd1\", \"host\": \"10.70.5.21\", \"username\": \"pengbocheng\", \"connected_at\": 1752351333.6274335}], \"total_sessions\": 2}"
        },
        "execution_time": 0.007999420166015625,
        "is_functional_test": false
      },
      {
        "case_name": "数据库或存储不可用时获取会话列表失败",
        "purpose": "模拟底层数据源故障，验证list_sessions是否能正确捕获异常并返回合理提示",
        "args": {},
        "response": {
          "result": "{\"active_sessions\": [{\"session_id\": \"745eb7a6-44dd-4571-8d54-65b20a759743\", \"host\": \"10.70.5.21\", \"username\": \"pengbocheng\", \"connected_at\": 1752351330.4750519}, {\"session_id\": \"4e4afc18-d1bf-43b5-9853-74f7e960bfd1\", \"host\": \"10.70.5.21\", \"username\": \"pengbocheng\", \"connected_at\": 1752351333.6274335}], \"total_sessions\": 2}"
        },
        "execution_time": 0.004999637603759766,
        "is_functional_test": false
      }
    ],
    "execute": [
      {
        "case_name": "使用有效会话ID执行简单命令",
        "purpose": "验证在已有SSH会话中可以成功执行基本命令（如 'ls'）",
        "args": {
          "session_id": "745eb7a6-44dd-4571-8d54-65b20a759743",
          "command": "ls"
        },
        "response": {
          "result": "{\"stdout\": \"2023.nlposs-1.24.pdf\\napp.ico\\nlarge_file_upload.zip\\noutput.txt\\ntmp\\nuploaded_app.exe\\nuploaded_empty_file.txt\\nuploaded_nature_image.jpg\\nuploaded_\\u6587\\u4ef6#1@2025.docx\\n\\u4e13\\u52291_\\u526f\\u672c.docx\\n\\u6d4b\\u8bd5\\u65b0\\u5efa.txt\\n\", \"stderr\": \"\", \"exit_code\": 0, \"execution_time\": 0.0069997310638427734}"
        },
        "execution_time": 0.01400136947631836,
        "is_functional_test": true
      },
      {
        "case_name": "使用超时参数执行长时间运行的命令",
        "purpose": "验证命令在达到指定超时时间后被正确中断",
        "args": {
          "session_id": "745eb7a6-44dd-4571-8d54-65b20a759743",
          "command": "sleep 10 && echo done",
          "timeout": 5
        },
        "response": {
          "error": "ToolException: Error executing tool execute: "
        },
        "execution_time": 5.0524680614471436,
        "is_functional_test": true
      },
      {
        "case_name": "传递标准输入到远程命令",
        "purpose": "验证stdin_input参数能正确传递输入内容给远程命令",
        "args": {
          "session_id": "745eb7a6-44dd-4571-8d54-65b20a759743",
          "command": "cat",
          "stdin_input": "This is a test input string."
        },
        "response": {
          "error": "Tool call 'execute' was cancelled."
        },
        "execution_time": 50.00905227661133,
        "is_functional_test": true
      },
      {
        "case_name": "执行不存在的命令返回错误信息",
        "purpose": "验证工具能够捕获并返回远程命令执行失败的错误输出",
        "args": {
          "session_id": "745eb7a6-44dd-4571-8d54-65b20a759743",
          "command": "invalid-command-here"
        },
        "response": {
          "result": "{\"stdout\": \"\", \"stderr\": \"bash: line 1: invalid-command-here: command not found\\n\", \"exit_code\": 127, \"execution_time\": 0.04674720764160156}"
        },
        "execution_time": 10.137754440307617,
        "is_functional_test": true
      },
      {
        "case_name": "使用空标准输入执行命令",
        "purpose": "验证当stdin_input为null时命令仍可正常执行",
        "args": {
          "session_id": "745eb7a6-44dd-4571-8d54-65b20a759743",
          "command": "echo 'No stdin provided'",
          "stdin_input": null
        },
        "response": {
          "result": "{\"stdout\": \"No stdin provided\\n\", \"stderr\": \"\", \"exit_code\": 0, \"execution_time\": 0.04172468185424805}"
        },
        "execution_time": 0.047722816467285156,
        "is_functional_test": true
      },
      {
        "case_name": "尝试使用无效会话ID执行命令",
        "purpose": "验证工具是否能正确处理无效或不存在的会话ID",
        "args": {
          "session_id": "nonexistent-session-id",
          "command": "whoami"
        },
        "response": {
          "error": "ToolException: Error executing tool execute: 无效的会话ID: nonexistent-session-id"
        },
        "execution_time": 0.006000995635986328,
        "is_functional_test": false
      },
      {
        "case_name": "未提供必要参数导致参数验证失败",
        "purpose": "验证缺少必填参数（如 session_id 或 command）时是否抛出 ValueError",
        "args": {
          "command": "echo test"
        },
        "response": {
          "error": "ToolException: Error executing tool execute: 1 validation error for executeArguments\nsession_id\n  Field required [type=missing, input_value={'command': 'echo test'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing"
        },
        "execution_time": 0.008212089538574219,
        "is_functional_test": false
      },
      {
        "case_name": "超时设置为最小边界值",
        "purpose": "验证超时时间为最小合法值（1秒）时的行为",
        "args": {
          "session_id": "745eb7a6-44dd-4571-8d54-65b20a759743",
          "command": "sleep 2",
          "timeout": 1
        },
        "response": {
          "error": "ToolException: Error executing tool execute: "
        },
        "execution_time": 1.0401489734649658,
        "is_functional_test": true
      },
      {
        "case_name": "命令中包含特殊字符",
        "purpose": "验证工具能否安全处理包含特殊字符的命令字符串",
        "args": {
          "session_id": "745eb7a6-44dd-4571-8d54-65b20a759743",
          "command": "echo \"Special@#$_Characters!\""
        },
        "response": {
          "result": "{\"stdout\": \"Special@#!\\n\", \"stderr\": \"\", \"exit_code\": 0, \"execution_time\": 0.04429507255554199}"
        },
        "execution_time": 0.052553415298461914,
        "is_functional_test": true
      }
    ],
    "upload": [
      {
        "case_name": "使用有效会话ID上传文件成功",
        "purpose": "验证在提供有效的SSH会话ID、本地路径和远程路径的情况下，文件能成功上传",
        "args": {
          "session_id": "745eb7a6-44dd-4571-8d54-65b20a759743",
          "local_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
          "remote_path": "/home/pengbocheng/uploaded_paper1.pdf"
        },
        "response": {
          "result": "{\"status\": \"success\", \"message\": \"\\u6587\\u4ef6 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\paper1.pdf \\u6210\\u529f\\u4e0a\\u4f20\\u5230 /home/pengbocheng/uploaded_paper1.pdf\", \"transferred_bytes\": 185290}"
        },
        "execution_time": 0.025116920471191406,
        "is_functional_test": true
      },
      {
        "case_name": "上传具有特殊字符的文件名",
        "purpose": "验证工具是否能正确处理包含特殊字符的本地文件名上传",
        "args": {
          "session_id": "745eb7a6-44dd-4571-8d54-65b20a759743",
          "local_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special@#$_document_saved.docx",
          "remote_path": "/home/pengbocheng/uploaded_special@#$_file.docx"
        },
        "response": {
          "result": "{\"status\": \"success\", \"message\": \"\\u6587\\u4ef6 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\special@#$_document_saved.docx \\u6210\\u529f\\u4e0a\\u4f20\\u5230 /home/pengbocheng/uploaded_special@#$_file.docx\", \"transferred_bytes\": 43370}"
        },
        "execution_time": 0.02337789535522461,
        "is_functional_test": true
      },
      {
        "case_name": "上传大文件测试",
        "purpose": "验证工具是否能正确上传较大尺寸的文件（边界条件）",
        "args": {
          "session_id": "745eb7a6-44dd-4571-8d54-65b20a759743",
          "local_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\very_long_file_name_1234567890123456789012345678901234567890_saved.docx",
          "remote_path": "/home/pengbocheng/uploaded_large_file.docx"
        },
        "response": {
          "result": "{\"status\": \"success\", \"message\": \"\\u6587\\u4ef6 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\very_long_file_name_1234567890123456789012345678901234567890_saved.docx \\u6210\\u529f\\u4e0a\\u4f20\\u5230 /home/pengbocheng/uploaded_large_file.docx\", \"transferred_bytes\": 43370}"
        },
        "execution_time": 0.020593881607055664,
        "is_functional_test": true
      },
      {
        "case_name": "无效的session_id导致上传失败",
        "purpose": "验证当提供的session_id无效或不存在时，工具是否能正确抛出错误",
        "args": {
          "session_id": "invalid-session-id",
          "local_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
          "remote_path": "/home/pengbocheng/uploaded_paper1.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool upload: 无效的会话ID: invalid-session-id"
        },
        "execution_time": 0.009531497955322266,
        "is_functional_test": false
      },
      {
        "case_name": "本地文件路径不存在",
        "purpose": "验证当指定的本地文件路径不存在时，工具是否能正确处理错误",
        "args": {
          "session_id": "745eb7a6-44dd-4571-8d54-65b20a759743",
          "local_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_file.txt",
          "remote_path": "/home/pengbocheng/uploaded_file.txt"
        },
        "response": {
          "error": "ToolException: Error executing tool upload: [WinError 2] 系统找不到指定的文件。: 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\nonexistent_file.txt'"
        },
        "execution_time": 0.023905515670776367,
        "is_functional_test": false
      },
      {
        "case_name": "远程路径无写入权限导致上传失败",
        "purpose": "验证当目标路径没有写权限时，工具是否能优雅地处理并返回合理错误信息",
        "args": {
          "session_id": "745eb7a6-44dd-4571-8d54-65b20a759743",
          "local_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
          "remote_path": "/root/protected_directory/uploaded_file.txt"
        },
        "response": {
          "error": "ToolException: Error executing tool upload: [Errno 13] Permission denied"
        },
        "execution_time": 0.016542434692382812,
        "is_functional_test": false
      },
      {
        "case_name": "上传隐藏文件",
        "purpose": "验证工具是否支持上传以点开头的隐藏文件",
        "args": {
          "session_id": "745eb7a6-44dd-4571-8d54-65b20a759743",
          "local_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\.hidden_saved_document.docx",
          "remote_path": "/home/pengbocheng/.uploaded_hidden_file.docx"
        },
        "response": {
          "result": "{\"status\": \"success\", \"message\": \"\\u6587\\u4ef6 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\.hidden_saved_document.docx \\u6210\\u529f\\u4e0a\\u4f20\\u5230 /home/pengbocheng/.uploaded_hidden_file.docx\", \"transferred_bytes\": 43370}"
        },
        "execution_time": 0.019516706466674805,
        "is_functional_test": true
      },
      {
        "case_name": "未提供必要参数导致ValueError",
        "purpose": "验证当缺少必需参数时是否会抛出ValueError异常",
        "args": {
          "session_id": "",
          "local_path": "",
          "remote_path": ""
        },
        "response": {
          "error": "ToolException: Error executing tool upload: 无效的会话ID: "
        },
        "execution_time": 0.007997751235961914,
        "is_functional_test": false
      }
    ],
    "download": [
      {
        "case_name": "使用有效会话ID成功下载远程文件",
        "purpose": "验证使用有效的SSH会话ID、远程路径和本地路径可以成功下载文件",
        "args": {
          "session_id": "745eb7a6-44dd-4571-8d54-65b20a759743",
          "remote_path": "/home/pengbocheng/test_files/nature.jpeg",
          "local_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\downloads_custom\\sunset_beach.jpg"
        },
        "response": {
          "error": "ToolException: Error executing tool download: [Errno 2] No such file or directory: 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\downloads_custom\\\\sunset_beach.jpg'"
        },
        "execution_time": 0.014997720718383789,
        "is_functional_test": true
      },
      {
        "case_name": "下载文件时会话ID无效导致失败",
        "purpose": "验证当提供无效的会话ID时，工具是否能正确处理错误并返回提示信息",
        "args": {
          "session_id": "invalid_session_id",
          "remote_path": "/home/pengbocheng/test_files/nature.jpeg",
          "local_path": "D:\\devWorkspace\\MCPServer\\testFiles\\nature_downloaded.jpeg"
        },
        "response": {
          "error": "ToolException: Error executing tool download: 无效的会话ID: invalid_session_id"
        },
        "execution_time": 0.0060024261474609375,
        "is_functional_test": false
      },
      {
        "case_name": "远程文件不存在导致下载失败",
        "purpose": "验证当指定的远程文件路径不存在时，工具能否正确处理错误",
        "args": {
          "session_id": "745eb7a6-44dd-4571-8d54-65b20a759743",
          "remote_path": "/home/pengbocheng/test_files/nonexistent_file.txt",
          "local_path": "D:\\devWorkspace\\MCPServer\\testFiles\\downloaded_file.txt"
        },
        "response": {
          "error": "ToolException: Error executing tool download: [Errno 2] No such file or directory: 'D:\\\\devWorkspace\\\\MCPServer\\\\testFiles\\\\downloaded_file.txt'"
        },
        "execution_time": 0.021004199981689453,
        "is_functional_test": false
      },
      {
        "case_name": "本地路径不可写导致下载失败",
        "purpose": "验证当本地路径没有写权限或不可用时，工具能否正确捕获异常并提示",
        "args": {
          "session_id": "745eb7a6-44dd-4571-8d54-65b20a759743",
          "remote_path": "/home/pengbocheng/test_files/nature.jpeg",
          "local_path": "C:\\Windows\\system32\\config\\systemprofile\\AppData\\Local\\Temp\\readonly.txt"
        },
        "response": {
          "error": "ToolException: Error executing tool download: [Errno 2] No such file or directory: 'C:\\\\Windows\\\\system32\\\\config\\\\systemprofile\\\\AppData\\\\Local\\\\Temp\\\\readonly.txt'"
        },
        "execution_time": 0.01752495765686035,
        "is_functional_test": false
      },
      {
        "case_name": "下载包含特殊字符的文件名",
        "purpose": "验证工具是否能正确处理远程文件名为特殊字符的情况",
        "args": {
          "session_id": "745eb7a6-44dd-4571-8d54-65b20a759743",
          "remote_path": "/home/pengbocheng/test_files/special@#$_document.docx",
          "local_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special@#$_document_saved.docx"
        },
        "response": {
          "error": "ToolException: Error executing tool download: [Errno 2] No such file"
        },
        "execution_time": 0.01501321792602539,
        "is_functional_test": true
      },
      {
        "case_name": "尝试下载隐藏文件",
        "purpose": "验证工具是否能够下载远程服务器上的隐藏文件（以点开头）",
        "args": {
          "session_id": "745eb7a6-44dd-4571-8d54-65b20a759743",
          "remote_path": "/home/pengbocheng/test_files/.hidden_document.txt",
          "local_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\.hidden_saved_document.docx"
        },
        "response": {
          "error": "ToolException: Error executing tool download: [Errno 2] No such file"
        },
        "execution_time": 0.018916606903076172,
        "is_functional_test": true
      },
      {
        "case_name": "下载超大文件测试传输稳定性",
        "purpose": "验证工具在下载非常大的文件时是否仍能保持稳定传输",
        "args": {
          "session_id": "745eb7a6-44dd-4571-8d54-65b20a759743",
          "remote_path": "/home/pengbocheng/test_files/large_binary_file.iso",
          "local_path": "D:\\devWorkspace\\MCPServer\\testFiles\\large_binary_file_downloaded.iso"
        },
        "response": {
          "error": "ToolException: Error executing tool download: [Errno 2] No such file or directory: 'D:\\\\devWorkspace\\\\MCPServer\\\\testFiles\\\\large_binary_file_downloaded.iso'"
        },
        "execution_time": 0.015639543533325195,
        "is_functional_test": true
      },
      {
        "case_name": "未认证用户尝试执行下载操作",
        "purpose": "验证未通过身份验证的用户调用download工具是否会返回权限不足错误",
        "args": {
          "session_id": "unauthenticated_session_id",
          "remote_path": "/home/pengbocheng/test_files/nature.jpeg",
          "local_path": "D:\\devWorkspace\\MCPServer\\testFiles\\nature_downloaded.jpeg"
        },
        "response": {
          "error": "ToolException: Error executing tool download: 无效的会话ID: unauthenticated_session_id"
        },
        "execution_time": 0.008534431457519531,
        "is_functional_test": false
      }
    ],
    "disconnect": [
      {
        "case_name": "成功断开有效SSH会话",
        "purpose": "验证使用有效的session_id能否成功断开SSH连接并释放资源",
        "args": {
          "session_id": "745eb7a6-44dd-4571-8d54-65b20a759743"
        },
        "response": {
          "result": "会话 745eb7a6-44dd-4571-8d54-65b20a759743 已成功断开。"
        },
        "execution_time": 0.008079290390014648,
        "is_functional_test": true
      },
      {
        "case_name": "尝试断开不存在的SSH会话",
        "purpose": "验证当提供无效或不存在的session_id时，工具是否能正确处理错误并返回失败信息",
        "args": {
          "session_id": "nonexistent_session_id_12345"
        },
        "response": {
          "error": "ToolException: Error executing tool disconnect: 无效的会话ID: nonexistent_session_id_12345"
        },
        "execution_time": 0.005000114440917969,
        "is_functional_test": false
      },
      {
        "case_name": "使用空session_id进行断开操作",
        "purpose": "验证当提供空字符串作为session_id时，工具是否能正确识别参数错误",
        "args": {
          "session_id": ""
        },
        "response": {
          "error": "ToolException: Error executing tool disconnect: 无效的会话ID: "
        },
        "execution_time": 0.004999399185180664,
        "is_functional_test": false
      },
      {
        "case_name": "使用特殊字符的session_id尝试断开",
        "purpose": "验证当session_id包含特殊字符时，工具是否能正确拒绝非法输入并抛出异常",
        "args": {
          "session_id": "session@#$_id!invalid"
        },
        "response": {
          "error": "ToolException: Error executing tool disconnect: 无效的会话ID: session@#$_id!invalid"
        },
        "execution_time": 0.00900578498840332,
        "is_functional_test": false
      },
      {
        "case_name": "并发环境下安全断开多个会话",
        "purpose": "验证在并发多会话环境下，disconnect工具是否能安全、准确地断开指定的会话而不影响其他会话",
        "args": {
          "session_id": "4e4afc18-d1bf-43b5-9853-74f7e960bfd1"
        },
        "response": {
          "result": "会话 4e4afc18-d1bf-43b5-9853-74f7e960bfd1 已成功断开。"
        },
        "execution_time": 0.004999876022338867,
        "is_functional_test": true
      },
      {
        "case_name": "重复调用disconnect对同一会话",
        "purpose": "验证对已断开的会话重复执行disconnect操作时，工具是否能优雅处理（如返回失败但不引发异常）",
        "args": {
          "session_id": "745eb7a6-44dd-4571-8d54-65b20a759743"
        },
        "response": {
          "error": "ToolException: Error executing tool disconnect: 无效的会话ID: 745eb7a6-44dd-4571-8d54-65b20a759743"
        },
        "execution_time": 0.00737309455871582,
        "is_functional_test": true
      },
      {
        "case_name": "断开会话后检查list_sessions一致性",
        "purpose": "验证disconnect操作完成后，该会话是否从list_sessions中正确移除",
        "args": {
          "session_id": "4e4afc18-d1bf-43b5-9853-74f7e960bfd1"
        },
        "response": {
          "error": "ToolException: Error executing tool disconnect: 无效的会话ID: 4e4afc18-d1bf-43b5-9853-74f7e960bfd1"
        },
        "execution_time": 0.009999990463256836,
        "is_functional_test": true
      },
      {
        "case_name": "非管理员用户尝试断开会话",
        "purpose": "验证非管理员权限用户调用disconnect工具时是否会受到适当的安全限制",
        "args": {
          "session_id": "745eb7a6-44dd-4571-8d54-65b20a759743"
        },
        "response": {
          "error": "ToolException: Error executing tool disconnect: 无效的会话ID: 745eb7a6-44dd-4571-8d54-65b20a759743"
        },
        "execution_time": 0.011115312576293945,
        "is_functional_test": false
      }
    ]
  },
  "total_cases": 49
}