{
  "server_name": "server",
  "parent_dir": "refined",
  "report_name": "qwen-plus-mcp_web_search_processor",
  "server_path": "workspace/pipeline-output-servers/qwen-plus/mcp_web_search_processor/refined/server.py",
  "timestamp": "2025-07-13T04:12:28.763403",
  "tools": [
    {
      "name": "tavily_web_search",
      "description": "\n    执行全面的网络搜索，支持基础或高级搜索深度，可通过包含或排除特定域名精确控制搜索范围。\n\n    Args:\n        query: 搜索查询字符串 (必填)。\n        search_depth: 搜索深度，可选 \"basic\" 或 \"advanced\", 默认 \"basic\"。\n        include_domains: 包含在结果中的域名列表 (可选)。\n        exclude_domains: 排除的域名列表 (可选)。\n        max_results: 返回的最大结果数 (1-5), 默认 5。\n\n    Returns:\n        List[Dict[str, str]]: 包含标题、URL 和内容摘要的搜索结果列表。\n\n    示例:\n        >>> tavily_web_search(query=\"Python 3.10 features\", search_depth=\"advanced\", \n                             include_domains=[\"python.org\"], max_results=3)\n        [\n            {\n                \"title\": \"Python 3.10 新特性详解\",\n                \"url\": \"https://docs.python.org/3.10/whatsnew/3.10.html\",\n                \"content\": \"Python 3.10 的新特性包括模式匹配、更好的类型提示等...\"\n            },\n            {\n                \"title\": \"Python 3.10 发布说明\",\n                \"url\": \"https://www.python.org/downloads/release/python-3100/\",\n                \"content\": \"Python 3.10 正式版发布，包含多项性能改进和错误修复...\"\n            },\n            {\n                \"title\": \"Python 3.10：面向未来的编程语言\",\n                \"url\": \"https://realpython.com/python310-new-features/\",\n                \"content\": \"探索 Python 3.10 中最令人期待的新特性和改进...\"\n            }\n        ]\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "search_depth": {
            "default": "basic",
            "title": "Search Depth",
            "type": "string"
          },
          "include_domains": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Include Domains"
          },
          "exclude_domains": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Exclude Domains"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_web_searchArguments",
        "type": "object"
      }
    },
    {
      "name": "tavily_answer_search",
      "description": "\n    根据查询内容直接生成回答并附带支持证据，适用于需要具体答案的问题。\n\n    Args:\n        query: 要回答的问题 (必填)。\n        search_depth: 搜索深度，可选 \"basic\" 或 \"advanced\", 默认 \"advanced\".\n\n    Returns:\n        Dict[str, Union[str, List[Dict[str, str]]]]: 包含答案和证据的字典.\n\n    示例:\n        >>> tavily_answer_search(query=\"地球的卫星是什么？\")\n        {\n            \"answer\": \"地球的卫星是月球。\",\n            \"evidence\": [\n                {\n                    \"title\": \"月球 - 维基百科\",\n                    \"url\": \"https://zh.wikipedia.org/wiki/%E6%9C%88%E7%90%83\",\n                    \"content\": \"月球是地球唯一的天然卫星，也是太阳系中第五大的卫星...\"\n                }\n            ]\n        }\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "search_depth": {
            "default": "advanced",
            "title": "Search Depth",
            "type": "string"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_answer_searchArguments",
        "type": "object"
      }
    },
    {
      "name": "tavily_news_search",
      "description": "\n    专门搜索近期新闻文章，支持限定查询时效性（最多可追溯365天），并可指定包含或排除的新闻源。\n\n    Args:\n        query: 新闻搜索查询 (必填)。\n        days: 查询回溯的天数 (1-365), 默认 7。\n        include_domains: 包含的新闻源域名列表 (可选)。\n        exclude_domains: 排除的新闻源域名列表 (可选)。\n        max_results: 返回的最大结果数 (1-5), 默认 5。\n\n    Returns:\n        List[Dict[str, str]]: 包含标题、URL 和内容摘要的新闻结果列表.\n\n    示例:\n        >>> tavily_news_search(query=\"人工智能最新进展\", days=3, \n                              include_domains=[\"techcrunch.com\"], max_results=2)\n        [\n            {\n                \"title\": \"AI 领域的三大突破：2024 年第一季度\",\n                \"url\": \"https://techcrunch.com/2024/03/15/ai-breakthroughs-q1-2024/\",\n                \"content\": \"本文总结了 2024 年第一季度人工智能领域的三项重大突破...\"\n            },\n            {\n                \"title\": \"大模型训练成本降低 80%，新技术革新 AI 行业\",\n                \"url\": \"https://techcrunch.com/2024/03/14/ai-training-cost-reduction/\",\n                \"content\": \"一项新技术使大模型训练成本大幅降低，为人工智能发展带来新的可能...\"\n            }\n        ]\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "days": {
            "default": 7,
            "title": "Days",
            "type": "integer"
          },
          "include_domains": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Include Domains"
          },
          "exclude_domains": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Exclude Domains"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_news_searchArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "tavily_web_search": [
      {
        "case_name": "基本搜索功能测试",
        "purpose": "验证使用默认参数执行基本搜索是否成功",
        "args": {
          "query": "Python programming"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: tavily_web_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 4.003592014312744,
        "is_functional_test": true
      },
      {
        "case_name": "高级搜索功能测试",
        "purpose": "验证使用高级搜索深度执行搜索是否成功",
        "args": {
          "query": "machine learning",
          "search_depth": "advanced"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: tavily_web_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 1.4638333320617676,
        "is_functional_test": true
      },
      {
        "case_name": "包含特定域名的搜索测试",
        "purpose": "验证搜索结果中仅包含指定域名的内容",
        "args": {
          "query": "climate change",
          "include_domains": [
            "example.com",
            "test.org"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: tavily_web_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 1.5029630661010742,
        "is_functional_test": true
      },
      {
        "case_name": "排除特定域名的搜索测试",
        "purpose": "验证搜索结果中排除指定域名的内容",
        "args": {
          "query": "blockchain technology",
          "exclude_domains": [
            "spam.com",
            "ads.net"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: tavily_web_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 1.4812333583831787,
        "is_functional_test": true
      },
      {
        "case_name": "限制最大结果数的搜索测试",
        "purpose": "验证返回的搜索结果数量不超过指定的最大值",
        "args": {
          "query": "quantum computing",
          "max_results": 2
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: tavily_web_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 1.4923248291015625,
        "is_functional_test": true
      },
      {
        "case_name": "结合包含和排除域名的搜索测试",
        "purpose": "验证同时使用包含和排除域名时搜索结果是否正确过滤",
        "args": {
          "query": "cybersecurity",
          "include_domains": [
            "edu.cn"
          ],
          "exclude_domains": [
            "wiki.org"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: tavily_web_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 1.453127145767212,
        "is_functional_test": true
      },
      {
        "case_name": "空查询测试",
        "purpose": "验证空查询是否被正确拒绝",
        "args": {
          "query": ""
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: tavily_web_search 发生错误: 搜索查询不能为空"
        },
        "execution_time": 0.008778572082519531,
        "is_functional_test": false
      },
      {
        "case_name": "无效搜索深度测试",
        "purpose": "验证无效的搜索深度参数是否被正确处理",
        "args": {
          "query": "AI ethics",
          "search_depth": "invalid_depth"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: tavily_web_search 发生错误: search_depth 必须是 'basic' 或 'advanced'"
        },
        "execution_time": 0.006991147994995117,
        "is_functional_test": false
      },
      {
        "case_name": "最大结果数边界测试",
        "purpose": "验证最大结果数为1时是否正常返回",
        "args": {
          "query": "robotics",
          "max_results": 1
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: tavily_web_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 1.4552583694458008,
        "is_functional_test": true
      },
      {
        "case_name": "最大结果数上限测试",
        "purpose": "验证最大结果数为5时是否正常返回",
        "args": {
          "query": "neural networks",
          "max_results": 5
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: tavily_web_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 1.6869354248046875,
        "is_functional_test": true
      },
      {
        "case_name": "特殊字符查询测试",
        "purpose": "验证包含特殊字符的查询是否被正确处理",
        "args": {
          "query": "C++ vs C#"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: tavily_web_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 1.454634666442871,
        "is_functional_test": true
      },
      {
        "case_name": "长域名过滤测试",
        "purpose": "验证长域名是否能被正确识别并用于过滤",
        "args": {
          "query": "open source software",
          "include_domains": [
            "www.verylongdomainnameforunittestingpurpose.com"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: tavily_web_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 1.4852914810180664,
        "is_functional_test": true
      },
      {
        "case_name": "跨站脚本攻击模拟测试",
        "purpose": "验证工具是否对恶意查询进行安全处理",
        "args": {
          "query": "<script>alert('xss')</script>"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: tavily_web_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 2.058574914932251,
        "is_functional_test": false
      },
      {
        "case_name": "SQL注入尝试测试",
        "purpose": "验证工具是否对SQL注入尝试进行安全处理",
        "args": {
          "query": "SELECT * FROM users WHERE id = 1; DROP TABLE users;"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: tavily_web_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 1.424203872680664,
        "is_functional_test": false
      }
    ],
    "tavily_answer_search": [
      {
        "case_name": "基本搜索功能测试",
        "purpose": "验证使用默认参数执行基本查询是否成功返回答案和证据",
        "args": {
          "query": "地球的卫星是什么？"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: tavily_answer_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 1.6462538242340088,
        "is_functional_test": true
      },
      {
        "case_name": "高级搜索深度测试",
        "purpose": "验证使用高级搜索深度参数是否能正常返回更详细的答案和证据",
        "args": {
          "query": "量子计算的基本原理是什么？",
          "search_depth": "advanced"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: tavily_answer_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 1.4664890766143799,
        "is_functional_test": true
      },
      {
        "case_name": "空查询错误处理测试",
        "purpose": "验证当查询为空时是否能正确抛出错误",
        "args": {
          "query": ""
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: tavily_answer_search 发生错误: 查询内容不能为空"
        },
        "execution_time": 0.004999399185180664,
        "is_functional_test": false
      },
      {
        "case_name": "无效搜索深度参数测试",
        "purpose": "验证传入非法搜索深度参数时是否能正确拒绝请求",
        "args": {
          "query": "人工智能伦理",
          "search_depth": "invalid"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: tavily_answer_search 发生错误: search_depth 必须是 'basic' 或 'advanced'"
        },
        "execution_time": 0.010000467300415039,
        "is_functional_test": false
      },
      {
        "case_name": "特殊字符查询测试",
        "purpose": "验证包含特殊字符的查询是否被正确处理并返回合理结果",
        "args": {
          "query": "C++ 和 Python 哪个更适合初学者？"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: tavily_answer_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 1.4688267707824707,
        "is_functional_test": true
      },
      {
        "case_name": "长查询边界测试",
        "purpose": "验证超长查询字符串是否能被工具接受并处理",
        "args": {
          "query": "请简要说明爱因斯坦相对论的主要内容及其对现代物理学的影响，并列举相关实验证据。"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: tavily_answer_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 1.4598534107208252,
        "is_functional_test": true
      },
      {
        "case_name": "跨站脚本攻击安全测试",
        "purpose": "验证工具是否对潜在的XSS攻击进行安全过滤或拒绝处理",
        "args": {
          "query": "<script>alert('xss')</script>"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: tavily_answer_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 1.494739294052124,
        "is_functional_test": false
      },
      {
        "case_name": "SQL注入尝试安全测试",
        "purpose": "验证工具是否对SQL注入尝试进行安全过滤或拒绝处理",
        "args": {
          "query": "SELECT * FROM users WHERE id = 1; DROP TABLE users;"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: tavily_answer_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 1.4477667808532715,
        "is_functional_test": false
      }
    ],
    "tavily_news_search": [
      {
        "case_name": "基本搜索功能测试",
        "purpose": "验证使用默认参数执行新闻搜索是否成功",
        "args": {
          "query": "最新科技新闻"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: tavily_news_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 1.985851764678955,
        "is_functional_test": true
      },
      {
        "case_name": "指定天数的搜索测试",
        "purpose": "验证限定查询时效性的功能是否正常",
        "args": {
          "query": "人工智能突破",
          "days": 30
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: tavily_news_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 1.682183027267456,
        "is_functional_test": true
      },
      {
        "case_name": "包含特定域名的搜索测试",
        "purpose": "验证搜索结果中仅包含指定域名的内容",
        "args": {
          "query": "气候变化研究",
          "include_domains": [
            "nature.com"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: tavily_news_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 2.5705602169036865,
        "is_functional_test": true
      },
      {
        "case_name": "排除特定域名的搜索测试",
        "purpose": "验证搜索结果中排除指定域名的内容",
        "args": {
          "query": "区块链技术",
          "exclude_domains": [
            "ads.net"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: tavily_news_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 2.099510908126831,
        "is_functional_test": true
      },
      {
        "case_name": "限制最大结果数的搜索测试",
        "purpose": "验证返回的搜索结果数量不超过指定的最大值",
        "args": {
          "query": "量子计算进展",
          "max_results": 2
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: tavily_news_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 1.782501459121704,
        "is_functional_test": true
      },
      {
        "case_name": "结合包含和排除域名的搜索测试",
        "purpose": "验证同时使用包含和排除域名时搜索结果是否正确过滤",
        "args": {
          "query": "网络安全趋势",
          "include_domains": [
            "techcrunch.com"
          ],
          "exclude_domains": [
            "wiki.org"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: tavily_news_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 1.8530447483062744,
        "is_functional_test": true
      },
      {
        "case_name": "跨站脚本攻击模拟测试",
        "purpose": "验证工具是否对恶意查询进行安全处理",
        "args": {
          "query": "<script>alert('xss')</script>"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: tavily_news_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 1.9197986125946045,
        "is_functional_test": false
      },
      {
        "case_name": "SQL注入尝试测试",
        "purpose": "验证工具是否对SQL注入尝试进行安全处理",
        "args": {
          "query": "SELECT * FROM news WHERE id = 1; DROP TABLE news;"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: tavily_news_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 1.7582366466522217,
        "is_functional_test": false
      },
      {
        "case_name": "空查询测试",
        "purpose": "验证空查询是否被正确拒绝",
        "args": {
          "query": ""
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: tavily_news_search 发生错误: 新闻查询不能为空"
        },
        "execution_time": 0.26468324661254883,
        "is_functional_test": false
      },
      {
        "case_name": "无效天数参数测试",
        "purpose": "验证传入非法天数参数时是否能正确拒绝请求",
        "args": {
          "query": "AI伦理",
          "days": 0
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: tavily_news_search 发生错误: days 必须是 1 到 365 之间的整数"
        },
        "execution_time": 0.28177809715270996,
        "is_functional_test": false
      },
      {
        "case_name": "最大结果数边界测试",
        "purpose": "验证最大结果数为1时是否正常返回",
        "args": {
          "query": "机器人发展",
          "max_results": 1
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: tavily_news_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 1.710780382156372,
        "is_functional_test": true
      },
      {
        "case_name": "最大结果数上限测试",
        "purpose": "验证最大结果数为5时是否正常返回",
        "args": {
          "query": "神经网络应用",
          "max_results": 5
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: tavily_news_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 1.7432188987731934,
        "is_functional_test": true
      },
      {
        "case_name": "特殊字符查询测试",
        "purpose": "验证包含特殊字符的查询是否被正确处理并返回合理结果",
        "args": {
          "query": "C++ vs Python 性能比较"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: tavily_news_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 2.392188549041748,
        "is_functional_test": true
      },
      {
        "case_name": "长域名过滤测试",
        "purpose": "验证长域名是否能被正确识别并用于过滤",
        "args": {
          "query": "开源软件",
          "include_domains": [
            "www.verylongdomainnameforunittestingpurpose.com"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: tavily_news_search 发生错误: This request exceeds your plan's set usage limit. Please upgrade your plan or contact support@tavily.com"
        },
        "execution_time": 1.6607105731964111,
        "is_functional_test": true
      }
    ]
  },
  "total_cases": 36
}