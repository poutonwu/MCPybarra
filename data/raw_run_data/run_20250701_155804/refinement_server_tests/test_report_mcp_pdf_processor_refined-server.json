{
  "server_name": "server",
  "parent_dir": "mcp_pdf_processor_refined",
  "report_name": "mcp_pdf_processor_refined-server",
  "server_path": "workspace\\refinement\\mcp_pdf_processor_refined\\server.py",
  "timestamp": "2025-07-01T17:05:59.948091",
  "tools": [
    {
      "name": "merge_pdfs",
      "description": "\n    合并多个PDF文件为一个。\n\n    Args:\n        pdf_paths: 包含要合并的PDF文件绝对路径列表 (必填)。\n        output_path: 输出PDF文件的绝对路径 (必填)。\n\n    Returns:\n        一个字符串，表示操作成功完成的消息。\n\n    Raises:\n        ValueError: 如果输入参数格式不正确。\n        FileNotFoundError: 如果任何指定的PDF文件不存在。\n\n    示例:\n        合并位于不同路径的两个PDF文件，并将结果保存到新位置:\n        merge_pdfs(pdf_paths=[\"/path/to/file1.pdf\", \"/path/to/file2.pdf\"], output_path=\"/path/to/merged.pdf\")\n    ",
      "args_schema": {
        "properties": {
          "pdf_paths": {
            "items": {},
            "title": "Pdf Paths",
            "type": "array"
          },
          "output_path": {
            "title": "Output Path",
            "type": "string"
          }
        },
        "required": [
          "pdf_paths",
          "output_path"
        ],
        "title": "merge_pdfsArguments",
        "type": "object"
      }
    },
    {
      "name": "extract_pages",
      "description": "\n    从PDF文件中提取特定页面并保存为新文件。\n\n    Args:\n        source_pdf: 要提取页面的源PDF文件的绝对路径 (必填)。\n        pages: 需要提取的页码列表，页码从1开始计数 (必填)。\n        output_pdf: 提取页面后输出的新PDF文件的绝对路径 (必填)。\n\n    Returns:\n        一个字符串，表示操作成功完成的消息。\n\n    Raises:\n        ValueError: 如果输入参数格式不正确。\n        FileNotFoundError: 如果源PDF文件不存在。\n        IndexError: 如果请求的页码超出范围。\n\n    示例:\n        从source.pdf中提取第1和第3页，并保存到新的output.pdf中:\n        extract_pages(source_pdf=\"/path/to/source.pdf\", pages=[1, 3], output_pdf=\"/path/to/output.pdf\")\n    ",
      "args_schema": {
        "properties": {
          "source_pdf": {
            "title": "Source Pdf",
            "type": "string"
          },
          "pages": {
            "items": {},
            "title": "Pages",
            "type": "array"
          },
          "output_pdf": {
            "title": "Output Pdf",
            "type": "string"
          }
        },
        "required": [
          "source_pdf",
          "pages",
          "output_pdf"
        ],
        "title": "extract_pagesArguments",
        "type": "object"
      }
    },
    {
      "name": "search_pdfs",
      "description": "\n    在指定目录中搜索匹配特定模式的PDF文件。\n\n    Args:\n        directory: 要搜索的目录的绝对路径 (必填)。\n        pattern: 用于匹配PDF文件名的正则表达式模式 (必填)。\n\n    Returns:\n        匹配给定模式的所有PDF文件路径的JSON格式字符串。\n\n    Raises:\n        ValueError: 如果输入参数格式不正确。\n        NotADirectoryError: 如果指定的目录无效。\n\n    示例:\n        搜索目录'/documents'中所有以'report'开头的PDF文件:\n        search_pdfs(directory=\"/documents\", pattern=\"^report.*\\.pdf$\")\n    ",
      "args_schema": {
        "properties": {
          "directory": {
            "title": "Directory",
            "type": "string"
          },
          "pattern": {
            "title": "Pattern",
            "type": "string"
          }
        },
        "required": [
          "directory",
          "pattern"
        ],
        "title": "search_pdfsArguments",
        "type": "object"
      }
    },
    {
      "name": "merge_pdfs_ordered",
      "description": "\n    按照指定的顺序模式合并PDF文件，支持精确和模糊匹配。\n\n    Args:\n        pdf_details: 包含PDF文件详情的列表，每个元素是一个字典，包含'path'(PDF文件绝对路径)和'order'(插入顺序)键 (必填)。\n        output_path: 合并后的PDF文件输出的绝对路径 (必填)。\n\n    Returns:\n        一个字符串，表示操作成功完成的消息。\n\n    Raises:\n        ValueError: 如果输入参数格式不正确。\n        FileNotFoundError: 如果任何指定的PDF文件不存在。\n\n    示例:\n        按照指定顺序合并两个PDF文件，并将结果保存到新位置:\n        merge_pdfs_ordered(pdf_details=[{\"path\": \"/path/to/file1.pdf\", \"order\": 2}, {\"path\": \"/path/to/file2.pdf\", \"order\": 1}], output_path=\"/path/to/ordered_merged.pdf\")\n    ",
      "args_schema": {
        "properties": {
          "pdf_details": {
            "items": {},
            "title": "Pdf Details",
            "type": "array"
          },
          "output_path": {
            "title": "Output Path",
            "type": "string"
          }
        },
        "required": [
          "pdf_details",
          "output_path"
        ],
        "title": "merge_pdfs_orderedArguments",
        "type": "object"
      }
    },
    {
      "name": "find_related_pdfs",
      "description": "\n    根据目标PDF文件内容分析并查找相关的PDF文件。\n\n    Args:\n        target_pdf: 目标PDF文件的绝对路径 (必填)。\n        directory: 要搜索相关PDF的目录的绝对路径 (必填)。\n        similarity_threshold: 决定相似度阈值的小数值，范围应在0到1之间 (必填)。\n\n    Returns:\n        JSON格式字符串，包含与目标PDF内容相关的PDF文件路径及其相似度分数。\n\n    Raises:\n        ValueError: 如果输入参数格式不正确。\n        FileNotFoundError: 如果目标PDF文件不存在。\n        NotADirectoryError: 如果指定的目录无效。\n\n    示例:\n        查找与target.pdf内容相似度超过0.5的相关PDF文件:\n        find_related_pdfs(target_pdf=\"/path/to/target.pdf\", directory=\"/documents\", similarity_threshold=0.5)\n    ",
      "args_schema": {
        "properties": {
          "target_pdf": {
            "title": "Target Pdf",
            "type": "string"
          },
          "directory": {
            "title": "Directory",
            "type": "string"
          },
          "similarity_threshold": {
            "title": "Similarity Threshold",
            "type": "number"
          }
        },
        "required": [
          "target_pdf",
          "directory",
          "similarity_threshold"
        ],
        "title": "find_related_pdfsArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "merge_pdfs": [
      {
        "case_name": "基本PDF合并",
        "purpose": "验证工具可以成功合并两个有效的PDF文件并生成输出文件。",
        "args": {
          "pdf_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\城市道路管理条例.pdf"
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\merged_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: 发生错误: EOF marker not found"
        },
        "execution_time": 0.1093606948852539,
        "is_functional_test": true
      },
      {
        "case_name": "单个PDF文件合并",
        "purpose": "验证工具在仅提供一个PDF文件时仍能正常工作，即输出文件与输入相同。",
        "args": {
          "pdf_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf"
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\single_merged_output.pdf"
        },
        "response": {
          "result": "PDFs已成功合并到: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\single_merged_output.pdf"
        },
        "execution_time": 0.1138315200805664,
        "is_functional_test": true
      },
      {
        "case_name": "合并包含空格和特殊字符路径的PDF",
        "purpose": "测试工具是否能够处理包含空格和特殊字符的文件路径。",
        "args": {
          "pdf_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_repo\\new file with spaces.docx"
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special_char_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: 发生错误: EOF marker not found"
        },
        "execution_time": 0.01655292510986328,
        "is_functional_test": true
      },
      {
        "case_name": "中文路径PDF合并",
        "purpose": "验证工具能否正确处理中文路径的PDF文件。",
        "args": {
          "pdf_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_repo\\中文文件名.docx"
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\中文路径合并结果.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: 发生错误: EOF marker not found"
        },
        "execution_time": 0.013519525527954102,
        "is_functional_test": true
      },
      {
        "case_name": "长文件路径边界测试",
        "purpose": "测试工具对超过Windows最大路径限制（260字符）的支持情况。",
        "args": {
          "pdf_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\this_is_a_very_long_file_name_that_may_exceed_windows_max_length_limit_of_260_characters_and_should_be_handled_properly_by_the_tool.jpg"
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\long_filename_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: 发生错误: 以下文件未找到: ['D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\this_is_a_very_long_file_name_that_may_exceed_windows_max_length_limit_of_260_characters_and_should_be_handled_properly_by_the_tool.jpg']"
        },
        "execution_time": 0.008510112762451172,
        "is_functional_test": true
      },
      {
        "case_name": "SQL注入式文件名处理",
        "purpose": "测试工具是否安全地处理含有潜在SQL注入风险的文件名。",
        "args": {
          "pdf_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\image'; DROP TABLE users;--.jpg"
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\sql_injection_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: 发生错误: 以下文件未找到: [\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\image'; DROP TABLE users;--.jpg\"]"
        },
        "execution_time": 0.011516332626342773,
        "is_functional_test": false
      },
      {
        "case_name": "非PDF文件尝试合并",
        "purpose": "确保工具不会接受非PDF格式文件作为输入，并抛出适当错误。",
        "args": {
          "pdf_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\app.ico"
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\invalid_merge_attempt.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: 发生错误: EOF marker not found"
        },
        "execution_time": 0.013514995574951172,
        "is_functional_test": false
      },
      {
        "case_name": "不存在的PDF文件路径",
        "purpose": "验证工具在指定路径中存在不存在的文件时是否抛出FileNotFoundError。",
        "args": {
          "pdf_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.pdf"
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\missing_file_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: 发生错误: 以下文件未找到: ['D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\nonexistent.pdf']"
        },
        "execution_time": 0.005001544952392578,
        "is_functional_test": false
      },
      {
        "case_name": "无效参数类型测试",
        "purpose": "验证工具在传入错误类型的参数时是否抛出ValueError。",
        "args": {
          "pdf_paths": "not_an_array",
          "output_path": 12345
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: 2 validation errors for merge_pdfsArguments\npdf_paths\n  Input should be a valid list [type=list_type, input_value='not_an_array', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.10/v/list_type\noutput_path\n  Input should be a valid string [type=string_type, input_value=12345, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type"
        },
        "execution_time": 0.01073598861694336,
        "is_functional_test": false
      },
      {
        "case_name": "空输入列表",
        "purpose": "验证工具在提供空的pdf_paths数组时是否抛出适当的错误。",
        "args": {
          "pdf_paths": [],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_input_list.pdf"
        },
        "response": {
          "result": "PDFs已成功合并到: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_input_list.pdf"
        },
        "execution_time": 0.013000965118408203,
        "is_functional_test": false
      }
    ],
    "extract_pages": [
      {
        "case_name": "基本页面提取",
        "purpose": "验证工具可以成功从有效PDF中提取指定页码并生成输出文件。",
        "args": {
          "source_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
          "pages": [
            1,
            3
          ],
          "output_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\basic_extracted_output.pdf"
        },
        "response": {
          "result": "已成功从D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf提取页面至: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\basic_extracted_output.pdf"
        },
        "execution_time": 0.053998470306396484,
        "is_functional_test": true
      },
      {
        "case_name": "单页提取测试",
        "purpose": "验证工具在仅提取一页PDF时仍能正常工作，即输出文件包含该页内容。",
        "args": {
          "source_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\城市道路管理条例.pdf",
          "pages": [
            1
          ],
          "output_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\single_page_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 发生错误: EOF marker not found"
        },
        "execution_time": 0.015007972717285156,
        "is_functional_test": true
      },
      {
        "case_name": "空格和特殊字符路径处理",
        "purpose": "测试工具是否能够处理包含空格和特殊字符的源文件路径与输出路径。",
        "args": {
          "source_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_repo\\new file with spaces.docx",
          "pages": [
            1
          ],
          "output_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special_char_path_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 发生错误: EOF marker not found"
        },
        "execution_time": 0.03201699256896973,
        "is_functional_test": true
      },
      {
        "case_name": "中文路径PDF提取",
        "purpose": "验证工具能否正确处理中文路径的PDF文件作为输入及输出。",
        "args": {
          "source_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_repo\\中文文件名.docx",
          "pages": [
            1
          ],
          "output_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\中文路径提取结果.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 发生错误: EOF marker not found"
        },
        "execution_time": 0.02202153205871582,
        "is_functional_test": true
      },
      {
        "case_name": "SQL注入式文件名处理",
        "purpose": "测试工具是否安全地处理含有潜在SQL注入风险的源文件名。",
        "args": {
          "source_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\image'; DROP TABLE users;--.pdf",
          "pages": [
            1
          ],
          "output_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\sql_injection_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 发生错误: 文件未找到: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\image'; DROP TABLE users;--.pdf"
        },
        "execution_time": 0.011000871658325195,
        "is_functional_test": false
      },
      {
        "case_name": "不存在的源PDF文件",
        "purpose": "验证工具在源PDF文件不存在时是否抛出FileNotFoundError。",
        "args": {
          "source_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.pdf",
          "pages": [
            1
          ],
          "output_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\missing_source_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 发生错误: 文件未找到: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.pdf"
        },
        "execution_time": 0.030730485916137695,
        "is_functional_test": false
      },
      {
        "case_name": "无效参数类型测试",
        "purpose": "验证工具在传入错误类型的参数时是否抛出ValueError。",
        "args": {
          "source_pdf": 123,
          "pages": "not_an_array",
          "output_pdf": "invalid_type_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 2 validation errors for extract_pagesArguments\nsource_pdf\n  Input should be a valid string [type=string_type, input_value=123, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type\npages\n  Input should be a valid list [type=list_type, input_value='not_an_array', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.10/v/list_type"
        },
        "execution_time": 0.01800537109375,
        "is_functional_test": false
      },
      {
        "case_name": "超出范围的页码请求",
        "purpose": "验证工具在请求的页码超出实际页数时是否抛出IndexError。",
        "args": {
          "source_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
          "pages": [
            999
          ],
          "output_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\out_of_range_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 发生错误: 页码超出范围: 999, 总页数: 7"
        },
        "execution_time": 0.02057361602783203,
        "is_functional_test": false
      },
      {
        "case_name": "长文件路径边界测试",
        "purpose": "测试工具对超过Windows最大路径限制（260字符）的支持情况。",
        "args": {
          "source_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\this_is_a_very_long_file_name_that_may_exceed_windows_max_length_limit_of_260_characters_and_should_be_handled_properly_by_the_tool.pdf",
          "pages": [
            1
          ],
          "output_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\long_filename_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 发生错误: 文件未找到: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\this_is_a_very_long_file_name_that_may_exceed_windows_max_length_limit_of_260_characters_and_should_be_handled_properly_by_the_tool.pdf"
        },
        "execution_time": 0.012003421783447266,
        "is_functional_test": false
      },
      {
        "case_name": "非PDF文件尝试提取",
        "purpose": "确保工具不会接受非PDF格式文件作为输入，并抛出适当错误。",
        "args": {
          "source_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\app.ico",
          "pages": [
            1
          ],
          "output_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\invalid_extract_attempt.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 发生错误: EOF marker not found"
        },
        "execution_time": 0.02200174331665039,
        "is_functional_test": false
      },
      {
        "case_name": "零页码或负页码测试",
        "purpose": "验证工具是否拒绝处理无效页码如0、负数等。",
        "args": {
          "source_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
          "pages": [
            0,
            -1
          ],
          "output_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\invalid_page_numbers.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 发生错误: 'pages' 必须是正整数列表，代表页码。"
        },
        "execution_time": 0.014006853103637695,
        "is_functional_test": false
      },
      {
        "case_name": "重复页码提取测试",
        "purpose": "验证工具在页码列表中包含重复值时的行为是否符合预期。",
        "args": {
          "source_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\城市道路管理条例.pdf",
          "pages": [
            1,
            1,
            2
          ],
          "output_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\duplicate_pages_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 发生错误: EOF marker not found"
        },
        "execution_time": 0.01900172233581543,
        "is_functional_test": true
      }
    ],
    "search_pdfs": [
      {
        "case_name": "基本PDF搜索功能",
        "purpose": "验证工具可以成功在指定目录中搜索符合正则表达式的所有PDF文件。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": "^.*\\.pdf$"
        },
        "response": {
          "result": "[\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\2023.nlposs-1.24.pdf\", \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\basic_extracted_output.pdf\", \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\城市道路管理条例.pdf\"]"
        },
        "execution_time": 0.02303004264831543,
        "is_functional_test": true
      },
      {
        "case_name": "按前缀匹配PDF文件",
        "purpose": "测试工具是否能正确识别并返回以'report'开头的PDF文件（如报告类文档）。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": "^report.*\\.pdf$"
        },
        "response": {
          "result": "[]"
        },
        "execution_time": 0.028996944427490234,
        "is_functional_test": true
      },
      {
        "case_name": "中文文件名匹配测试",
        "purpose": "验证工具能否正确处理包含中文字符的PDF文件名匹配。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": "^城市.*\\.pdf$"
        },
        "response": {
          "result": "[\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\城市道路管理条例.pdf\"]"
        },
        "execution_time": 0.03299975395202637,
        "is_functional_test": true
      },
      {
        "case_name": "空目录路径输入",
        "purpose": "测试工具在提供空字符串作为目录参数时是否抛出ValueError。",
        "args": {
          "directory": "",
          "pattern": "^.*\\.pdf$"
        },
        "response": {
          "error": "ToolException: Error executing tool search_pdfs: 发生错误: 'directory' 必须是有效的绝对路径。"
        },
        "execution_time": 0.0240023136138916,
        "is_functional_test": false
      },
      {
        "case_name": "无效目录路径输入",
        "purpose": "验证工具在提供的目录不存在时是否抛出NotADirectoryError。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_dir",
          "pattern": "^.*\\.pdf$"
        },
        "response": {
          "error": "ToolException: Error executing tool search_pdfs: 发生错误: 不是有效的目录: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_dir"
        },
        "execution_time": 0.01999807357788086,
        "is_functional_test": false
      },
      {
        "case_name": "SQL注入式模式测试",
        "purpose": "测试工具是否安全地处理含有潜在SQL注入风险的正则表达式模式。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": ".*'; DROP TABLE users;--.*"
        },
        "response": {
          "result": "[]"
        },
        "execution_time": 0.01800084114074707,
        "is_functional_test": false
      },
      {
        "case_name": "特殊字符路径匹配",
        "purpose": "测试工具是否能够处理包含空格和特殊字符的文件名匹配。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_repo",
          "pattern": ".*file with spaces.*\\.docx"
        },
        "response": {
          "result": "[]"
        },
        "execution_time": 0.014002561569213867,
        "is_functional_test": true
      },
      {
        "case_name": "长路径边界测试",
        "purpose": "测试工具对超过Windows最大路径限制（260字符）的支持情况。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_repo",
          "pattern": "a_very_long_filename_that_exceeds_the_typical_limit_for_file_paths_in_windows_systems_should_be_tested_for_boundary_conditions_and_edge_cases.docx"
        },
        "response": {
          "result": "[]"
        },
        "execution_time": 0.04202413558959961,
        "is_functional_test": true
      },
      {
        "case_name": "无效正则表达式输入",
        "purpose": "验证工具在传入非法正则表达式时是否抛出异常或返回错误信息。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": "*invalid_regex_starting_with_star"
        },
        "response": {
          "error": "ToolException: Error executing tool search_pdfs: 发生错误: nothing to repeat at position 0"
        },
        "execution_time": 0.013073921203613281,
        "is_functional_test": false
      },
      {
        "case_name": "仅含数字的PDF文件名匹配",
        "purpose": "验证工具是否能正确匹配仅由数字组成的PDF文件名。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": "^\\d+\\.pdf$"
        },
        "response": {
          "result": "[]"
        },
        "execution_time": 0.011998414993286133,
        "is_functional_test": true
      }
    ],
    "merge_pdfs_ordered": [
      {
        "case_name": "基本PDF合并排序测试",
        "purpose": "验证工具可以按照指定的order顺序正确合并两个有效的PDF文件并生成输出文件。",
        "args": {
          "pdf_details": [
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
              "order": 2
            },
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\城市道路管理条例.pdf",
              "order": 1
            }
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\ordered_merged_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: 发生错误: EOF marker not found"
        },
        "execution_time": 0.031002044677734375,
        "is_functional_test": true
      },
      {
        "case_name": "单个PDF文件合并测试",
        "purpose": "验证工具在仅提供一个PDF文件时仍能正常工作，即输出文件与输入相同。",
        "args": {
          "pdf_details": [
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
              "order": 1
            }
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\single_ordered_merged_output.pdf"
        },
        "response": {
          "result": "PDFs已按照指定顺序合并到: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\single_ordered_merged_output.pdf"
        },
        "execution_time": 0.07299947738647461,
        "is_functional_test": true
      },
      {
        "case_name": "中文路径和文件名处理测试",
        "purpose": "验证工具能否正确处理包含中文字符的路径和文件名。",
        "args": {
          "pdf_details": [
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_repo\\中文文件名.docx",
              "order": 1
            }
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\中文路径有序合并结果.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: 发生错误: EOF marker not found"
        },
        "execution_time": 0.01900482177734375,
        "is_functional_test": true
      },
      {
        "case_name": "特殊字符路径处理测试",
        "purpose": "测试工具是否能够处理包含空格、引号等特殊字符的文件路径。",
        "args": {
          "pdf_details": [
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_repo\\new file with spaces.docx",
              "order": 1
            }
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special_char_ordered_merge_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: 发生错误: EOF marker not found"
        },
        "execution_time": 0.0260009765625,
        "is_functional_test": true
      },
      {
        "case_name": "无效参数类型测试",
        "purpose": "验证工具在传入错误类型的参数时是否抛出ValueError。",
        "args": {
          "pdf_details": "not_an_array",
          "output_path": 12345
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: 2 validation errors for merge_pdfs_orderedArguments\npdf_details\n  Input should be a valid list [type=list_type, input_value='not_an_array', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.10/v/list_type\noutput_path\n  Input should be a valid string [type=string_type, input_value=12345, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type"
        },
        "execution_time": 0.020001649856567383,
        "is_functional_test": false
      },
      {
        "case_name": "不存在的PDF文件路径测试",
        "purpose": "验证工具在指定路径中存在不存在的文件时是否抛出FileNotFoundError。",
        "args": {
          "pdf_details": [
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.pdf",
              "order": 1
            }
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\missing_file_ordered_merge_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: 发生错误: 以下文件未找到: ['D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\nonexistent.pdf']"
        },
        "execution_time": 0.018000125885009766,
        "is_functional_test": false
      },
      {
        "case_name": "非PDF文件尝试合并测试",
        "purpose": "确保工具不会接受非PDF格式文件作为输入，并抛出适当错误。",
        "args": {
          "pdf_details": [
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\app.ico",
              "order": 1
            }
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\invalid_ordered_merge_attempt.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: 发生错误: EOF marker not found"
        },
        "execution_time": 0.020625591278076172,
        "is_functional_test": false
      },
      {
        "case_name": "SQL注入式文件名处理测试",
        "purpose": "测试工具是否安全地处理含有潜在SQL注入风险的文件名。",
        "args": {
          "pdf_details": [
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\image'; DROP TABLE users;--.jpg",
              "order": 1
            }
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\sql_injection_ordered_merge_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: 发生错误: 以下文件未找到: [\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\image'; DROP TABLE users;--.jpg\"]"
        },
        "execution_time": 0.014998912811279297,
        "is_functional_test": false
      },
      {
        "case_name": "长文件路径边界测试",
        "purpose": "测试工具对超过Windows最大路径限制（260字符）的支持情况。",
        "args": {
          "pdf_details": [
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\this_is_a_very_long_file_name_that_may_exceed_windows_max_length_limit_of_260_characters_and_should_be_handled_properly_by_the_tool.pdf",
              "order": 1
            }
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\long_filename_ordered_merge_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: 发生错误: 以下文件未找到: ['D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\this_is_a_very_long_file_name_that_may_exceed_windows_max_length_limit_of_260_characters_and_should_be_handled_properly_by_the_tool.pdf']"
        },
        "execution_time": 0.027005434036254883,
        "is_functional_test": false
      },
      {
        "case_name": "空输入列表测试",
        "purpose": "验证工具在提供空的pdf_details数组时是否抛出适当的错误。",
        "args": {
          "pdf_details": [],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_input_list_ordered_merge.pdf"
        },
        "response": {
          "result": "PDFs已按照指定顺序合并到: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_input_list_ordered_merge.pdf"
        },
        "execution_time": 0.014000654220581055,
        "is_functional_test": false
      },
      {
        "case_name": "重复order值合并测试",
        "purpose": "验证工具在多个PDF具有相同order值时是否按原始顺序排列。",
        "args": {
          "pdf_details": [
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
              "order": 1
            },
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\城市道路管理条例.pdf",
              "order": 1
            }
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\duplicate_order_merge_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: 发生错误: EOF marker not found"
        },
        "execution_time": 0.10399818420410156,
        "is_functional_test": true
      },
      {
        "case_name": "负数order值处理测试",
        "purpose": "验证工具是否拒绝处理负数order值。",
        "args": {
          "pdf_details": [
            {
              "path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
              "order": -1
            }
          ],
          "output_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\negative_order_merge_output.pdf"
        },
        "response": {
          "result": "PDFs已按照指定顺序合并到: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\negative_order_merge_output.pdf"
        },
        "execution_time": 0.07518219947814941,
        "is_functional_test": false
      }
    ],
    "find_related_pdfs": [
      {
        "case_name": "基本PDF关联查找",
        "purpose": "验证工具可以成功在指定目录中查找与目标PDF内容相似度超过阈值的PDF文件。",
        "args": {
          "target_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "similarity_threshold": 0.5
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 发生错误: No /Root object! - Is this really a PDF?"
        },
        "execution_time": 2.815093994140625,
        "is_functional_test": true
      },
      {
        "case_name": "中文路径PDF关联查找",
        "purpose": "验证工具能否正确处理包含中文字符的路径，并找到相关的PDF文件。",
        "args": {
          "target_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\城市道路管理条例.pdf",
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "similarity_threshold": 0.6
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 发生错误: No /Root object! - Is this really a PDF?"
        },
        "execution_time": 0.007998943328857422,
        "is_functional_test": true
      },
      {
        "case_name": "特殊字符路径PDF关联查找",
        "purpose": "测试工具是否能够处理包含空格和特殊字符的目标PDF路径并查找相关文件。",
        "args": {
          "target_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_repo\\new file with spaces.docx",
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_repo",
          "similarity_threshold": 0.7
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 发生错误: No /Root object! - Is this really a PDF?"
        },
        "execution_time": 0.019999980926513672,
        "is_functional_test": true
      },
      {
        "case_name": "SQL注入式文件名处理",
        "purpose": "测试工具是否安全地处理含有潜在SQL注入风险的目标PDF文件名。",
        "args": {
          "target_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\image'; DROP TABLE users;--.pdf",
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "similarity_threshold": 0.5
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 发生错误: 文件未找到: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\image'; DROP TABLE users;--.pdf"
        },
        "execution_time": 0.015001773834228516,
        "is_functional_test": false
      },
      {
        "case_name": "不存在的目标PDF文件",
        "purpose": "验证工具在目标PDF文件不存在时是否抛出FileNotFoundError。",
        "args": {
          "target_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.pdf",
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "similarity_threshold": 0.5
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 发生错误: 文件未找到: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.pdf"
        },
        "execution_time": 0.01600027084350586,
        "is_functional_test": false
      },
      {
        "case_name": "无效目录路径输入",
        "purpose": "验证工具在提供的搜索目录不存在时是否抛出NotADirectoryError。",
        "args": {
          "target_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_dir",
          "similarity_threshold": 0.5
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 发生错误: 不是有效的目录: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_dir"
        },
        "execution_time": 0.017001867294311523,
        "is_functional_test": false
      },
      {
        "case_name": "长路径边界测试",
        "purpose": "测试工具对超过Windows最大路径限制（260字符）的支持情况。",
        "args": {
          "target_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\this_is_a_very_long_file_name_that_may_exceed_windows_max_length_limit_of_260_characters_and_should_be_handled_properly_by_the_tool.pdf",
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "similarity_threshold": 0.5
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 发生错误: 文件未找到: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\this_is_a_very_long_file_name_that_may_exceed_windows_max_length_limit_of_260_characters_and_should_be_handled_properly_by_the_tool.pdf"
        },
        "execution_time": 0.03100299835205078,
        "is_functional_test": false
      },
      {
        "case_name": "零相似度阈值测试",
        "purpose": "验证工具在相似度阈值为0时是否返回所有可找到的PDF文件。",
        "args": {
          "target_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "similarity_threshold": 0.0
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 发生错误: No /Root object! - Is this really a PDF?"
        },
        "execution_time": 2.853950023651123,
        "is_functional_test": true
      },
      {
        "case_name": "最大相似度阈值测试",
        "purpose": "验证工具在相似度阈值为1时是否仅返回完全相同的PDF文件或无结果。",
        "args": {
          "target_pdf": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\2023.nlposs-1.24.pdf",
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "similarity_threshold": 1.0
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 发生错误: No /Root object! - Is this really a PDF?"
        },
        "execution_time": 3.017329216003418,
        "is_functional_test": true
      },
      {
        "case_name": "无效参数类型测试",
        "purpose": "验证工具在传入错误类型的参数时是否抛出ValueError。",
        "args": {
          "target_pdf": 123,
          "directory": 456,
          "similarity_threshold": "not_a_number"
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 3 validation errors for find_related_pdfsArguments\ntarget_pdf\n  Input should be a valid string [type=string_type, input_value=123, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type\ndirectory\n  Input should be a valid string [type=string_type, input_value=456, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type\nsimilarity_threshold\n  Input should be a valid number, unable to parse string as a number [type=float_parsing, input_value='not_a_number', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.10/v/float_parsing"
        },
        "execution_time": 0.011000871658325195,
        "is_functional_test": false
      }
    ]
  },
  "total_cases": 54
}