{
  "server_name": "server",
  "parent_dir": "financial_data_mcp_server_refined",
  "report_name": "financial_data_mcp_server_refined-server",
  "server_path": "workspace\\refinement\\financial_data_mcp_server_refined\\server.py",
  "timestamp": "2025-07-01T17:03:42.172578",
  "tools": [
    {
      "name": "get_income_statements",
      "description": "\n    获取指定公司的利润表数据。\n\n    Args:\n        ticker: 股票代码 (必填)。\n        period: 报告周期，可选值: annual(年度), quarterly(季度), ttm(滚动12个月)。\n        limit: 返回结果的最大数量，默认10条，最大100条。\n\n    Returns:\n        包含利润表数据的JSON格式字符串。\n\n    Raises:\n        ValueError: 如果参数无效。\n        httpx.HTTPStatusError: 如果API请求失败。\n\n    示例:\n        get_income_statements(ticker=\"AAPL\", period=\"annual\", limit=5)\n    ",
      "args_schema": {
        "properties": {
          "ticker": {
            "title": "Ticker",
            "type": "string"
          },
          "period": {
            "default": "annual",
            "title": "Period",
            "type": "string"
          },
          "limit": {
            "default": 10,
            "title": "Limit",
            "type": "integer"
          }
        },
        "required": [
          "ticker"
        ],
        "title": "get_income_statementsArguments",
        "type": "object"
      }
    },
    {
      "name": "get_balance_sheets",
      "description": "\n    获取指定公司的资产负债表数据。\n\n    Args:\n        ticker: 股票代码 (必填)。\n        period: 报告周期，可选值: annual(年度), quarterly(季度), ttm(滚动12个月)。\n        limit: 返回结果的最大数量，默认10条，最大100条。\n\n    Returns:\n        包含资产负债表数据的JSON格式字符串。\n\n    Raises:\n        ValueError: 如果参数无效。\n        httpx.HTTPStatusError: 如果API请求失败。\n\n    示例:\n        get_balance_sheets(ticker=\"AAPL\", period=\"quarterly\", limit=5)\n    ",
      "args_schema": {
        "properties": {
          "ticker": {
            "title": "Ticker",
            "type": "string"
          },
          "period": {
            "default": "annual",
            "title": "Period",
            "type": "string"
          },
          "limit": {
            "default": 10,
            "title": "Limit",
            "type": "integer"
          }
        },
        "required": [
          "ticker"
        ],
        "title": "get_balance_sheetsArguments",
        "type": "object"
      }
    },
    {
      "name": "get_cash_flows",
      "description": "\n    获取指定公司的现金流量表数据。\n\n    Args:\n        ticker: 股票代码 (必填)。\n        period: 报告周期，可选值: annual(年度), quarterly(季度), ttm(滚动12个月)。\n        limit: 返回结果的最大数量，默认10条，最大100条。\n\n    Returns:\n        包含现金流量表数据的JSON格式字符串。\n\n    Raises:\n        ValueError: 如果参数无效。\n        httpx.HTTPStatusError: 如果API请求失败。\n\n    示例:\n        get_cash_flows(ticker=\"AAPL\", period=\"annual\", limit=5)\n    ",
      "args_schema": {
        "properties": {
          "ticker": {
            "title": "Ticker",
            "type": "string"
          },
          "period": {
            "default": "annual",
            "title": "Period",
            "type": "string"
          },
          "limit": {
            "default": 10,
            "title": "Limit",
            "type": "integer"
          }
        },
        "required": [
          "ticker"
        ],
        "title": "get_cash_flowsArguments",
        "type": "object"
      }
    },
    {
      "name": "get_stock_prices",
      "description": "\n    获取指定股票的历史价格数据。\n\n    Args:\n        ticker: 股票代码 (必填)。\n        start_date: 开始日期，格式: YYYY-MM-DD (可选)。\n        end_date: 结束日期，格式: YYYY-MM-DD (可选)。\n        interval: 时间间隔，可选值: minute, hour, day, week, month，默认为 day。\n        interval_multiplier: 时间间隔乘数，默认为 1。\n\n    Returns:\n        包含历史股价数据的JSON格式字符串。\n\n    Raises:\n        ValueError: 如果参数无效。\n        httpx.HTTPStatusError: 如果API请求失败。\n\n    示例:\n        get_stock_prices(ticker=\"AAPL\", start_date=\"2023-01-01\", end_date=\"2023-12-31\")\n    ",
      "args_schema": {
        "properties": {
          "ticker": {
            "title": "Ticker",
            "type": "string"
          },
          "start_date": {
            "default": null,
            "title": "Start Date",
            "type": "string"
          },
          "end_date": {
            "default": null,
            "title": "End Date",
            "type": "string"
          },
          "interval": {
            "default": "day",
            "title": "Interval",
            "type": "string"
          },
          "interval_multiplier": {
            "default": 1,
            "title": "Interval Multiplier",
            "type": "integer"
          }
        },
        "required": [
          "ticker"
        ],
        "title": "get_stock_pricesArguments",
        "type": "object"
      }
    },
    {
      "name": "get_market_news",
      "description": "\n    获取与公司或市场相关的最新金融新闻。\n\n    Args:\n        topic: 新闻主题，可以是公司名称、行业或市场关键词 (必填)。\n        limit: 返回结果的最大数量，默认10条，最大100条。\n\n    Returns:\n        包含最新金融新闻数据的JSON格式字符串。\n\n    Raises:\n        ValueError: 如果参数无效。\n        httpx.HTTPStatusError: 如果API请求失败。\n\n    示例:\n        get_market_news(topic=\"technology\", limit=5)\n    ",
      "args_schema": {
        "properties": {
          "topic": {
            "title": "Topic",
            "type": "string"
          },
          "limit": {
            "default": 10,
            "title": "Limit",
            "type": "integer"
          }
        },
        "required": [
          "topic"
        ],
        "title": "get_market_newsArguments",
        "type": "object"
      }
    },
    {
      "name": "get_company_profile",
      "description": "\n    获取公司简介信息。\n\n    Args:\n        ticker: 股票代码 (必填)。\n\n    Returns:\n        包含公司简介信息的JSON格式字符串。\n\n    Raises:\n        ValueError: 如果参数无效。\n        httpx.HTTPStatusError: 如果API请求失败。\n\n    示例:\n        get_company_profile(ticker=\"AAPL\")\n    ",
      "args_schema": {
        "properties": {
          "ticker": {
            "title": "Ticker",
            "type": "string"
          }
        },
        "required": [
          "ticker"
        ],
        "title": "get_company_profileArguments",
        "type": "object"
      }
    },
    {
      "name": "get_analyst_estimates",
      "description": "\n    获取分析师预测数据。\n\n    Args:\n        ticker: 股票代码 (必填)。\n\n    Returns:\n        包含分析师预测数据的JSON格式字符串。\n\n    Raises:\n        ValueError: 如果参数无效。\n        httpx.HTTPStatusError: 如果API请求失败。\n\n    示例:\n        get_analyst_estimates(ticker=\"AAPL\")\n    ",
      "args_schema": {
        "properties": {
          "ticker": {
            "title": "Ticker",
            "type": "string"
          }
        },
        "required": [
          "ticker"
        ],
        "title": "get_analyst_estimatesArguments",
        "type": "object"
      }
    },
    {
      "name": "get_dividend_history",
      "description": "\n    获取公司股息历史记录。\n\n    Args:\n        ticker: 股票代码 (必填)。\n\n    Returns:\n        包含股息历史记录的JSON格式字符串。\n\n    Raises:\n        ValueError: 如果参数无效。\n        httpx.HTTPStatusError: 如果API请求失败。\n\n    示例:\n        get_dividend_history(ticker=\"AAPL\")\n    ",
      "args_schema": {
        "properties": {
          "ticker": {
            "title": "Ticker",
            "type": "string"
          }
        },
        "required": [
          "ticker"
        ],
        "title": "get_dividend_historyArguments",
        "type": "object"
      }
    },
    {
      "name": "get_splits_history",
      "description": "\n    查询股票分割历史。\n\n    Args:\n        ticker: 股票代码 (必填)。\n\n    Returns:\n        包含股票分割历史记录的JSON格式字符串。\n\n    Raises:\n        ValueError: 如果参数无效。\n        httpx.HTTPStatusError: 如果API请求失败。\n\n    示例:\n        get_splits_history(ticker=\"AAPL\")\n    ",
      "args_schema": {
        "properties": {
          "ticker": {
            "title": "Ticker",
            "type": "string"
          }
        },
        "required": [
          "ticker"
        ],
        "title": "get_splits_historyArguments",
        "type": "object"
      }
    },
    {
      "name": "get_earnings_history",
      "description": "\n    获取公司历史财报数据。\n\n    Args:\n        ticker: 股票代码 (必填)。\n        limit: 返回结果的最大数量，默认10条，最大100条。\n\n    Returns:\n        包含历史财报数据的JSON格式字符串。\n\n    Raises:\n        ValueError: 如果参数无效。\n        httpx.HTTPStatusError: 如果API请求失败。\n\n    示例:\n        get_earnings_history(ticker=\"AAPL\", limit=5)\n    ",
      "args_schema": {
        "properties": {
          "ticker": {
            "title": "Ticker",
            "type": "string"
          },
          "limit": {
            "default": 10,
            "title": "Limit",
            "type": "integer"
          }
        },
        "required": [
          "ticker"
        ],
        "title": "get_earnings_historyArguments",
        "type": "object"
      }
    },
    {
      "name": "get_financial_ratios",
      "description": "\n    获取公司财务比率数据。\n\n    Args:\n        ticker: 股票代码 (必填)。\n        period: 报告周期，可选值: annual(年度), quarterly(季度)。\n\n    Returns:\n        包含财务比率数据的JSON格式字符串。\n\n    Raises:\n        ValueError: 如果参数无效。\n        httpx.HTTPStatusError: 如果API请求失败。\n\n    示例:\n        get_financial_ratios(ticker=\"AAPL\", period=\"annual\")\n    ",
      "args_schema": {
        "properties": {
          "ticker": {
            "title": "Ticker",
            "type": "string"
          },
          "period": {
            "default": "annual",
            "title": "Period",
            "type": "string"
          }
        },
        "required": [
          "ticker"
        ],
        "title": "get_financial_ratiosArguments",
        "type": "object"
      }
    },
    {
      "name": "get_ownership_data",
      "description": "\n    获取公司股权结构数据。\n\n    Args:\n        ticker: 股票代码 (必填)。\n\n    Returns:\n        包含股权结构数据的JSON格式字符串。\n\n    Raises:\n        ValueError: 如果参数无效。\n        httpx.HTTPStatusError: 如果API请求失败。\n\n    示例:\n        get_ownership_data(ticker=\"AAPL\")\n    ",
      "args_schema": {
        "properties": {
          "ticker": {
            "title": "Ticker",
            "type": "string"
          }
        },
        "required": [
          "ticker"
        ],
        "title": "get_ownership_dataArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "get_company_profile": [
      {
        "case_name": "获取有效公司简介",
        "purpose": "验证工具能够成功获取一个有效股票代码的公司简介信息。",
        "args": {
          "ticker": "AAPL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_company_profile: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 1.8185768127441406,
        "is_functional_test": true
      },
      {
        "case_name": "使用大写股票代码获取公司简介",
        "purpose": "验证工具是否能正确处理大写格式的股票代码并返回公司简介。",
        "args": {
          "ticker": "GOOGL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_company_profile: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.3595104217529297,
        "is_functional_test": true
      },
      {
        "case_name": "使用小写股票代码获取公司简介",
        "purpose": "验证工具是否能正确处理小写格式的股票代码并返回公司简介。",
        "args": {
          "ticker": "tsla"
        },
        "response": {
          "error": "ToolException: Error executing tool get_company_profile: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.7780036926269531,
        "is_functional_test": true
      },
      {
        "case_name": "获取不存在公司的简介",
        "purpose": "验证当提供无效或不存在的股票代码时，工具是否能正确抛出错误。",
        "args": {
          "ticker": "XYZABC"
        },
        "response": {
          "error": "ToolException: Error executing tool get_company_profile: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.3606247901916504,
        "is_functional_test": false
      },
      {
        "case_name": "空股票代码参数",
        "purpose": "验证当 ticker 参数为空字符串时是否触发 ValueError。",
        "args": {
          "ticker": ""
        },
        "response": {
          "error": "ToolException: Error executing tool get_company_profile: 股票代码不能为空"
        },
        "execution_time": 0.0025026798248291016,
        "is_functional_test": false
      },
      {
        "case_name": "特殊字符股票代码",
        "purpose": "验证工具是否能正确处理包含特殊字符的 ticker 输入，并返回适当的错误。",
        "args": {
          "ticker": "A@PL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_company_profile: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.36562514305114746,
        "is_functional_test": false
      },
      {
        "case_name": "边界测试：最大长度 ticker",
        "purpose": "验证工具是否能正确处理超长 ticker 字符串（例如超过通常的4-5个字符限制）。",
        "args": {
          "ticker": "LONGTICKER123"
        },
        "response": {
          "error": "ToolException: Error executing tool get_company_profile: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.4175453186035156,
        "is_functional_test": false
      },
      {
        "case_name": "API请求失败模拟",
        "purpose": "模拟 API 请求失败的情况，验证工具是否能正确抛出 httpx.HTTPStatusError。",
        "args": {
          "ticker": "ERRORTEST"
        },
        "response": {
          "error": "ToolException: Error executing tool get_company_profile: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.7790355682373047,
        "is_functional_test": false
      },
      {
        "case_name": "安全测试：注入攻击尝试",
        "purpose": "验证工具是否对恶意输入（如 SQL 注入、命令注入）进行有效过滤和拒绝。",
        "args": {
          "ticker": "'; DROP TABLE companies;--"
        },
        "response": {
          "error": "ToolException: Error executing tool get_company_profile: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.45313596725463867,
        "is_functional_test": false
      },
      {
        "case_name": "安全测试：跨站脚本尝试",
        "purpose": "验证工具是否对 XSS 类型的输入进行过滤或拒绝。",
        "args": {
          "ticker": "<script>alert('xss')</script>"
        },
        "response": {
          "error": "ToolException: Error executing tool get_company_profile: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.3702237606048584,
        "is_functional_test": false
      }
    ],
    "get_stock_prices": [
      {
        "case_name": "获取有效股票的历史价格数据",
        "purpose": "验证工具能够成功获取一个有效股票代码在指定日期范围内的历史价格数据。",
        "args": {
          "ticker": "AAPL",
          "start_date": "2023-01-01",
          "end_date": "2023-12-31"
        },
        "response": {
          "result": "{\"ticker\":\"AAPL\",\"prices\":[{\"ticker\":\"AAPL\",\"open\":130.28,\"close\":125.07,\"high\":130.9,\"low\":124.17,\"volume\":112117471,\"time\":\"2023-01-03T05:00:00Z\",\"time_milliseconds\":1672722000000},{\"ticker\":\"AAPL\",\"open\":126.89,\"close\":126.36,\"high\":128.66,\"low\":125.08,\"volume\":89100633,\"time\":\"2023-01-04T05:00:00Z\",\"time_milliseconds\":1672808400000},{\"ticker\":\"AAPL\",\"open\":127.13,\"close\":125.02,\"high\":127.77,\"low\":124.76,\"volume\":80716808,\"time\":\"2023-01-05T05:00:00Z\",\"time_milliseconds\":1672894800000},{\"ticker\":\"AAPL\",\"open\":126.01,\"close\":129.62,\"high\":130.29,\"low\":124.89,\"volume\":87754715,\"time\":\"2023-01-06T05:00:00Z\",\"time_milliseconds\":1672981200000},{\"ticker\":\"AAPL\",\"open\":130.47,\"close\":130.15,\"high\":133.41,\"low\":129.89,\"volume\":70790813,\"time\":\"2023-01-09T05:00:00Z\",\"time_milliseconds\":16732404...[截断]，共计38876字符，剩余38076字符"
        },
        "execution_time": 1.7635447978973389,
        "is_functional_test": true
      },
      {
        "case_name": "使用默认参数获取日线数据",
        "purpose": "验证当仅提供必填 ticker 参数时，工具能使用默认的 interval='day' 获取最近的历史价格数据。",
        "args": {
          "ticker": "GOOGL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_stock_prices: API请求失败: 400 - {\"error\":\"Missing required parameter: start_date\",\"message\":\"Please include start_date\"}"
        },
        "execution_time": 0.8121025562286377,
        "is_functional_test": true
      },
      {
        "case_name": "获取小时级股票价格数据",
        "purpose": "验证工具能够以小时为单位获取股票的历史价格数据。",
        "args": {
          "ticker": "TSLA",
          "interval": "hour"
        },
        "response": {
          "error": "ToolException: Error executing tool get_stock_prices: API请求失败: 400 - {\"error\":\"Missing required parameter: start_date\",\"message\":\"Please include start_date\"}"
        },
        "execution_time": 0.8218762874603271,
        "is_functional_test": true
      },
      {
        "case_name": "获取周线数据并设置间隔乘数",
        "purpose": "验证工具支持 interval_multiplier 参数，并正确返回按周为单位的股价数据。",
        "args": {
          "ticker": "AMZN",
          "interval": "week",
          "interval_multiplier": 2
        },
        "response": {
          "error": "ToolException: Error executing tool get_stock_prices: API请求失败: 400 - {\"error\":\"Missing required parameter: start_date\",\"message\":\"Please include start_date\"}"
        },
        "execution_time": 0.816159725189209,
        "is_functional_test": true
      },
      {
        "case_name": "安全测试：SQL注入尝试",
        "purpose": "验证工具是否对恶意输入（如 SQL 注入）进行有效过滤和拒绝。",
        "args": {
          "ticker": "'; DROP TABLE stocks;--"
        },
        "response": {
          "error": "ToolException: Error executing tool get_stock_prices: API请求失败: 400 - {\"error\":\"Missing required parameter: start_date\",\"message\":\"Please include start_date\"}"
        },
        "execution_time": 0.3806586265563965,
        "is_functional_test": false
      },
      {
        "case_name": "安全测试：XSS尝试",
        "purpose": "验证工具是否对 XSS 类型的输入进行过滤或拒绝。",
        "args": {
          "ticker": "<script>alert('xss')</script>"
        },
        "response": {
          "error": "ToolException: Error executing tool get_stock_prices: API请求失败: 400 - {\"error\":\"Missing required parameter: start_date\",\"message\":\"Please include start_date\"}"
        },
        "execution_time": 0.36638689041137695,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理：无效股票代码",
        "purpose": "验证当提供无效或不存在的股票代码时，工具是否能正确抛出错误。",
        "args": {
          "ticker": "XYZABC"
        },
        "response": {
          "error": "ToolException: Error executing tool get_stock_prices: API请求失败: 400 - {\"error\":\"Missing required parameter: start_date\",\"message\":\"Please include start_date\"}"
        },
        "execution_time": 0.36801838874816895,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理：空 ticker 参数",
        "purpose": "验证当 ticker 参数为空字符串时是否触发 ValueError。",
        "args": {
          "ticker": ""
        },
        "response": {
          "error": "ToolException: Error executing tool get_stock_prices: 股票代码不能为空"
        },
        "execution_time": 0.004999876022338867,
        "is_functional_test": false
      },
      {
        "case_name": "边界测试：特殊字符股票代码",
        "purpose": "验证工具是否能正确处理包含特殊字符的 ticker 输入，并返回适当的错误。",
        "args": {
          "ticker": "A@PL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_stock_prices: API请求失败: 400 - {\"error\":\"Missing required parameter: start_date\",\"message\":\"Please include start_date\"}"
        },
        "execution_time": 0.3618769645690918,
        "is_functional_test": false
      },
      {
        "case_name": "边界测试：超长 ticker 字符串",
        "purpose": "验证工具是否能正确处理超长 ticker 字符串（例如超过通常的4-5个字符限制）。",
        "args": {
          "ticker": "LONGTICKER123"
        },
        "response": {
          "error": "ToolException: Error executing tool get_stock_prices: API请求失败: 400 - {\"error\":\"Missing required parameter: start_date\",\"message\":\"Please include start_date\"}"
        },
        "execution_time": 0.3620584011077881,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理：API请求失败模拟",
        "purpose": "模拟 API 请求失败的情况，验证工具是否能正确抛出 httpx.HTTPStatusError。",
        "args": {
          "ticker": "ERRORTEST"
        },
        "response": {
          "error": "ToolException: Error executing tool get_stock_prices: API请求失败: 400 - {\"error\":\"Missing required parameter: start_date\",\"message\":\"Please include start_date\"}"
        },
        "execution_time": 0.4528341293334961,
        "is_functional_test": false
      },
      {
        "case_name": "边界测试：最小时间间隔 minute",
        "purpose": "验证工具是否支持最细粒度的时间间隔 minute。",
        "args": {
          "ticker": "MSFT",
          "interval": "minute"
        },
        "response": {
          "error": "ToolException: Error executing tool get_stock_prices: API请求失败: 400 - {\"error\":\"Missing required parameter: start_date\",\"message\":\"Please include start_date\"}"
        },
        "execution_time": 0.3634822368621826,
        "is_functional_test": true
      }
    ],
    "get_income_statements": [
      {
        "case_name": "获取有效公司的年度利润表",
        "purpose": "验证工具能够成功获取一个有效股票代码的年度利润表数据。",
        "args": {
          "ticker": "AAPL",
          "period": "annual",
          "limit": 10
        },
        "response": {
          "result": "{\"income_statements\":[{\"ticker\":\"AAPL\",\"report_period\":\"2024-09-28\",\"fiscal_period\":\"2024-FY\",\"period\":\"annual\",\"currency\":\"USD\",\"revenue\":391035000000.0,\"cost_of_revenue\":210352000000.0,\"gross_profit\":180683000000.0,\"operating_expense\":57467000000.0,\"selling_general_and_administrative_expenses\":26097000000.0,\"research_and_development\":31370000000.0,\"operating_income\":123216000000.0,\"interest_expense\":0.0,\"ebit\":123485000000.0,\"income_tax_expense\":29749000000.0,\"net_income_discontinued_operations\":0.0,\"net_income_non_controlling_interests\":0.0,\"net_income\":93736000000.0,\"net_income_common_stock\":93736000000.0,\"preferred_dividends_impact\":0.0,\"consolidated_income\":93736000000.0,\"earnings_per_share\":6.11,\"earnings_per_share_diluted\":6.08,\"dividends_per_common_share\":0.98,\"weighted_average_sh...[截断]，共计8542字符，剩余7742字符"
        },
        "execution_time": 1.729515552520752,
        "is_functional_test": true
      },
      {
        "case_name": "使用默认参数获取利润表",
        "purpose": "验证当仅提供必填 ticker 参数时，工具能使用默认的 period='annual' 和 limit=10 获取利润表数据。",
        "args": {
          "ticker": "GOOGL"
        },
        "response": {
          "result": "{\"income_statements\":[{\"ticker\":\"GOOGL\",\"report_period\":\"2024-12-31\",\"fiscal_period\":\"2024-FY\",\"period\":\"annual\",\"currency\":\"USD\",\"revenue\":350018000000.0,\"cost_of_revenue\":146306000000.0,\"gross_profit\":203712000000.0,\"operating_expense\":91322000000.0,\"selling_general_and_administrative_expenses\":41996000000.0,\"research_and_development\":49326000000.0,\"operating_income\":112390000000.0,\"interest_expense\":268000000.0,\"ebit\":120083000000.0,\"income_tax_expense\":19697000000.0,\"net_income_discontinued_operations\":0.0,\"net_income_non_controlling_interests\":0.0,\"net_income\":100118000000.0,\"net_income_common_stock\":100118000000.0,\"preferred_dividends_impact\":0.0,\"consolidated_income\":100118000000.0,\"earnings_per_share\":8.13,\"earnings_per_share_diluted\":8.04,\"dividends_per_common_share\":0.6,\"weighted...[截断]，共计8464字符，剩余7664字符"
        },
        "execution_time": 0.8424713611602783,
        "is_functional_test": true
      },
      {
        "case_name": "获取季度利润表数据",
        "purpose": "验证工具能够以季度为单位获取利润表数据。",
        "args": {
          "ticker": "TSLA",
          "period": "quarterly"
        },
        "response": {
          "result": "{\"income_statements\":[{\"ticker\":\"TSLA\",\"report_period\":\"2025-03-31\",\"fiscal_period\":\"2025-Q1\",\"period\":\"quarterly\",\"currency\":\"USD\",\"revenue\":19335000000.0,\"cost_of_revenue\":16182000000.0,\"gross_profit\":3153000000.0,\"operating_expense\":2754000000.0,\"selling_general_and_administrative_expenses\":1251000000.0,\"research_and_development\":1409000000.0,\"operating_income\":399000000.0,\"interest_expense\":91000000.0,\"ebit\":669000000.0,\"income_tax_expense\":169000000.0,\"net_income_discontinued_operations\":0.0,\"net_income_non_controlling_interests\":11000000.0,\"net_income\":409000000.0,\"net_income_common_stock\":409000000.0,\"preferred_dividends_impact\":0.0,\"consolidated_income\":420000000.0,\"earnings_per_share\":0.13,\"earnings_per_share_diluted\":0.12,\"dividends_per_common_share\":0.0,\"weighted_average_shares\"...[截断]，共计8466字符，剩余7666字符"
        },
        "execution_time": 0.3943486213684082,
        "is_functional_test": true
      },
      {
        "case_name": "获取TTM滚动利润表",
        "purpose": "验证工具支持 TTM（滚动12个月）周期的利润表获取。",
        "args": {
          "ticker": "AMZN",
          "period": "ttm"
        },
        "response": {
          "error": "ToolException: Error executing tool get_income_statements: API请求失败: 402 - {\"error\":\"Insufficient credits\",\"message\":\"Your current balance is $0.00. Please add more credits to continue using the API.\"}"
        },
        "execution_time": 0.3816719055175781,
        "is_functional_test": true
      },
      {
        "case_name": "限制返回结果数量为5",
        "purpose": "验证工具可以正确限制返回利润表条目的最大数量为5。",
        "args": {
          "ticker": "MSFT",
          "limit": 5
        },
        "response": {
          "result": "{\"income_statements\":[{\"ticker\":\"MSFT\",\"report_period\":\"2024-06-30\",\"fiscal_period\":\"2024-FY\",\"period\":\"annual\",\"currency\":\"USD\",\"revenue\":245122000000.0,\"cost_of_revenue\":74114000000.0,\"gross_profit\":171008000000.0,\"operating_expense\":61575000000.0,\"selling_general_and_administrative_expenses\":32065000000.0,\"research_and_development\":29510000000.0,\"operating_income\":109433000000.0,\"interest_expense\":2935000000.0,\"ebit\":110722000000.0,\"income_tax_expense\":19651000000.0,\"net_income_discontinued_operations\":0.0,\"net_income_non_controlling_interests\":0.0,\"net_income\":88136000000.0,\"net_income_common_stock\":88136000000.0,\"preferred_dividends_impact\":0.0,\"consolidated_income\":88136000000.0,\"earnings_per_share\":11.86,\"earnings_per_share_diluted\":11.8,\"dividends_per_common_share\":2.93,\"weighted_a...[截断]，共计4277字符，剩余3477字符"
        },
        "execution_time": 0.38489651679992676,
        "is_functional_test": true
      },
      {
        "case_name": "安全测试：SQL注入尝试",
        "purpose": "验证工具是否对恶意输入（如 SQL 注入）进行有效过滤和拒绝。",
        "args": {
          "ticker": "'; DROP TABLE income_statements;--"
        },
        "response": {
          "error": "ToolException: Error executing tool get_income_statements: API请求失败: 400 - {\"error\":\"Invalid TICKER\",\"message\":\"Please provide a valid TICKER.\"}"
        },
        "execution_time": 0.37407469749450684,
        "is_functional_test": false
      },
      {
        "case_name": "安全测试：XSS尝试",
        "purpose": "验证工具是否对 XSS 类型的输入进行过滤或拒绝。",
        "args": {
          "ticker": "<script>alert('xss')</script>"
        },
        "response": {
          "error": "ToolException: Error executing tool get_income_statements: API请求失败: 400 - {\"error\":\"Invalid TICKER\",\"message\":\"Please provide a valid TICKER.\"}"
        },
        "execution_time": 0.36881446838378906,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理：无效股票代码",
        "purpose": "验证当提供无效或不存在的股票代码时，工具是否能正确抛出错误。",
        "args": {
          "ticker": "XYZABC"
        },
        "response": {
          "error": "ToolException: Error executing tool get_income_statements: API请求失败: 400 - {\"error\":\"Invalid TICKER\",\"message\":\"Please provide a valid TICKER.\"}"
        },
        "execution_time": 0.8171331882476807,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理：空 ticker 参数",
        "purpose": "验证当 ticker 参数为空字符串时是否触发 ValueError。",
        "args": {
          "ticker": ""
        },
        "response": {
          "error": "ToolException: Error executing tool get_income_statements: 股票代码不能为空"
        },
        "execution_time": 0.0029990673065185547,
        "is_functional_test": false
      },
      {
        "case_name": "边界测试：特殊字符股票代码",
        "purpose": "验证工具是否能正确处理包含特殊字符的 ticker 输入，并返回适当的错误。",
        "args": {
          "ticker": "A@PL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_income_statements: API请求失败: 400 - {\"error\":\"Invalid TICKER\",\"message\":\"Please provide a valid TICKER.\"}"
        },
        "execution_time": 0.8072781562805176,
        "is_functional_test": false
      },
      {
        "case_name": "边界测试：超长 ticker 字符串",
        "purpose": "验证工具是否能正确处理超长 ticker 字符串（例如超过通常的4-5个字符限制）。",
        "args": {
          "ticker": "LONGTICKER123"
        },
        "response": {
          "error": "ToolException: Error executing tool get_income_statements: API请求失败: 400 - {\"error\":\"Invalid TICKER\",\"message\":\"Please provide a valid TICKER.\"}"
        },
        "execution_time": 0.3652303218841553,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理：API请求失败模拟",
        "purpose": "模拟 API 请求失败的情况，验证工具是否能正确抛出 httpx.HTTPStatusError。",
        "args": {
          "ticker": "ERRORTEST"
        },
        "response": {
          "error": "ToolException: Error executing tool get_income_statements: API请求失败: 400 - {\"error\":\"Invalid TICKER\",\"message\":\"Please provide a valid TICKER.\"}"
        },
        "execution_time": 0.37877464294433594,
        "is_functional_test": false
      }
    ],
    "get_balance_sheets": [
      {
        "case_name": "获取有效公司的年度资产负债表",
        "purpose": "验证工具能够成功获取一个有效股票代码的年度资产负债表数据。",
        "args": {
          "ticker": "AAPL",
          "period": "annual",
          "limit": 10
        },
        "response": {
          "result": "{\"balance_sheets\":[{\"ticker\":\"AAPL\",\"report_period\":\"2024-09-28\",\"fiscal_period\":\"2024-FY\",\"period\":\"annual\",\"currency\":\"USD\",\"total_assets\":364980000000.0,\"current_assets\":152987000000.0,\"cash_and_equivalents\":29943000000.0,\"inventory\":7286000000.0,\"current_investments\":35228000000.0,\"trade_and_non_trade_receivables\":66243000000.0,\"non_current_assets\":211993000000.0,\"property_plant_and_equipment\":45680000000.0,\"goodwill_and_intangible_assets\":0.0,\"investments\":126707000000.0,\"non_current_investments\":91479000000.0,\"tax_assets\":0.0,\"total_liabilities\":308030000000.0,\"current_liabilities\":176392000000.0,\"current_debt\":20879000000.0,\"trade_and_non_trade_payables\":68960000000.0,\"deferred_revenue\":8249000000.0,\"deposit_liabilities\":0.0,\"non_current_liabilities\":131638000000.0,\"non_current_debt...[截断]，共计10122字符，剩余9322字符"
        },
        "execution_time": 1.3379976749420166,
        "is_functional_test": true
      },
      {
        "case_name": "使用默认参数获取资产负债表",
        "purpose": "验证当仅提供必填 ticker 参数时，工具能使用默认的 period='annual' 和 limit=10 获取资产负债表数据。",
        "args": {
          "ticker": "GOOGL"
        },
        "response": {
          "result": "{\"balance_sheets\":[{\"ticker\":\"GOOGL\",\"report_period\":\"2024-12-31\",\"fiscal_period\":\"2024-FY\",\"period\":\"annual\",\"currency\":\"USD\",\"total_assets\":450256000000.0,\"current_assets\":163711000000.0,\"cash_and_equivalents\":23466000000.0,\"inventory\":0.0,\"current_investments\":72191000000.0,\"trade_and_non_trade_receivables\":52340000000.0,\"non_current_assets\":286545000000.0,\"property_plant_and_equipment\":184624000000.0,\"goodwill_and_intangible_assets\":31885000000.0,\"investments\":110173000000.0,\"non_current_investments\":37982000000.0,\"tax_assets\":17180000000.0,\"total_liabilities\":125172000000.0,\"current_liabilities\":89122000000.0,\"current_debt\":0.0,\"trade_and_non_trade_payables\":7987000000.0,\"deferred_revenue\":14838000000.0,\"deposit_liabilities\":0.0,\"non_current_liabilities\":36050000000.0,\"non_current_deb...[截断]，共计10235字符，剩余9435字符"
        },
        "execution_time": 0.8352673053741455,
        "is_functional_test": true
      },
      {
        "case_name": "获取季度资产负债表数据",
        "purpose": "验证工具能够以季度为单位获取资产负债表数据。",
        "args": {
          "ticker": "TSLA",
          "period": "quarterly"
        },
        "response": {
          "result": "{\"balance_sheets\":[{\"ticker\":\"TSLA\",\"report_period\":\"2025-03-31\",\"fiscal_period\":\"2025-Q1\",\"period\":\"quarterly\",\"currency\":\"USD\",\"total_assets\":125111000000.0,\"current_assets\":59389000000.0,\"cash_and_equivalents\":16352000000.0,\"inventory\":13706000000.0,\"current_investments\":20644000000.0,\"trade_and_non_trade_receivables\":3782000000.0,\"non_current_assets\":65722000000.0,\"property_plant_and_equipment\":52750000000.0,\"goodwill_and_intangible_assets\":392000000.0,\"investments\":21595000000.0,\"non_current_investments\":951000000.0,\"tax_assets\":6687000000.0,\"total_liabilities\":49693000000.0,\"current_liabilities\":29753000000.0,\"current_debt\":2237000000.0,\"trade_and_non_trade_payables\":13471000000.0,\"deferred_revenue\":6853000000.0,\"deposit_liabilities\":0.0,\"non_current_liabilities\":19940000000.0,\"non_c...[截断]，共计10146字符，剩余9346字符"
        },
        "execution_time": 0.9224042892456055,
        "is_functional_test": true
      },
      {
        "case_name": "获取TTM滚动资产负债表",
        "purpose": "验证工具支持 TTM（滚动12个月）周期的资产负债表获取。",
        "args": {
          "ticker": "AMZN",
          "period": "ttm"
        },
        "response": {
          "error": "ToolException: Error executing tool get_balance_sheets: API请求失败: 402 - {\"error\":\"Insufficient credits\",\"message\":\"Your current balance is $0.00. Please add more credits to continue using the API.\"}"
        },
        "execution_time": 0.8315963745117188,
        "is_functional_test": true
      },
      {
        "case_name": "限制返回结果数量为5",
        "purpose": "验证工具可以正确限制返回资产负债表条目的最大数量为5。",
        "args": {
          "ticker": "MSFT",
          "limit": 5
        },
        "response": {
          "result": "{\"balance_sheets\":[{\"ticker\":\"MSFT\",\"report_period\":\"2024-06-30\",\"fiscal_period\":\"2024-FY\",\"period\":\"annual\",\"currency\":\"USD\",\"total_assets\":512163000000.0,\"current_assets\":159734000000.0,\"cash_and_equivalents\":75543000000.0,\"inventory\":1246000000.0,\"current_investments\":0.0,\"trade_and_non_trade_receivables\":56924000000.0,\"non_current_assets\":352429000000.0,\"property_plant_and_equipment\":154552000000.0,\"goodwill_and_intangible_assets\":146817000000.0,\"investments\":14600000000.0,\"non_current_investments\":14600000000.0,\"tax_assets\":0.0,\"total_liabilities\":243686000000.0,\"current_liabilities\":125286000000.0,\"current_debt\":8942000000.0,\"trade_and_non_trade_payables\":21996000000.0,\"deferred_revenue\":60184000000.0,\"deposit_liabilities\":0.0,\"non_current_liabilities\":118400000000.0,\"non_current_deb...[截断]，共计5096字符，剩余4296字符"
        },
        "execution_time": 0.37644171714782715,
        "is_functional_test": true
      },
      {
        "case_name": "安全测试：SQL注入尝试",
        "purpose": "验证工具是否对恶意输入（如 SQL 注入）进行有效过滤和拒绝。",
        "args": {
          "ticker": "'; DROP TABLE balance_sheets;--"
        },
        "response": {
          "error": "ToolException: Error executing tool get_balance_sheets: API请求失败: 400 - {\"error\":\"Invalid TICKER\",\"message\":\"Please provide a valid TICKER.\"}"
        },
        "execution_time": 0.3710050582885742,
        "is_functional_test": false
      },
      {
        "case_name": "安全测试：XSS尝试",
        "purpose": "验证工具是否对 XSS 类型的输入进行过滤或拒绝。",
        "args": {
          "ticker": "<script>alert('xss')</script>"
        },
        "response": {
          "error": "ToolException: Error executing tool get_balance_sheets: API请求失败: 400 - {\"error\":\"Invalid TICKER\",\"message\":\"Please provide a valid TICKER.\"}"
        },
        "execution_time": 0.37254762649536133,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理：无效股票代码",
        "purpose": "验证当提供无效或不存在的股票代码时，工具是否能正确抛出错误。",
        "args": {
          "ticker": "XYZABC"
        },
        "response": {
          "error": "ToolException: Error executing tool get_balance_sheets: API请求失败: 400 - {\"error\":\"Invalid TICKER\",\"message\":\"Please provide a valid TICKER.\"}"
        },
        "execution_time": 1.0841398239135742,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理：空 ticker 参数",
        "purpose": "验证当 ticker 参数为空字符串时是否触发 ValueError。",
        "args": {
          "ticker": ""
        },
        "response": {
          "error": "ToolException: Error executing tool get_balance_sheets: 股票代码不能为空"
        },
        "execution_time": 0.003999233245849609,
        "is_functional_test": false
      },
      {
        "case_name": "边界测试：特殊字符股票代码",
        "purpose": "验证工具是否能正确处理包含特殊字符的 ticker 输入，并返回适当的错误。",
        "args": {
          "ticker": "A@PL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_balance_sheets: API请求失败: 400 - {\"error\":\"Invalid TICKER\",\"message\":\"Please provide a valid TICKER.\"}"
        },
        "execution_time": 0.6157948970794678,
        "is_functional_test": false
      },
      {
        "case_name": "边界测试：超长 ticker 字符串",
        "purpose": "验证工具是否能正确处理超长 ticker 字符串（例如超过通常的4-5个字符限制）。",
        "args": {
          "ticker": "LONGTICKER123"
        },
        "response": {
          "error": "ToolException: Error executing tool get_balance_sheets: API请求失败: 400 - {\"error\":\"Invalid TICKER\",\"message\":\"Please provide a valid TICKER.\"}"
        },
        "execution_time": 0.41225361824035645,
        "is_functional_test": false
      }
    ],
    "get_cash_flows": [
      {
        "case_name": "获取有效公司的年度现金流量表",
        "purpose": "验证工具能够成功获取一个有效股票代码的年度现金流量表数据。",
        "args": {
          "ticker": "AAPL",
          "period": "annual",
          "limit": 10
        },
        "response": {
          "result": "{\"cash_flow_statements\":[{\"ticker\":\"AAPL\",\"report_period\":\"2024-09-28\",\"fiscal_period\":\"2024-FY\",\"period\":\"annual\",\"currency\":\"USD\",\"net_income\":93736000000.0,\"depreciation_and_amortization\":11445000000.0,\"share_based_compensation\":11688000000.0,\"net_cash_flow_from_operations\":118254000000.0,\"net_cash_flow_from_investing\":2935000000.0,\"capital_expenditure\":-9447000000.0,\"property_plant_and_equipment\":-1965000000.0,\"business_acquisitions_and_disposals\":0.0,\"investment_acquisitions_and_disposals\":13690000000.0,\"net_cash_flow_from_financing\":-121983000000.0,\"issuance_or_repayment_of_debt_securities\":-5998000000.0,\"issuance_or_purchase_of_equity_shares\":-94949000000.0,\"dividends_and_other_cash_distributions\":-15234000000.0,\"change_in_cash_and_equivalents\":-794000000.0,\"effect_of_exchange_rate_...[截断]，共计8644字符，剩余7844字符"
        },
        "execution_time": 1.27205228805542,
        "is_functional_test": true
      },
      {
        "case_name": "使用默认参数获取现金流量表",
        "purpose": "验证当仅提供必填 ticker 参数时，工具能使用默认的 period='annual' 和 limit=10 获取现金流量表数据。",
        "args": {
          "ticker": "GOOGL"
        },
        "response": {
          "result": "{\"cash_flow_statements\":[{\"ticker\":\"GOOGL\",\"report_period\":\"2024-12-31\",\"fiscal_period\":\"2024-FY\",\"period\":\"annual\",\"currency\":\"USD\",\"net_income\":100118000000.0,\"depreciation_and_amortization\":15311000000.0,\"share_based_compensation\":22785000000.0,\"net_cash_flow_from_operations\":125299000000.0,\"net_cash_flow_from_investing\":-45536000000.0,\"capital_expenditure\":-52535000000.0,\"property_plant_and_equipment\":-36188000000.0,\"business_acquisitions_and_disposals\":-2931000000.0,\"investment_acquisitions_and_disposals\":12597000000.0,\"net_cash_flow_from_financing\":-79733000000.0,\"issuance_or_repayment_of_debt_securities\":888000000.0,\"issuance_or_purchase_of_equity_shares\":-74412000000.0,\"dividends_and_other_cash_distributions\":-7363000000.0,\"change_in_cash_and_equivalents\":-582000000.0,\"effect_of_ex...[截断]，共计8675字符，剩余7875字符"
        },
        "execution_time": 0.8295071125030518,
        "is_functional_test": true
      },
      {
        "case_name": "获取季度现金流量表数据",
        "purpose": "验证工具能够以季度为单位获取现金流量表数据。",
        "args": {
          "ticker": "TSLA",
          "period": "quarterly"
        },
        "response": {
          "result": "{\"cash_flow_statements\":[{\"ticker\":\"TSLA\",\"report_period\":\"2025-03-31\",\"fiscal_period\":\"2025-Q1\",\"period\":\"quarterly\",\"currency\":\"USD\",\"net_income\":409000000.0,\"depreciation_and_amortization\":1447000000.0,\"share_based_compensation\":573000000.0,\"net_cash_flow_from_operations\":2156000000.0,\"net_cash_flow_from_investing\":-1651000000.0,\"capital_expenditure\":-1492000000.0,\"property_plant_and_equipment\":-1249000000.0,\"business_acquisitions_and_disposals\":0.0,\"investment_acquisitions_and_disposals\":-159000000.0,\"net_cash_flow_from_financing\":-332000000.0,\"issuance_or_repayment_of_debt_securities\":-724000000.0,\"issuance_or_purchase_of_equity_shares\":313000000.0,\"dividends_and_other_cash_distributions\":0.0,\"change_in_cash_and_equivalents\":213000000.0,\"effect_of_exchange_rate_changes\":40000000.0,\"en...[截断]，共计8448字符，剩余7648字符"
        },
        "execution_time": 0.7962646484375,
        "is_functional_test": true
      },
      {
        "case_name": "获取TTM滚动现金流量表",
        "purpose": "验证工具支持 TTM（滚动12个月）周期的现金流量表获取。",
        "args": {
          "ticker": "AMZN",
          "period": "ttm"
        },
        "response": {
          "error": "ToolException: Error executing tool get_cash_flows: API请求失败: 402 - {\"error\":\"Insufficient credits\",\"message\":\"Your current balance is $0.00. Please add more credits to continue using the API.\"}"
        },
        "execution_time": 0.378861665725708,
        "is_functional_test": true
      },
      {
        "case_name": "限制返回结果数量为5",
        "purpose": "验证工具可以正确限制返回现金流量表条目的最大数量为5。",
        "args": {
          "ticker": "MSFT",
          "limit": 5
        },
        "response": {
          "result": "{\"cash_flow_statements\":[{\"ticker\":\"MSFT\",\"report_period\":\"2024-06-30\",\"fiscal_period\":\"2024-FY\",\"period\":\"annual\",\"currency\":\"USD\",\"net_income\":88136000000.0,\"depreciation_and_amortization\":22287000000.0,\"share_based_compensation\":10734000000.0,\"net_cash_flow_from_operations\":118548000000.0,\"net_cash_flow_from_investing\":-96970000000.0,\"capital_expenditure\":-44477000000.0,\"property_plant_and_equipment\":-44565000000.0,\"business_acquisitions_and_disposals\":-69132000000.0,\"investment_acquisitions_and_disposals\":17937000000.0,\"net_cash_flow_from_financing\":-37757000000.0,\"issuance_or_repayment_of_debt_securities\":575000000.0,\"issuance_or_purchase_of_equity_shares\":-15252000000.0,\"dividends_and_other_cash_distributions\":-21771000000.0,\"change_in_cash_and_equivalents\":-16389000000.0,\"effect_of_...[截断]，共计4410字符，剩余3610字符"
        },
        "execution_time": 0.3734724521636963,
        "is_functional_test": true
      },
      {
        "case_name": "安全测试：SQL注入尝试",
        "purpose": "验证工具是否对恶意输入（如 SQL 注入）进行有效过滤和拒绝。",
        "args": {
          "ticker": "'; DROP TABLE cash_flows;--"
        },
        "response": {
          "error": "ToolException: Error executing tool get_cash_flows: API请求失败: 400 - {\"error\":\"Invalid TICKER\",\"message\":\"Please provide a valid TICKER.\"}"
        },
        "execution_time": 0.3526175022125244,
        "is_functional_test": false
      },
      {
        "case_name": "安全测试：XSS尝试",
        "purpose": "验证工具是否对 XSS 类型的输入进行过滤或拒绝。",
        "args": {
          "ticker": "<script>alert('xss')</script>"
        },
        "response": {
          "error": "ToolException: Error executing tool get_cash_flows: API请求失败: 400 - {\"error\":\"Invalid TICKER\",\"message\":\"Please provide a valid TICKER.\"}"
        },
        "execution_time": 0.7775280475616455,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理：无效股票代码",
        "purpose": "验证当提供无效或不存在的股票代码时，工具是否能正确抛出错误。",
        "args": {
          "ticker": "XYZABC"
        },
        "response": {
          "error": "ToolException: Error executing tool get_cash_flows: API请求失败: 400 - {\"error\":\"Invalid TICKER\",\"message\":\"Please provide a valid TICKER.\"}"
        },
        "execution_time": 0.3670930862426758,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理：空 ticker 参数",
        "purpose": "验证当 ticker 参数为空字符串时是否触发 ValueError。",
        "args": {
          "ticker": ""
        },
        "response": {
          "error": "ToolException: Error executing tool get_cash_flows: 股票代码不能为空"
        },
        "execution_time": 0.004000186920166016,
        "is_functional_test": false
      },
      {
        "case_name": "边界测试：特殊字符股票代码",
        "purpose": "验证工具是否能正确处理包含特殊字符的 ticker 输入，并返回适当的错误。",
        "args": {
          "ticker": "A@PL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_cash_flows: API请求失败: 400 - {\"error\":\"Invalid TICKER\",\"message\":\"Please provide a valid TICKER.\"}"
        },
        "execution_time": 0.35373520851135254,
        "is_functional_test": false
      },
      {
        "case_name": "边界测试：超长 ticker 字符串",
        "purpose": "验证工具是否能正确处理超长 ticker 字符串（例如超过通常的4-5个字符限制）。",
        "args": {
          "ticker": "LONGTICKER123"
        },
        "response": {
          "error": "ToolException: Error executing tool get_cash_flows: API请求失败: 400 - {\"error\":\"Invalid TICKER\",\"message\":\"Please provide a valid TICKER.\"}"
        },
        "execution_time": 0.35446882247924805,
        "is_functional_test": false
      }
    ],
    "get_financial_ratios": [
      {
        "case_name": "获取有效公司的年度财务比率",
        "purpose": "验证工具能够成功获取一个有效股票代码的年度财务比率数据。",
        "args": {
          "ticker": "AAPL",
          "period": "annual"
        },
        "response": {
          "error": "ToolException: Error executing tool get_financial_ratios: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 1.2574245929718018,
        "is_functional_test": true
      },
      {
        "case_name": "使用默认参数获取财务比率",
        "purpose": "验证当仅提供必填 ticker 参数时，工具能使用默认的 period='annual' 获取财务比率数据。",
        "args": {
          "ticker": "GOOGL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_financial_ratios: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.8601579666137695,
        "is_functional_test": true
      },
      {
        "case_name": "获取季度财务比率数据",
        "purpose": "验证工具能够以季度为单位获取财务比率数据。",
        "args": {
          "ticker": "TSLA",
          "period": "quarterly"
        },
        "response": {
          "error": "ToolException: Error executing tool get_financial_ratios: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.3462333679199219,
        "is_functional_test": true
      },
      {
        "case_name": "安全测试：SQL注入尝试",
        "purpose": "验证工具是否对恶意输入（如 SQL 注入）进行有效过滤和拒绝。",
        "args": {
          "ticker": "'; DROP TABLE financial_ratios;--"
        },
        "response": {
          "error": "ToolException: Error executing tool get_financial_ratios: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.35839176177978516,
        "is_functional_test": false
      },
      {
        "case_name": "安全测试：XSS尝试",
        "purpose": "验证工具是否对 XSS 类型的输入进行过滤或拒绝。",
        "args": {
          "ticker": "<script>alert('xss')</script>"
        },
        "response": {
          "error": "ToolException: Error executing tool get_financial_ratios: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.8286364078521729,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理：无效股票代码",
        "purpose": "验证当提供无效或不存在的股票代码时，工具是否能正确抛出错误。",
        "args": {
          "ticker": "XYZABC"
        },
        "response": {
          "error": "ToolException: Error executing tool get_financial_ratios: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.8159196376800537,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理：空 ticker 参数",
        "purpose": "验证当 ticker 参数为空字符串时是否触发 ValueError。",
        "args": {
          "ticker": ""
        },
        "response": {
          "error": "ToolException: Error executing tool get_financial_ratios: 股票代码不能为空"
        },
        "execution_time": 0.004999399185180664,
        "is_functional_test": false
      },
      {
        "case_name": "边界测试：特殊字符股票代码",
        "purpose": "验证工具是否能正确处理包含特殊字符的 ticker 输入，并返回适当的错误。",
        "args": {
          "ticker": "A@PL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_financial_ratios: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.3509397506713867,
        "is_functional_test": false
      },
      {
        "case_name": "边界测试：超长 ticker 字符串",
        "purpose": "验证工具是否能正确处理超长 ticker 字符串（例如超过通常的4-5个字符限制）。",
        "args": {
          "ticker": "LONGTICKER123"
        },
        "response": {
          "error": "ToolException: Error executing tool get_financial_ratios: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.35055088996887207,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理：API请求失败模拟",
        "purpose": "模拟 API 请求失败的情况，验证工具是否能正确抛出 httpx.HTTPStatusError。",
        "args": {
          "ticker": "ERRORTEST"
        },
        "response": {
          "error": "ToolException: Error executing tool get_financial_ratios: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.35217761993408203,
        "is_functional_test": false
      }
    ],
    "get_earnings_history": [
      {
        "case_name": "获取有效公司的历史财报数据",
        "purpose": "验证工具能够成功获取一个有效股票代码的历史财报数据。",
        "args": {
          "ticker": "AAPL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_earnings_history: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 1.2974059581756592,
        "is_functional_test": true
      },
      {
        "case_name": "使用默认limit参数获取历史财报数据",
        "purpose": "验证工具在未指定 limit 参数时，默认返回10条历史财报数据。",
        "args": {
          "ticker": "GOOGL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_earnings_history: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.8046541213989258,
        "is_functional_test": true
      },
      {
        "case_name": "限制返回5条历史财报数据",
        "purpose": "验证工具可以正确限制返回的历史财报条目数量为5条。",
        "args": {
          "ticker": "TSLA",
          "limit": 5
        },
        "response": {
          "error": "ToolException: Error executing tool get_earnings_history: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.3847615718841553,
        "is_functional_test": true
      },
      {
        "case_name": "限制返回最大100条历史财报数据",
        "purpose": "验证工具是否支持最大100条的 limit 参数，并能正确返回对应数据。",
        "args": {
          "ticker": "MSFT",
          "limit": 100
        },
        "response": {
          "error": "ToolException: Error executing tool get_earnings_history: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.3587961196899414,
        "is_functional_test": true
      },
      {
        "case_name": "安全测试：SQL注入尝试",
        "purpose": "验证工具是否对恶意输入（如 SQL 注入）进行有效过滤和拒绝。",
        "args": {
          "ticker": "'; DROP TABLE earnings;--"
        },
        "response": {
          "error": "ToolException: Error executing tool get_earnings_history: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.36429405212402344,
        "is_functional_test": false
      },
      {
        "case_name": "安全测试：XSS尝试",
        "purpose": "验证工具是否对 XSS 类型的输入进行过滤或拒绝。",
        "args": {
          "ticker": "<script>alert('xss')</script>"
        },
        "response": {
          "error": "ToolException: Error executing tool get_earnings_history: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.8114986419677734,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理：无效股票代码",
        "purpose": "验证当提供无效或不存在的股票代码时，工具是否能正确抛出错误。",
        "args": {
          "ticker": "XYZABC"
        },
        "response": {
          "error": "ToolException: Error executing tool get_earnings_history: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.3603932857513428,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理：空 ticker 参数",
        "purpose": "验证当 ticker 参数为空字符串时是否触发 ValueError。",
        "args": {
          "ticker": ""
        },
        "response": {
          "error": "ToolException: Error executing tool get_earnings_history: 股票代码不能为空"
        },
        "execution_time": 0.0029997825622558594,
        "is_functional_test": false
      },
      {
        "case_name": "边界测试：特殊字符股票代码",
        "purpose": "验证工具是否能正确处理包含特殊字符的 ticker 输入，并返回适当的错误。",
        "args": {
          "ticker": "A@PL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_earnings_history: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 1.882972002029419,
        "is_functional_test": false
      },
      {
        "case_name": "边界测试：超长 ticker 字符串",
        "purpose": "验证工具是否能正确处理超长 ticker 字符串（例如超过通常的4-5个字符限制）。",
        "args": {
          "ticker": "LONGTICKER123"
        },
        "response": {
          "error": "ToolException: Error executing tool get_earnings_history: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.35880208015441895,
        "is_functional_test": false
      }
    ],
    "get_dividend_history": [
      {
        "case_name": "获取有效股票的股息历史",
        "purpose": "验证工具能够成功获取一个有效股票代码的股息历史记录。",
        "args": {
          "ticker": "AAPL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_dividend_history: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 1.2342605590820312,
        "is_functional_test": true
      },
      {
        "case_name": "使用默认参数获取股息历史",
        "purpose": "验证当仅提供必填 ticker 参数时，工具能使用默认设置获取股息历史数据。",
        "args": {
          "ticker": "GOOGL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_dividend_history: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.8124361038208008,
        "is_functional_test": true
      },
      {
        "case_name": "安全测试：SQL注入尝试",
        "purpose": "验证工具是否对恶意输入（如 SQL 注入）进行有效过滤和拒绝。",
        "args": {
          "ticker": "'; DROP TABLE dividends;--"
        },
        "response": {
          "error": "ToolException: Error executing tool get_dividend_history: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.3771359920501709,
        "is_functional_test": false
      },
      {
        "case_name": "安全测试：XSS尝试",
        "purpose": "验证工具是否对 XSS 类型的输入进行过滤或拒绝。",
        "args": {
          "ticker": "<script>alert('xss')</script>"
        },
        "response": {
          "error": "ToolException: Error executing tool get_dividend_history: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.37369322776794434,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理：无效股票代码",
        "purpose": "验证当提供无效或不存在的股票代码时，工具是否能正确抛出错误。",
        "args": {
          "ticker": "XYZABC"
        },
        "response": {
          "error": "ToolException: Error executing tool get_dividend_history: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.35317230224609375,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理：空 ticker 参数",
        "purpose": "验证当 ticker 参数为空字符串时是否触发 ValueError。",
        "args": {
          "ticker": ""
        },
        "response": {
          "error": "ToolException: Error executing tool get_dividend_history: 股票代码不能为空"
        },
        "execution_time": 0.011004924774169922,
        "is_functional_test": false
      },
      {
        "case_name": "边界测试：特殊字符股票代码",
        "purpose": "验证工具是否能正确处理包含特殊字符的 ticker 输入，并返回适当的错误。",
        "args": {
          "ticker": "A@PL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_dividend_history: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.3622255325317383,
        "is_functional_test": false
      },
      {
        "case_name": "边界测试：超长 ticker 字符串",
        "purpose": "验证工具是否能正确处理超长 ticker 字符串（例如超过通常的4-5个字符限制）。",
        "args": {
          "ticker": "LONGTICKER123"
        },
        "response": {
          "error": "ToolException: Error executing tool get_dividend_history: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.8364965915679932,
        "is_functional_test": false
      }
    ],
    "get_splits_history": [
      {
        "case_name": "获取有效股票的分割历史",
        "purpose": "验证工具能够成功获取一个有效股票代码的分割历史记录。",
        "args": {
          "ticker": "AAPL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_splits_history: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 1.2187790870666504,
        "is_functional_test": true
      },
      {
        "case_name": "使用默认参数获取分割历史",
        "purpose": "验证当仅提供必填 ticker 参数时，工具能正常返回数据。",
        "args": {
          "ticker": "GOOGL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_splits_history: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.7986650466918945,
        "is_functional_test": true
      },
      {
        "case_name": "安全测试：SQL注入尝试",
        "purpose": "验证工具是否对恶意输入（如 SQL 注入）进行有效过滤和拒绝。",
        "args": {
          "ticker": "'; DROP TABLE splits;--"
        },
        "response": {
          "error": "ToolException: Error executing tool get_splits_history: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.35402345657348633,
        "is_functional_test": false
      },
      {
        "case_name": "安全测试：XSS尝试",
        "purpose": "验证工具是否对 XSS 类型的输入进行过滤或拒绝。",
        "args": {
          "ticker": "<script>alert('xss')</script>"
        },
        "response": {
          "error": "ToolException: Error executing tool get_splits_history: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.8033180236816406,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理：无效股票代码",
        "purpose": "验证当提供无效或不存在的股票代码时，工具是否能正确抛出错误。",
        "args": {
          "ticker": "XYZABC"
        },
        "response": {
          "error": "ToolException: Error executing tool get_splits_history: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.3591420650482178,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理：空 ticker 参数",
        "purpose": "验证当 ticker 参数为空字符串时是否触发 ValueError。",
        "args": {
          "ticker": ""
        },
        "response": {
          "error": "ToolException: Error executing tool get_splits_history: 股票代码不能为空"
        },
        "execution_time": 0.01199793815612793,
        "is_functional_test": false
      },
      {
        "case_name": "边界测试：特殊字符股票代码",
        "purpose": "验证工具是否能正确处理包含特殊字符的 ticker 输入，并返回适当的错误。",
        "args": {
          "ticker": "A@PL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_splits_history: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.795548677444458,
        "is_functional_test": false
      },
      {
        "case_name": "边界测试：超长 ticker 字符串",
        "purpose": "验证工具是否能正确处理超长 ticker 字符串（例如超过通常的4-5个字符限制）。",
        "args": {
          "ticker": "LONGTICKER123"
        },
        "response": {
          "error": "ToolException: Error executing tool get_splits_history: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.3523426055908203,
        "is_functional_test": false
      }
    ],
    "get_analyst_estimates": [
      {
        "case_name": "获取有效股票代码的分析师预测数据",
        "purpose": "验证工具能够成功获取一个有效股票代码的分析师预测数据。",
        "args": {
          "ticker": "AAPL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_analyst_estimates: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 1.259732723236084,
        "is_functional_test": true
      },
      {
        "case_name": "使用大写股票代码获取分析师预测数据",
        "purpose": "验证工具是否能正确处理大写格式的股票代码并返回分析师预测数据。",
        "args": {
          "ticker": "GOOGL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_analyst_estimates: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.8182656764984131,
        "is_functional_test": true
      },
      {
        "case_name": "使用小写股票代码获取分析师预测数据",
        "purpose": "验证工具是否能正确处理小写格式的股票代码并返回分析师预测数据。",
        "args": {
          "ticker": "tsla"
        },
        "response": {
          "error": "ToolException: Error executing tool get_analyst_estimates: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.8158209323883057,
        "is_functional_test": true
      },
      {
        "case_name": "空股票代码参数触发ValueError",
        "purpose": "验证当 ticker 参数为空字符串时是否触发 ValueError。",
        "args": {
          "ticker": ""
        },
        "response": {
          "error": "ToolException: Error executing tool get_analyst_estimates: 股票代码不能为空"
        },
        "execution_time": 0.002999544143676758,
        "is_functional_test": false
      },
      {
        "case_name": "特殊字符股票代码导致API请求失败",
        "purpose": "验证工具是否能正确处理包含特殊字符的 ticker 输入，并返回适当的错误。",
        "args": {
          "ticker": "A@PL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_analyst_estimates: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.34515380859375,
        "is_functional_test": false
      },
      {
        "case_name": "边界测试：超长 ticker 字符串",
        "purpose": "验证工具是否能正确处理超长 ticker 字符串（例如超过通常的4-5个字符限制）。",
        "args": {
          "ticker": "LONGTICKER123"
        },
        "response": {
          "error": "ToolException: Error executing tool get_analyst_estimates: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.8222863674163818,
        "is_functional_test": false
      },
      {
        "case_name": "安全测试：SQL注入尝试",
        "purpose": "验证工具是否对恶意输入（如 SQL 注入）进行有效过滤和拒绝。",
        "args": {
          "ticker": "'; DROP TABLE analysts;--"
        },
        "response": {
          "error": "ToolException: Error executing tool get_analyst_estimates: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.3495357036590576,
        "is_functional_test": false
      },
      {
        "case_name": "安全测试：XSS尝试",
        "purpose": "验证工具是否对 XSS 类型的输入进行过滤或拒绝。",
        "args": {
          "ticker": "<script>alert('xss')</script>"
        },
        "response": {
          "error": "ToolException: Error executing tool get_analyst_estimates: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.35147881507873535,
        "is_functional_test": false
      },
      {
        "case_name": "无效股票代码导致API请求失败",
        "purpose": "验证当提供无效或不存在的股票代码时，工具是否能正确抛出错误。",
        "args": {
          "ticker": "XYZABC"
        },
        "response": {
          "error": "ToolException: Error executing tool get_analyst_estimates: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.36235666275024414,
        "is_functional_test": false
      },
      {
        "case_name": "模拟API请求失败情况",
        "purpose": "模拟 API 请求失败的情况，验证工具是否能正确抛出 httpx.HTTPStatusError。",
        "args": {
          "ticker": "ERRORTEST"
        },
        "response": {
          "error": "ToolException: Error executing tool get_analyst_estimates: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.35951972007751465,
        "is_functional_test": false
      }
    ],
    "get_ownership_data": [
      {
        "case_name": "获取有效公司的股权结构数据",
        "purpose": "验证工具能够成功获取一个有效股票代码的股权结构数据。",
        "args": {
          "ticker": "AAPL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_ownership_data: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 1.2558884620666504,
        "is_functional_test": true
      },
      {
        "case_name": "使用大写股票代码获取股权结构数据",
        "purpose": "验证工具是否能正确处理大写格式的股票代码并返回股权结构数据。",
        "args": {
          "ticker": "GOOGL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_ownership_data: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.8222317695617676,
        "is_functional_test": true
      },
      {
        "case_name": "使用小写股票代码获取股权结构数据",
        "purpose": "验证工具是否能正确处理小写格式的股票代码并返回股权结构数据。",
        "args": {
          "ticker": "tsla"
        },
        "response": {
          "error": "ToolException: Error executing tool get_ownership_data: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.8030753135681152,
        "is_functional_test": true
      },
      {
        "case_name": "空股票代码参数触发ValueError",
        "purpose": "验证当 ticker 参数为空字符串时是否触发 ValueError。",
        "args": {
          "ticker": ""
        },
        "response": {
          "error": "ToolException: Error executing tool get_ownership_data: 股票代码不能为空"
        },
        "execution_time": 0.00800013542175293,
        "is_functional_test": false
      },
      {
        "case_name": "特殊字符股票代码导致API请求失败",
        "purpose": "验证工具是否能正确处理包含特殊字符的 ticker 输入，并返回适当的错误。",
        "args": {
          "ticker": "A@PL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_ownership_data: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.3528859615325928,
        "is_functional_test": false
      },
      {
        "case_name": "边界测试：超长 ticker 字符串",
        "purpose": "验证工具是否能正确处理超长 ticker 字符串（例如超过通常的4-5个字符限制）。",
        "args": {
          "ticker": "LONGTICKER123"
        },
        "response": {
          "error": "ToolException: Error executing tool get_ownership_data: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.3735678195953369,
        "is_functional_test": false
      },
      {
        "case_name": "安全测试：SQL注入尝试",
        "purpose": "验证工具是否对恶意输入（如 SQL 注入）进行有效过滤和拒绝。",
        "args": {
          "ticker": "'; DROP TABLE ownership;--"
        },
        "response": {
          "error": "ToolException: Error executing tool get_ownership_data: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.41461634635925293,
        "is_functional_test": false
      },
      {
        "case_name": "安全测试：XSS尝试",
        "purpose": "验证工具是否对 XSS 类型的输入进行过滤或拒绝。",
        "args": {
          "ticker": "<script>alert('xss')</script>"
        },
        "response": {
          "error": "ToolException: Error executing tool get_ownership_data: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.8304610252380371,
        "is_functional_test": false
      },
      {
        "case_name": "无效股票代码导致API请求失败",
        "purpose": "验证当提供无效或不存在的股票代码时，工具是否能正确抛出错误。",
        "args": {
          "ticker": "XYZABC"
        },
        "response": {
          "error": "ToolException: Error executing tool get_ownership_data: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.3599576950073242,
        "is_functional_test": false
      },
      {
        "case_name": "模拟API请求失败情况",
        "purpose": "模拟 API 请求失败的情况，验证工具是否能正确抛出 httpx.HTTPStatusError。",
        "args": {
          "ticker": "ERRORTEST"
        },
        "response": {
          "error": "ToolException: Error executing tool get_ownership_data: API请求失败: 404 - \n<!doctype html>\n<html lang=\"en\">\n<head>\n  <title>Not Found</title>\n</head>\n<body>\n  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>\n</body>\n</html>\n"
        },
        "execution_time": 0.4522709846496582,
        "is_functional_test": false
      }
    ],
    "get_market_news": [
      {
        "case_name": "获取科技主题的市场新闻",
        "purpose": "验证工具能够成功获取与'technology'主题相关的最新金融新闻数据。",
        "args": {
          "topic": "technology"
        },
        "response": {
          "error": "ToolException: Error executing tool get_market_news: API请求失败: 301 - "
        },
        "execution_time": 1.2334153652191162,
        "is_functional_test": true
      },
      {
        "case_name": "获取5条人工智能相关新闻",
        "purpose": "验证工具可以正确限制返回结果的最大数量为5条，并获取与'artificial intelligence'相关的新闻。",
        "args": {
          "topic": "artificial intelligence",
          "limit": 5
        },
        "response": {
          "error": "ToolException: Error executing tool get_market_news: API请求失败: 301 - "
        },
        "execution_time": 0.3580656051635742,
        "is_functional_test": true
      },
      {
        "case_name": "使用最大允许值100作为limit参数",
        "purpose": "验证工具是否支持最大100条的limit参数，并能正确返回对应数据。",
        "args": {
          "topic": "finance",
          "limit": 100
        },
        "response": {
          "error": "ToolException: Error executing tool get_market_news: API请求失败: 301 - "
        },
        "execution_time": 0.35592079162597656,
        "is_functional_test": true
      },
      {
        "case_name": "安全测试：SQL注入尝试",
        "purpose": "验证工具是否对恶意输入（如 SQL 注入）进行有效过滤和拒绝。",
        "args": {
          "topic": "'; DROP TABLE news;--"
        },
        "response": {
          "error": "ToolException: Error executing tool get_market_news: API请求失败: 301 - "
        },
        "execution_time": 0.7814795970916748,
        "is_functional_test": false
      },
      {
        "case_name": "安全测试：XSS尝试",
        "purpose": "验证工具是否对 XSS 类型的输入进行过滤或拒绝。",
        "args": {
          "topic": "<script>alert('xss')</script>"
        },
        "response": {
          "error": "ToolException: Error executing tool get_market_news: API请求失败: 301 - "
        },
        "execution_time": 0.8111248016357422,
        "is_functional_test": false
      },
      {
        "case_name": "空主题参数触发ValueError",
        "purpose": "验证当 topic 参数为空字符串时是否触发 ValueError。",
        "args": {
          "topic": ""
        },
        "response": {
          "error": "ToolException: Error executing tool get_market_news: 新闻主题不能为空"
        },
        "execution_time": 0.011045217514038086,
        "is_functional_test": false
      },
      {
        "case_name": "特殊字符主题导致API请求失败",
        "purpose": "验证工具是否能正确处理包含特殊字符的 topic 输入，并返回适当的错误。",
        "args": {
          "topic": "fin@nce"
        },
        "response": {
          "error": "ToolException: Error executing tool get_market_news: API请求失败: 301 - "
        },
        "execution_time": 0.3581421375274658,
        "is_functional_test": false
      },
      {
        "case_name": "边界测试：超长topic字符串",
        "purpose": "验证工具是否能正确处理超长 topic 字符串（例如超过通常的关键词长度限制）。",
        "args": {
          "topic": "long_topic_that_exceeds_normal_length_limit_and_tests_boundary_conditions_for_get_market_news_tool"
        },
        "response": {
          "error": "ToolException: Error executing tool get_market_news: API请求失败: 301 - "
        },
        "execution_time": 0.3493640422821045,
        "is_functional_test": false
      }
    ]
  },
  "total_cases": 120
}