{
  "server_name": "server",
  "parent_dir": "zotero_mcp_server_refined",
  "report_name": "zotero_mcp_server_refined-server",
  "server_path": "workspace\\refinement\\zotero_mcp_server_refined\\server.py",
  "timestamp": "2025-07-01T17:11:18.374608",
  "tools": [
    {
      "name": "get_item_metadata",
      "description": "\n    获取指定Zotero条目的详细元数据。\n\n    Args:\n        item_key: 文献条目键值 (必填)，格式为8位字母数字组合。\n\n    Returns:\n        JSON格式字符串，包含条目的详细元数据。\n\n    Raises:\n        ValueError: 如果item_key格式不正确或凭据未设置。\n        RuntimeError: 如果API请求失败。\n\n    示例:\n        get_item_metadata(item_key=\"ABCD1234\")\n    ",
      "args_schema": {
        "properties": {
          "item_key": {
            "title": "Item Key",
            "type": "string"
          }
        },
        "required": [
          "item_key"
        ],
        "title": "get_item_metadataArguments",
        "type": "object"
      }
    },
    {
      "name": "get_item_fulltext",
      "description": "\n    提取Zotero条目的全文内容。\n\n    Args:\n        item_key: 文献条目键值 (必填)，格式为8位字母数字组合。\n\n    Returns:\n        JSON格式字符串，包含条目的全文内容。\n\n    Raises:\n        ValueError: 如果item_key格式不正确或凭据未设置。\n        RuntimeError: 如果API请求失败或条目无全文内容。\n\n    示例:\n        get_item_fulltext(item_key=\"ABCD1234\")\n    ",
      "args_schema": {
        "properties": {
          "item_key": {
            "title": "Item Key",
            "type": "string"
          }
        },
        "required": [
          "item_key"
        ],
        "title": "get_item_fulltextArguments",
        "type": "object"
      }
    },
    {
      "name": "search_items",
      "description": "\n    在Zotero库中执行灵活搜索。\n\n    Args:\n        query: 搜索查询 (必填)，至少2个字符。\n        search_type: 搜索类型 (必填)，可选值: title, creator, year, fulltext。\n\n    Returns:\n        JSON格式字符串，包含格式化的搜索结果列表。\n\n    Raises:\n        ValueError: 如果参数无效或凭据未设置。\n        RuntimeError: 如果API请求失败。\n\n    示例:\n        search_items(query=\"machine learning\", search_type=\"title\")\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "search_type": {
            "default": "title",
            "title": "Search Type",
            "type": "string"
          }
        },
        "required": [
          "query"
        ],
        "title": "search_itemsArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "search_items": [
      {
        "case_name": "基本标题搜索",
        "purpose": "验证使用默认搜索类型（title）进行有效搜索是否返回结果",
        "args": {
          "query": "machine learning"
        },
        "response": {
          "result": "[\n  {\n    \"key\": \"GB3AVERM\",\n    \"version\": 612,\n    \"library\": {\n      \"type\": \"user\",\n      \"id\": 16026771,\n      \"name\": \"zhihutangjiang\",\n      \"links\": {\n        \"alternate\": {\n          \"href\": \"https://www.zotero.org/zhihutangjiang\",\n          \"type\": \"text/html\"\n        }\n      }\n    },\n    \"links\": {\n      \"self\": {\n        \"href\": \"https://api.zotero.org/users/16026771/items/GB3AVERM\",\n        \"type\": \"application/json\"\n      },\n      \"alternate\": {\n        \"href\": \"https://www.zotero.org/zhihutangjiang/items/GB3AVERM\",\n        \"type\": \"text/html\"\n      },\n      \"attachment\": {\n        \"href\": \"https://api.zotero.org/users/16026771/items/9ZJK565I\",\n        \"type\": \"application/json\",\n        \"attachmentType\": \"application/pdf\",\n        \"attachmentSize\": 1987037\n      }\n    },\n   ...[截断]，共计271762字符，剩余270962字符"
        },
        "execution_time": 4.445108890533447,
        "is_functional_test": true
      },
      {
        "case_name": "作者搜索",
        "purpose": "验证搜索类型为creator时是否能正确返回结果",
        "args": {
          "query": "John Doe",
          "search_type": "creator"
        },
        "response": {
          "result": "[\n  {\n    \"key\": \"GB3AVERM\",\n    \"version\": 612,\n    \"library\": {\n      \"type\": \"user\",\n      \"id\": 16026771,\n      \"name\": \"zhihutangjiang\",\n      \"links\": {\n        \"alternate\": {\n          \"href\": \"https://www.zotero.org/zhihutangjiang\",\n          \"type\": \"text/html\"\n        }\n      }\n    },\n    \"links\": {\n      \"self\": {\n        \"href\": \"https://api.zotero.org/users/16026771/items/GB3AVERM\",\n        \"type\": \"application/json\"\n      },\n      \"alternate\": {\n        \"href\": \"https://www.zotero.org/zhihutangjiang/items/GB3AVERM\",\n        \"type\": \"text/html\"\n      },\n      \"attachment\": {\n        \"href\": \"https://api.zotero.org/users/16026771/items/9ZJK565I\",\n        \"type\": \"application/json\",\n        \"attachmentType\": \"application/pdf\",\n        \"attachmentSize\": 1987037\n      }\n    },\n   ...[截断]，共计271762字符，剩余270962字符"
        },
        "execution_time": 4.748039722442627,
        "is_functional_test": true
      },
      {
        "case_name": "年份搜索",
        "purpose": "验证搜索类型为year时是否能正确返回结果",
        "args": {
          "query": "2023",
          "search_type": "year"
        },
        "response": {
          "result": "[\n  {\n    \"key\": \"GB3AVERM\",\n    \"version\": 612,\n    \"library\": {\n      \"type\": \"user\",\n      \"id\": 16026771,\n      \"name\": \"zhihutangjiang\",\n      \"links\": {\n        \"alternate\": {\n          \"href\": \"https://www.zotero.org/zhihutangjiang\",\n          \"type\": \"text/html\"\n        }\n      }\n    },\n    \"links\": {\n      \"self\": {\n        \"href\": \"https://api.zotero.org/users/16026771/items/GB3AVERM\",\n        \"type\": \"application/json\"\n      },\n      \"alternate\": {\n        \"href\": \"https://www.zotero.org/zhihutangjiang/items/GB3AVERM\",\n        \"type\": \"text/html\"\n      },\n      \"attachment\": {\n        \"href\": \"https://api.zotero.org/users/16026771/items/9ZJK565I\",\n        \"type\": \"application/json\",\n        \"attachmentType\": \"application/pdf\",\n        \"attachmentSize\": 1987037\n      }\n    },\n   ...[截断]，共计271762字符，剩余270962字符"
        },
        "execution_time": 2.2737176418304443,
        "is_functional_test": true
      },
      {
        "case_name": "全文搜索",
        "purpose": "验证搜索类型为fulltext时是否能正确返回结果",
        "args": {
          "query": "deep neural networks",
          "search_type": "fulltext"
        },
        "response": {
          "result": "[\n  {\n    \"key\": \"4EBXPWH5\",\n    \"version\": 530,\n    \"library\": {\n      \"type\": \"user\",\n      \"id\": 16026771,\n      \"name\": \"zhihutangjiang\",\n      \"links\": {\n        \"alternate\": {\n          \"href\": \"https://www.zotero.org/zhihutangjiang\",\n          \"type\": \"text/html\"\n        }\n      }\n    },\n    \"links\": {\n      \"self\": {\n        \"href\": \"https://api.zotero.org/users/16026771/items/4EBXPWH5\",\n        \"type\": \"application/json\"\n      },\n      \"alternate\": {\n        \"href\": \"https://www.zotero.org/zhihutangjiang/items/4EBXPWH5\",\n        \"type\": \"text/html\"\n      },\n      \"attachment\": {\n        \"href\": \"https://api.zotero.org/users/16026771/items/Z4JH5ZDJ\",\n        \"type\": \"application/json\",\n        \"attachmentType\": \"application/pdf\",\n        \"attachmentSize\": 2048075\n      }\n    },\n   ...[截断]，共计72842字符，剩余72042字符"
        },
        "execution_time": 10.152201175689697,
        "is_functional_test": true
      },
      {
        "case_name": "查询长度不足",
        "purpose": "验证当查询字符串小于2个字符时是否抛出ValueError",
        "args": {
          "query": "a",
          "search_type": "title"
        },
        "response": {
          "error": "ToolException: Error executing tool search_items: 执行搜索失败: 搜索查询必须至少包含2个字符。"
        },
        "execution_time": 0.01308894157409668,
        "is_functional_test": false
      },
      {
        "case_name": "无效搜索类型",
        "purpose": "验证传入非法搜索类型时是否抛出ValueError",
        "args": {
          "query": "test",
          "search_type": "invalid_type"
        },
        "response": {
          "error": "ToolException: Error executing tool search_items: 执行搜索失败: 无效的search_type: 'invalid_type'。必须是['title', 'creator', 'year', 'fulltext']之一。"
        },
        "execution_time": 0.010001182556152344,
        "is_functional_test": false
      },
      {
        "case_name": "特殊字符查询",
        "purpose": "验证包含特殊字符的查询是否能正常处理",
        "args": {
          "query": "量子计算@2025",
          "search_type": "title"
        },
        "response": {
          "result": "[\n  {\n    \"key\": \"GB3AVERM\",\n    \"version\": 612,\n    \"library\": {\n      \"type\": \"user\",\n      \"id\": 16026771,\n      \"name\": \"zhihutangjiang\",\n      \"links\": {\n        \"alternate\": {\n          \"href\": \"https://www.zotero.org/zhihutangjiang\",\n          \"type\": \"text/html\"\n        }\n      }\n    },\n    \"links\": {\n      \"self\": {\n        \"href\": \"https://api.zotero.org/users/16026771/items/GB3AVERM\",\n        \"type\": \"application/json\"\n      },\n      \"alternate\": {\n        \"href\": \"https://www.zotero.org/zhihutangjiang/items/GB3AVERM\",\n        \"type\": \"text/html\"\n      },\n      \"attachment\": {\n        \"href\": \"https://api.zotero.org/users/16026771/items/9ZJK565I\",\n        \"type\": \"application/json\",\n        \"attachmentType\": \"application/pdf\",\n        \"attachmentSize\": 1987037\n      }\n    },\n   ...[截断]，共计271762字符，剩余270962字符"
        },
        "execution_time": 2.350743293762207,
        "is_functional_test": true
      },
      {
        "case_name": "长查询测试",
        "purpose": "验证非常长的查询是否能被正常处理",
        "args": {
          "query": "This is a very long search query that exceeds typical length but should still be handled gracefully by the system",
          "search_type": "fulltext"
        },
        "response": {
          "error": "ToolException: Error executing tool search_items: 执行搜索失败: The read operation timed out"
        },
        "execution_time": 30.02124524116516,
        "is_functional_test": true
      },
      {
        "case_name": "中文标题搜索",
        "purpose": "验证中文标题搜索是否能正常返回结果",
        "args": {
          "query": "智能软件工",
          "search_type": "title"
        },
        "response": {
          "result": "[\n  {\n    \"key\": \"GB3AVERM\",\n    \"version\": 612,\n    \"library\": {\n      \"type\": \"user\",\n      \"id\": 16026771,\n      \"name\": \"zhihutangjiang\",\n      \"links\": {\n        \"alternate\": {\n          \"href\": \"https://www.zotero.org/zhihutangjiang\",\n          \"type\": \"text/html\"\n        }\n      }\n    },\n    \"links\": {\n      \"self\": {\n        \"href\": \"https://api.zotero.org/users/16026771/items/GB3AVERM\",\n        \"type\": \"application/json\"\n      },\n      \"alternate\": {\n        \"href\": \"https://www.zotero.org/zhihutangjiang/items/GB3AVERM\",\n        \"type\": \"text/html\"\n      },\n      \"attachment\": {\n        \"href\": \"https://api.zotero.org/users/16026771/items/9ZJK565I\",\n        \"type\": \"application/json\",\n        \"attachmentType\": \"application/pdf\",\n        \"attachmentSize\": 1987037\n      }\n    },\n   ...[截断]，共计271762字符，剩余270962字符"
        },
        "execution_time": 4.825450658798218,
        "is_functional_test": true
      },
      {
        "case_name": "文件名边界测试",
        "purpose": "验证超长文件名是否在搜索中被正确识别",
        "args": {
          "query": "a_very_long_filename_that_exceeds_the_typical_limit_for_file_paths_in_windows_systems_should_be_tested_for_boundary_conditions_and_edge_cases",
          "search_type": "title"
        },
        "response": {
          "result": "[\n  {\n    \"key\": \"GB3AVERM\",\n    \"version\": 612,\n    \"library\": {\n      \"type\": \"user\",\n      \"id\": 16026771,\n      \"name\": \"zhihutangjiang\",\n      \"links\": {\n        \"alternate\": {\n          \"href\": \"https://www.zotero.org/zhihutangjiang\",\n          \"type\": \"text/html\"\n        }\n      }\n    },\n    \"links\": {\n      \"self\": {\n        \"href\": \"https://api.zotero.org/users/16026771/items/GB3AVERM\",\n        \"type\": \"application/json\"\n      },\n      \"alternate\": {\n        \"href\": \"https://www.zotero.org/zhihutangjiang/items/GB3AVERM\",\n        \"type\": \"text/html\"\n      },\n      \"attachment\": {\n        \"href\": \"https://api.zotero.org/users/16026771/items/9ZJK565I\",\n        \"type\": \"application/json\",\n        \"attachmentType\": \"application/pdf\",\n        \"attachmentSize\": 1987037\n      }\n    },\n   ...[截断]，共计271762字符，剩余270962字符"
        },
        "execution_time": 2.3169431686401367,
        "is_functional_test": true
      },
      {
        "case_name": "SQL注入尝试",
        "purpose": "验证工具是否安全地处理潜在的SQL注入攻击向量",
        "args": {
          "query": "'; DROP TABLE zotero_items; --",
          "search_type": "title"
        },
        "response": {
          "result": "[\n  {\n    \"key\": \"GB3AVERM\",\n    \"version\": 612,\n    \"library\": {\n      \"type\": \"user\",\n      \"id\": 16026771,\n      \"name\": \"zhihutangjiang\",\n      \"links\": {\n        \"alternate\": {\n          \"href\": \"https://www.zotero.org/zhihutangjiang\",\n          \"type\": \"text/html\"\n        }\n      }\n    },\n    \"links\": {\n      \"self\": {\n        \"href\": \"https://api.zotero.org/users/16026771/items/GB3AVERM\",\n        \"type\": \"application/json\"\n      },\n      \"alternate\": {\n        \"href\": \"https://www.zotero.org/zhihutangjiang/items/GB3AVERM\",\n        \"type\": \"text/html\"\n      },\n      \"attachment\": {\n        \"href\": \"https://api.zotero.org/users/16026771/items/9ZJK565I\",\n        \"type\": \"application/json\",\n        \"attachmentType\": \"application/pdf\",\n        \"attachmentSize\": 1987037\n      }\n    },\n   ...[截断]，共计271762字符，剩余270962字符"
        },
        "execution_time": 3.9412007331848145,
        "is_functional_test": false
      },
      {
        "case_name": "跨站脚本尝试",
        "purpose": "验证工具是否安全地处理潜在的XSS攻击向量",
        "args": {
          "query": "<script>alert('xss')</script>",
          "search_type": "title"
        },
        "response": {
          "result": "[\n  {\n    \"key\": \"GB3AVERM\",\n    \"version\": 612,\n    \"library\": {\n      \"type\": \"user\",\n      \"id\": 16026771,\n      \"name\": \"zhihutangjiang\",\n      \"links\": {\n        \"alternate\": {\n          \"href\": \"https://www.zotero.org/zhihutangjiang\",\n          \"type\": \"text/html\"\n        }\n      }\n    },\n    \"links\": {\n      \"self\": {\n        \"href\": \"https://api.zotero.org/users/16026771/items/GB3AVERM\",\n        \"type\": \"application/json\"\n      },\n      \"alternate\": {\n        \"href\": \"https://www.zotero.org/zhihutangjiang/items/GB3AVERM\",\n        \"type\": \"text/html\"\n      },\n      \"attachment\": {\n        \"href\": \"https://api.zotero.org/users/16026771/items/9ZJK565I\",\n        \"type\": \"application/json\",\n        \"attachmentType\": \"application/pdf\",\n        \"attachmentSize\": 1987037\n      }\n    },\n   ...[截断]，共计271762字符，剩余270962字符"
        },
        "execution_time": 2.368361711502075,
        "is_functional_test": false
      }
    ],
    "get_item_metadata": [
      {
        "case_name": "基本元数据获取",
        "purpose": "验证使用有效的item_key能否成功获取条目元数据",
        "args": {
          "item_key": "GB3AVERM"
        },
        "response": {
          "result": "{\n  \"key\": \"GB3AVERM\",\n  \"version\": 612,\n  \"library\": {\n    \"type\": \"user\",\n    \"id\": 16026771,\n    \"name\": \"zhihutangjiang\",\n    \"links\": {\n      \"alternate\": {\n        \"href\": \"https://www.zotero.org/zhihutangjiang\",\n        \"type\": \"text/html\"\n      }\n    }\n  },\n  \"links\": {\n    \"self\": {\n      \"href\": \"https://api.zotero.org/users/16026771/items/GB3AVERM\",\n      \"type\": \"application/json\"\n    },\n    \"alternate\": {\n      \"href\": \"https://www.zotero.org/zhihutangjiang/items/GB3AVERM\",\n      \"type\": \"text/html\"\n    },\n    \"attachment\": {\n      \"href\": \"https://api.zotero.org/users/16026771/items/9ZJK565I\",\n      \"type\": \"application/json\",\n      \"attachmentType\": \"application/pdf\",\n      \"attachmentSize\": 1987037\n    }\n  },\n  \"meta\": {\n    \"creatorSummary\": \"Ni et al.\",\n    \"parsedDate\": ...[截断]，共计3513字符，剩余2713字符"
        },
        "execution_time": 1.518205165863037,
        "is_functional_test": true
      },
      {
        "case_name": "无效item_key格式测试",
        "purpose": "验证当提供格式不正确的item_key时是否抛出ValueError",
        "args": {
          "item_key": "ABCD123"
        },
        "response": {
          "error": "ToolException: Error executing tool get_item_metadata: 获取条目元数据失败: 无效的item_key: 'ABCD123'。必须是8位字母数字组合。"
        },
        "execution_time": 0.016993284225463867,
        "is_functional_test": false
      },
      {
        "case_name": "超长item_key测试",
        "purpose": "验证当提供超过8位的item_key时是否正确处理",
        "args": {
          "item_key": "ABCD12345"
        },
        "response": {
          "error": "ToolException: Error executing tool get_item_metadata: 获取条目元数据失败: 无效的item_key: 'ABCD12345'。必须是8位字母数字组合。"
        },
        "execution_time": 0.005995035171508789,
        "is_functional_test": false
      },
      {
        "case_name": "空item_key测试",
        "purpose": "验证当提供空字符串作为item_key时是否抛出异常",
        "args": {
          "item_key": ""
        },
        "response": {
          "error": "ToolException: Error executing tool get_item_metadata: 获取条目元数据失败: 无效的item_key: ''。必须是8位字母数字组合。"
        },
        "execution_time": 0.008648872375488281,
        "is_functional_test": false
      },
      {
        "case_name": "特殊字符item_key测试",
        "purpose": "验证包含特殊字符的item_key是否被拒绝",
        "args": {
          "item_key": "ABCD12@!"
        },
        "response": {
          "error": "ToolException: Error executing tool get_item_metadata: 获取条目元数据失败: 无效的item_key: 'ABCD12@!'。必须是8位字母数字组合。"
        },
        "execution_time": 0.018004894256591797,
        "is_functional_test": false
      },
      {
        "case_name": "SQL注入尝试保护",
        "purpose": "验证工具是否安全地处理潜在的SQL注入攻击向量",
        "args": {
          "item_key": "'; DROP TABLE zotero_items; --"
        },
        "response": {
          "error": "ToolException: Error executing tool get_item_metadata: 获取条目元数据失败: 无效的item_key: ''; DROP TABLE zotero_items; --'。必须是8位字母数字组合。"
        },
        "execution_time": 0.007994651794433594,
        "is_functional_test": false
      },
      {
        "case_name": "跨站脚本尝试保护",
        "purpose": "验证工具是否安全地处理潜在的XSS攻击向量",
        "args": {
          "item_key": "<script>alert('xss')</script>"
        },
        "response": {
          "error": "ToolException: Error executing tool get_item_metadata: 获取条目元数据失败: 无效的item_key: '<script>alert('xss')</script>'。必须是8位字母数字组合。"
        },
        "execution_time": 0.008000850677490234,
        "is_functional_test": false
      },
      {
        "case_name": "无凭据访问测试",
        "purpose": "验证在未设置API凭据的情况下调用是否会抛出ValueError",
        "args": {
          "item_key": "ABCD1234"
        },
        "response": {
          "error": "ToolException: Error executing tool get_item_metadata: 获取条目元数据失败: \nCode: 404\nURL: https://api.zotero.org/users/16026771/items/ABCD1234?locale=en-US&format=json&limit=100\nMethod: GET\nResponse: Not found"
        },
        "execution_time": 0.3981940746307373,
        "is_functional_test": false
      },
      {
        "case_name": "不存在的item_key测试",
        "purpose": "验证请求一个不存在的item_key时是否会返回适当的错误信息",
        "args": {
          "item_key": "XYZ00000"
        },
        "response": {
          "error": "ToolException: Error executing tool get_item_metadata: 获取条目元数据失败: \nCode: 404\nURL: https://api.zotero.org/users/16026771/items/XYZ00000?locale=en-US&format=json&limit=100\nMethod: GET\nResponse: Not found"
        },
        "execution_time": 0.3760828971862793,
        "is_functional_test": true
      },
      {
        "case_name": "边界条件测试-最小长度item_key",
        "purpose": "验证刚好达到最小要求长度的item_key是否能正常工作",
        "args": {
          "item_key": "AA11BB22"
        },
        "response": {
          "error": "ToolException: Error executing tool get_item_metadata: 获取条目元数据失败: \nCode: 404\nURL: https://api.zotero.org/users/16026771/items/AA11BB22?locale=en-US&format=json&limit=100\nMethod: GET\nResponse: Not found"
        },
        "execution_time": 0.38869524002075195,
        "is_functional_test": true
      }
    ],
    "get_item_fulltext": [
      {
        "case_name": "基本功能测试-有效item_key",
        "purpose": "验证使用有效的8位字母数字item_key能否成功获取条目的全文内容",
        "args": {
          "item_key": "GB3AVERM"
        },
        "response": {
          "result": "{\n  \"status\": \"success\",\n  \"message\": \"成功获取全文内容\",\n  \"metadata\": {\n    \"key\": \"GB3AVERM\",\n    \"version\": 612,\n    \"library\": {\n      \"type\": \"user\",\n      \"id\": 16026771,\n      \"name\": \"zhihutangjiang\",\n      \"links\": {\n        \"alternate\": {\n          \"href\": \"https://www.zotero.org/zhihutangjiang\",\n          \"type\": \"text/html\"\n        }\n      }\n    },\n    \"links\": {\n      \"self\": {\n        \"href\": \"https://api.zotero.org/users/16026771/items/GB3AVERM\",\n        \"type\": \"application/json\"\n      },\n      \"alternate\": {\n        \"href\": \"https://www.zotero.org/zhihutangjiang/items/GB3AVERM\",\n        \"type\": \"text/html\"\n      },\n      \"attachment\": {\n        \"href\": \"https://api.zotero.org/users/16026771/items/9ZJK565I\",\n        \"type\": \"application/json\",\n        \"attachmentType\": \"applicatio...[截断]，共计100505字符，剩余99705字符"
        },
        "execution_time": 3.057189464569092,
        "is_functional_test": true
      },
      {
        "case_name": "无效item_key格式测试",
        "purpose": "验证当提供格式不正确的item_key时是否抛出ValueError",
        "args": {
          "item_key": "ABCD123"
        },
        "response": {
          "error": "ToolException: Error executing tool get_item_fulltext: 获取条目全文失败: 无效的item_key: 'ABCD123'。必须是8位字母数字组合。"
        },
        "execution_time": 0.0030007362365722656,
        "is_functional_test": false
      },
      {
        "case_name": "超长item_key测试",
        "purpose": "验证当提供超过8位的item_key时是否正确处理并抛出异常",
        "args": {
          "item_key": "ABCD12345"
        },
        "response": {
          "error": "ToolException: Error executing tool get_item_fulltext: 获取条目全文失败: 无效的item_key: 'ABCD12345'。必须是8位字母数字组合。"
        },
        "execution_time": 0.0029997825622558594,
        "is_functional_test": false
      },
      {
        "case_name": "空item_key测试",
        "purpose": "验证当提供空字符串作为item_key时是否抛出异常",
        "args": {
          "item_key": ""
        },
        "response": {
          "error": "ToolException: Error executing tool get_item_fulltext: 获取条目全文失败: 无效的item_key: ''。必须是8位字母数字组合。"
        },
        "execution_time": 0.0029997825622558594,
        "is_functional_test": false
      },
      {
        "case_name": "特殊字符item_key测试",
        "purpose": "验证包含特殊字符的item_key是否被拒绝",
        "args": {
          "item_key": "ABCD12@!"
        },
        "response": {
          "error": "ToolException: Error executing tool get_item_fulltext: 获取条目全文失败: 无效的item_key: 'ABCD12@!'。必须是8位字母数字组合。"
        },
        "execution_time": 0.003000020980834961,
        "is_functional_test": false
      },
      {
        "case_name": "SQL注入尝试保护",
        "purpose": "验证工具是否安全地处理潜在的SQL注入攻击向量",
        "args": {
          "item_key": "'; DROP TABLE zotero_items; --"
        },
        "response": {
          "error": "ToolException: Error executing tool get_item_fulltext: 获取条目全文失败: 无效的item_key: ''; DROP TABLE zotero_items; --'。必须是8位字母数字组合。"
        },
        "execution_time": 0.0019989013671875,
        "is_functional_test": false
      },
      {
        "case_name": "跨站脚本尝试保护",
        "purpose": "验证工具是否安全地处理潜在的XSS攻击向量",
        "args": {
          "item_key": "<script>alert('xss')</script>"
        },
        "response": {
          "error": "ToolException: Error executing tool get_item_fulltext: 获取条目全文失败: 无效的item_key: '<script>alert('xss')</script>'。必须是8位字母数字组合。"
        },
        "execution_time": 0.0029993057250976562,
        "is_functional_test": false
      },
      {
        "case_name": "无凭据访问测试",
        "purpose": "验证在未设置API凭据的情况下调用是否会抛出ValueError",
        "args": {
          "item_key": "ABCD1234"
        },
        "response": {
          "error": "ToolException: Error executing tool get_item_fulltext: 获取条目全文失败: \nCode: 404\nURL: https://api.zotero.org/users/16026771/items/ABCD1234?locale=en-US&format=json&limit=100\nMethod: GET\nResponse: Not found"
        },
        "execution_time": 0.37380242347717285,
        "is_functional_test": false
      },
      {
        "case_name": "不存在的item_key测试",
        "purpose": "验证请求一个不存在的item_key时是否会返回适当的错误信息",
        "args": {
          "item_key": "XYZ00000"
        },
        "response": {
          "error": "ToolException: Error executing tool get_item_fulltext: 获取条目全文失败: \nCode: 404\nURL: https://api.zotero.org/users/16026771/items/XYZ00000?locale=en-US&format=json&limit=100\nMethod: GET\nResponse: Not found"
        },
        "execution_time": 0.3694617748260498,
        "is_functional_test": true
      },
      {
        "case_name": "边界条件测试-最小长度item_key",
        "purpose": "验证刚好达到最小要求长度的item_key是否能正常工作",
        "args": {
          "item_key": "AA11BB22"
        },
        "response": {
          "error": "ToolException: Error executing tool get_item_fulltext: 获取条目全文失败: \nCode: 404\nURL: https://api.zotero.org/users/16026771/items/AA11BB22?locale=en-US&format=json&limit=100\nMethod: GET\nResponse: Not found"
        },
        "execution_time": 0.36806321144104004,
        "is_functional_test": true
      },
      {
        "case_name": "边界条件测试-最大长度item_key",
        "purpose": "验证刚好达到最大允许长度的item_key是否能正常工作",
        "args": {
          "item_key": "A1B2C3D4"
        },
        "response": {
          "error": "ToolException: Error executing tool get_item_fulltext: 获取条目全文失败: \nCode: 404\nURL: https://api.zotero.org/users/16026771/items/A1B2C3D4?locale=en-US&format=json&limit=100\nMethod: GET\nResponse: Not found"
        },
        "execution_time": 0.3708481788635254,
        "is_functional_test": true
      }
    ]
  },
  "total_cases": 33
}