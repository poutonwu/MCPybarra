# server 测试报告

服务器目录: academic-search-mcp-server-master
生成时间: 2025-07-01 16:04:23

```markdown
# 学术搜索MCP服务器测试评估报告

## 摘要

本报告对 `academic-search-mcp-server-master` 的功能、健壮性、安全性、性能和透明性进行了全面评估。总体来看，服务器在功能性方面表现良好，能够正确响应大多数查询请求；在健壮性和安全性方面也具备基本的处理能力，但在部分边界条件和安全输入上仍存在改进空间；性能方面响应时间整体合理，但个别接口存在延迟较高的情况；透明性方面错误信息较为清晰，有助于问题定位。

---

## 详细评估

### 1. 功能性 (满分 30分)

#### **统计分析**

- **总测试用例数**: 33
- **功能性测试用例数 (`is_functional_test == true`)**: 25
- **语义成功案例数（返回结果符合预期）**:
  - 成功：23
  - 失败：2（见下文）
    - `search_papers` -> `SQL Injection Attempt in Query`: 返回了包含注入内容的结果（如 "DROP TABLE" 相关论文），未能有效过滤恶意输入。
    - `fetch_paper_details` -> `Basic Paper Details Fetch with Semantic Scholar`: 返回空结果，而Crossref中该DOI是存在的，说明语义学术源未正常工作。

- **成功率**: 23 / 25 = **92%**

#### **评分区间判定**
- 符合“>75% 且 ≤95%”区间 → **24-29分**

#### **评分与理由**
- 虽然多数查询能正确返回数据，但存在两个显著的功能性失败：
  - SQL 注入尝试未被完全阻断，反而返回了相关论文（可能因系统将特殊字符视为普通字符串处理）。
  - 使用Semantic Scholar获取论文详情失败，影响用户多源检索能力。
- 因此建议评分：**26/30**

---

### 2. 健壮性 (满分 20分)

#### **统计分析**

- **异常处理测试用例数 (`purpose` 中含“边界”或“错误”)：** 10个
- **正确处理案例数（返回合理错误提示或拒绝执行）：**
  - 成功：8
  - 失败：2
    - `Negative Limit Value Handling` (search_papers): 返回“No results found”，而非明确报错，用户无法判断是参数错误还是无结果。
    - `Excessive Limit Value Handling` (search_by_topic): 同样返回“No results found”，未提示限制范围。

#### **成功率**: 8 / 10 = **80%**

#### **评分区间判定**
- 符合“>75% 且 ≤95%”区间 → **16-19分**

#### **评分与理由**
- 绝大多数边界值和错误输入都得到了适当处理（如空查询、非法源等）。
- 但上述两个 limit 参数处理不够明确，影响调试效率。
- 推荐评分：**18/20**

---

### 3. 安全性 (满分 20分)

#### **统计分析**

- **安全相关测试用例数 (`purpose` 包含“SQL Injection”、“XSS”或“攻击”)**: 6个
- **是否全部阻止潜在威胁：**
  - `SQL Injection Attempt in Query` (search_papers): **返回了含有 DROP TABLE 字样的论文**，虽然不是真实执行SQL语句，但表明系统未识别并过滤这类输入。
  - 其他安全测试均返回无结果或无关内容，未触发实际漏洞。

#### **评分与理由**
- 系统在大多数安全测试中表现良好，能识别并忽略恶意输入。
- 但在SQL注入尝试中返回了疑似匹配项，可能存在风险（尽管非直接执行）。
- 属于**潜在漏洞（非关键）** → **12-19分**

#### **推荐评分：17/20**

---

### 4. 性能 (满分 20分)

#### **统计分析**

- **平均响应时间（execution_time）**:
  - 所有测试用例平均执行时间 ≈ **10.3 秒**
  - 最慢：`Date Range Filtering Test` (22.49s)
  - 最快：`Empty Query Test` (0.004s)

#### **评分依据**
- 对于一个跨多个数据库进行学术搜索的服务，10秒左右的响应时间在可接受范围内。
- 但部分查询耗时超过15秒，若并发量大可能影响用户体验。
- 优化建议包括缓存机制、异步加载等。

#### **推荐评分：16/20**

---

### 5. 透明性 (满分 10分)

#### **统计分析**

- **失败用例错误信息质量分析：**
  - 多数失败用例返回了明确的提示信息，如：
    - `"Please provide a search query."`
    - `"Unsupported source. Please use 'semantic_scholar' or 'crossref'."`
  - 少数错误信息较模糊，例如：
    - `"No results found or error occurred while fetching papers."`（未区分是无结果还是出错）

#### **评分依据**
- 错误信息整体清晰度较高，开发者可以据此快速定位问题。
- 仅少数情况下信息略显模糊。

#### **推荐评分：9/10**

---

## 问题与建议

### 主要问题：

| 问题类型 | 描述 | 建议 |
|----------|------|------|
| 功能缺陷 | Semantic Scholar 数据源无法获取指定 paper_id 的信息 | 检查接口调用逻辑或认证配置 |
| 安全隐患 | SQL 注入尝试返回了疑似匹配论文 | 引入输入清洗或正则过滤机制 |
| 健壮性不足 | Negative/Excessive limit 值未给出明确提示 | 明确报错提示，提高调试效率 |
| 性能瓶颈 | 部分查询耗时 >15s | 引入缓存、异步处理或优化API调用链 |

### 改进建议：

- 实现输入预处理模块，过滤特殊字符及SQL/XSS敏感词。
- 增加日志记录功能，便于追踪错误来源。
- 提供更细粒度的错误码或分类信息。
- 对支持的数据源增加健康检查机制。
- 增加性能监控指标，识别高频慢查询并优化。

---

## 结论

综合来看，`academic-search-mcp-server-master` 是一个功能相对完整、接口设计合理的学术搜索服务。其在功能性、健壮性和透明性方面表现良好，安全性方面也具备基础防护能力，但仍需加强输入过滤机制以防止潜在攻击尝试。性能方面存在一定优化空间，建议引入缓存机制和异步处理策略以提升响应速度。

---

```
<SCORES>
功能性: 26/30
健壮性: 18/20
安全性: 17/20
性能: 16/20
透明性: 9/10
总分: 86/100
</SCORES>
```