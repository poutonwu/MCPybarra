{
  "server_name": "server",
  "parent_dir": "mcp_search_images-main",
  "report_name": "mcp_search_images-main-server",
  "server_path": "workspace\\public-mcp-servers\\mcp_search_images-main\\server.py",
  "timestamp": "2025-07-01T16:00:41.649431",
  "tools": [
    {
      "name": "search_images",
      "description": "搜索图片\n    \n    Args:\n        query: 图片搜索关键词\n        source: 图片来源 (unsplash, pexels, pixabay)\n        max_results: 最大返回结果数量，可以是字符串形式的数字\n        \n    Returns:\n        str: 包含搜索结果的JSON字符串\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "source": {
            "default": "unsplash",
            "title": "Source",
            "type": "string"
          },
          "max_results": {
            "default": "10",
            "title": "Max Results",
            "type": "string"
          }
        },
        "required": [
          "query"
        ],
        "title": "search_imagesArguments",
        "type": "object"
      }
    },
    {
      "name": "download_image",
      "description": "下载图片\n    \n    Args:\n        url: 图片URL\n        file_name: 保存的文件名\n        save_folder: 保存目录路径（必须是绝对路径，例如：/Users/username/projects/mcp_search_images/icons）\n        \n    Returns:\n        str: 包含下载结果的JSON字符串\n    ",
      "args_schema": {
        "properties": {
          "url": {
            "title": "Url",
            "type": "string"
          },
          "file_name": {
            "title": "File Name",
            "type": "string"
          },
          "save_folder": {
            "default": null,
            "title": "Save Folder",
            "type": "string"
          }
        },
        "required": [
          "url",
          "file_name"
        ],
        "title": "download_imageArguments",
        "type": "object"
      }
    },
    {
      "name": "generate_icon",
      "description": "生成图标\n    \n    Args:\n        prompt: 图标生成提示词\n        file_name: 保存的文件名\n        save_folder: 保存目录路径（必须是绝对路径，例如：/Users/username/projects/mcp_search_images/icons）\n        width: 生成图标的宽度(可选)\n        height: 生成图标的高度(可选)\n        \n    Returns:\n        str: 包含生成结果的JSON字符串\n    ",
      "args_schema": {
        "properties": {
          "prompt": {
            "title": "Prompt",
            "type": "string"
          },
          "file_name": {
            "title": "File Name",
            "type": "string"
          },
          "save_folder": {
            "default": null,
            "title": "Save Folder",
            "type": "string"
          },
          "width": {
            "default": null,
            "title": "Width",
            "type": "integer"
          },
          "height": {
            "default": null,
            "title": "Height",
            "type": "integer"
          }
        },
        "required": [
          "prompt",
          "file_name"
        ],
        "title": "generate_iconArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "search_images": [
      {
        "case_name": "Basic Image Search with Default Source",
        "purpose": "验证使用默认来源（unsplash）的基本图片搜索功能是否正常工作",
        "args": {
          "query": "nature"
        },
        "response": {
          "result": "{\"results\": [{\"id\": \"IicyiaPYGGI\", \"url\": \"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxuYXR1cmV8ZW58MHx8fHwxNzUxMjkxNDU4fDA&ixlib=rb-4.1.0&q=80&w=400\", \"thumb\": \"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxuYXR1cmV8ZW58MHx8fHwxNzUxMjkxNDU4fDA&ixlib=rb-4.1.0&q=80&w=200\", \"source\": \"unsplash\", \"author\": \"Henry Be\", \"download_url\": \"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxuYXR1cmV8ZW58MHx8fHwxNzUxMjkxNDU4fDA&ixlib=rb-4.1.0\"}, {\"id\": \"EwKXn5CapA4\", \"url\": \"https://images.unsplash.com/photo-1518495973542-4542c06a5843?crop=entropy&cs=tinysrgb&fit=max&fm=jpg...[截断]，共计6630字符，剩余5830字符"
        },
        "execution_time": 0.9224998950958252,
        "is_functional_test": true
      },
      {
        "case_name": "Image Search from Pexels with Max Results",
        "purpose": "验证从Pexels来源搜索图片并指定最大返回结果数量的功能",
        "args": {
          "query": "technology",
          "source": "pexels",
          "max_results": "5"
        },
        "response": {
          "result": "{\"results\": [{\"id\": 546819, \"url\": \"https://images.pexels.com/photos/546819/pexels-photo-546819.jpeg?auto=compress&cs=tinysrgb&h=350\", \"thumb\": \"https://images.pexels.com/photos/546819/pexels-photo-546819.jpeg?auto=compress&cs=tinysrgb&h=130\", \"source\": \"pexels\", \"author\": \"luis gomes\", \"download_url\": \"https://images.pexels.com/photos/546819/pexels-photo-546819.jpeg\"}, {\"id\": 356056, \"url\": \"https://images.pexels.com/photos/356056/pexels-photo-356056.jpeg?auto=compress&cs=tinysrgb&h=350\", \"thumb\": \"https://images.pexels.com/photos/356056/pexels-photo-356056.jpeg?auto=compress&cs=tinysrgb&h=130\", \"source\": \"pexels\", \"author\": \"Pixabay\", \"download_url\": \"https://images.pexels.com/photos/356056/pexels-photo-356056.jpeg\"}, {\"id\": 1148820, \"url\": \"https://images.pexels.com/photos/1148820/pexel...[截断]，共计1882字符，剩余1082字符"
        },
        "execution_time": 1.4669835567474365,
        "is_functional_test": true
      },
      {
        "case_name": "Image Search from Pixabay with String Max Results",
        "purpose": "验证从Pixabay来源搜索图片并以字符串形式提供max_results参数的功能",
        "args": {
          "query": "animals",
          "source": "pixabay",
          "max_results": "8"
        },
        "response": {
          "result": "{\"results\": [{\"id\": 2870777, \"url\": \"https://pixabay.com/get/g24462492ad40e2593e72f03a3d42e02b0f07213cf5680dcb8f3589de17d2cfa7644a6f0837b9a67272f68643340d083fb21fad92656fcde51894c2be99f476bc_640.jpg\", \"thumb\": \"https://cdn.pixabay.com/photo/2017/10/20/10/58/elephant-2870777_150.jpg\", \"source\": \"pixabay\", \"author\": \"Sponchia\", \"download_url\": \"https://pixabay.com/get/g2700339136f86e63f8d485ad8f54fbff3fd09c7b7a0f5d3abcdcaca9faaa0b9b22f7f485bd0f4c88b4f37bd72b734d9552bc734368bb747e868b96d64a9c0ad2_1280.jpg\"}, {\"id\": 1532627, \"url\": \"https://pixabay.com/get/g5cf108a71269fad9113434fb885b8f84316a27288b66a6884086ceea6b6ad02159a7a63ec88783bac6c04129f5eac731c96685d23ded2f1c01397926f8448083_640.png\", \"thumb\": \"https://cdn.pixabay.com/photo/2016/07/21/14/18/dog-1532627_150.png\", \"source\": \"pixabay\", \"...[截断]，共计3955字符，剩余3155字符"
        },
        "execution_time": 1.0517330169677734,
        "is_functional_test": true
      },
      {
        "case_name": "Search Without Query Parameter",
        "purpose": "验证缺少必填query参数时工具是否能正确处理错误",
        "args": {
          "source": "unsplash",
          "max_results": "10"
        },
        "response": {
          "error": "ToolException: Error executing tool search_images: 1 validation error for search_imagesArguments\nquery\n  Field required [type=missing, input_value={'source': 'unsplash', 'max_results': '10'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing"
        },
        "execution_time": 0.0040242671966552734,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Source Test",
        "purpose": "验证使用无效的图片来源参数时工具是否能优雅地处理错误",
        "args": {
          "query": "flowers",
          "source": "invalid_source",
          "max_results": "10"
        },
        "response": {
          "result": "{\"error\": \"\\u4e0d\\u652f\\u6301\\u7684\\u56fe\\u7247\\u6e90: invalid_source. \\u652f\\u6301\\u7684\\u9009\\u9879: unsplash, pexels, pixabay\"}"
        },
        "execution_time": 0.0050373077392578125,
        "is_functional_test": false
      },
      {
        "case_name": "Max Results Exceeding Limit",
        "purpose": "测试当max_results设置为超出允许范围的值时的行为",
        "args": {
          "query": "cars",
          "source": "unsplash",
          "max_results": "1000"
        },
        "response": {
          "result": "{\"results\": [{\"id\": \"m3m-lnR90uM\", \"url\": \"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxjYXJzfGVufDB8fHx8MTc1MTM1Njg4OHww&ixlib=rb-4.1.0&q=80&w=400\", \"thumb\": \"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxjYXJzfGVufDB8fHx8MTc1MTM1Njg4OHww&ixlib=rb-4.1.0&q=80&w=200\", \"source\": \"unsplash\", \"author\": \"Peter Broomfield\", \"download_url\": \"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxjYXJzfGVufDB8fHx8MTc1MTM1Njg4OHww&ixlib=rb-4.1.0\"}, {\"id\": \"eqW1MPinEV4\", \"url\": \"https://images.unsplash.com/photo-1583121274602-3e2820c69888?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&...[截断]，共计13103字符，剩余12303字符"
        },
        "execution_time": 1.0186212062835693,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters in Query",
        "purpose": "验证查询中包含特殊字符时工具能否正确处理",
        "args": {
          "query": "!@#$%^&*()_+{}[]|:\"<>?`~",
          "source": "pexels",
          "max_results": "5"
        },
        "response": {
          "result": "{\"results\": []}"
        },
        "execution_time": 1.102372169494629,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Query String",
        "purpose": "验证空查询字符串时工具的错误处理能力",
        "args": {
          "query": "",
          "source": "pixabay",
          "max_results": "10"
        },
        "response": {
          "result": "{\"results\": [{\"id\": 9686300, \"url\": \"https://pixabay.com/get/g1906986140427aac749309c9b98b4e837f8bb301a9c7399f78fcbd69530dd91b9933dfe0f68e1f0d0c01a0d927182f1f99b4cc3c80cf358d0adc3ac3f9ac8867_640.jpg\", \"thumb\": \"https://cdn.pixabay.com/photo/2025/06/29/07/57/australian-pelican-9686300_150.jpg\", \"source\": \"pixabay\", \"author\": \"pen_ash\", \"download_url\": \"https://pixabay.com/get/g81ab2d5af3b62be89af08a2a0d18fd5ba4d85ac02317637022861076ac01d43b630852c90212d71b74749202591cbbf65e8023693059b586c07c8a9fc419279d_1280.jpg\"}, {\"id\": 9681595, \"url\": \"https://pixabay.com/get/gd7cc49b9a5954655feebf603c59d5c310d66710a99cd28e6cfd3249a6ef05f9375bfada86ee0e7b333000dd14cfcfd849227f24d3e933f0423c406e09d516a4c_640.jpg\", \"thumb\": \"https://cdn.pixabay.com/photo/2025/06/26/09/53/australian-pelican-9681595_150.jpg\"...[截断]，共计5038字符，剩余4238字符"
        },
        "execution_time": 0.8872642517089844,
        "is_functional_test": false
      },
      {
        "case_name": "Long Query String Test",
        "purpose": "测试非常长的查询字符串是否被正确处理",
        "args": {
          "query": "a very long query string that tests the maximum allowed length for search queries in the image search tool",
          "source": "unsplash",
          "max_results": "10"
        },
        "response": {
          "result": "{\"results\": [{\"id\": \"P_5mirRrg0k\", \"url\": \"https://images.unsplash.com/photo-1743796055664-3473eedab36e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxhJTIwdmVyeSUyMGxvbmclMjBxdWVyeSUyMHN0cmluZyUyMHRoYXQlMjB0ZXN0cyUyMHRoZSUyMG1heGltdW0lMjBhbGxvd2VkJTIwbGVuZ3RoJTIwZm9yJTIwc2VhcmNoJTIwcXVlcmllcyUyMGluJTIwdGhlJTIwaW1hZ2UlMjBzZWFyY2glMjB0b29sfGVufDB8fHx8MTc1MTM1Njg5Mnww&ixlib=rb-4.1.0&q=80&w=400\", \"thumb\": \"https://images.unsplash.com/photo-1743796055664-3473eedab36e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxhJTIwdmVyeSUyMGxvbmclMjBxdWVyeSUyMHN0cmluZyUyMHRoYXQlMjB0ZXN0cyUyMHRoZSUyMG1heGltdW0lMjBhbGxvd2VkJTIwbGVuZ3RoJTIwZm9yJTIwc2VhcmNoJTIwcXVlcmllcyUyMGluJTIwdGhlJTIwaW1hZ2UlMjBzZWFyY2glMjB0b29sfGVufDB8fHx8MTc1MTM1Njg5Mnww&ixlib=rb-...[截断]，共计12092字符，剩余11292字符"
        },
        "execution_time": 1.567683219909668,
        "is_functional_test": true
      },
      {
        "case_name": "Security Test - Command Injection Attempt",
        "purpose": "验证工具是否安全处理可能的命令注入尝试",
        "args": {
          "query": "test; rm -rf /",
          "source": "pexels",
          "max_results": "5"
        },
        "response": {
          "result": "{\"results\": [{\"id\": 32736828, \"url\": \"https://images.pexels.com/photos/32736828/pexels-photo-32736828.jpeg?auto=compress&cs=tinysrgb&h=350\", \"thumb\": \"https://images.pexels.com/photos/32736828/pexels-photo-32736828.jpeg?auto=compress&cs=tinysrgb&h=130\", \"source\": \"pexels\", \"author\": \"JYOTI KUMARI\", \"download_url\": \"https://images.pexels.com/photos/32736828/pexels-photo-32736828.jpeg\"}, {\"id\": 32736830, \"url\": \"https://images.pexels.com/photos/32736830/pexels-photo-32736830.jpeg?auto=compress&cs=tinysrgb&h=350\", \"thumb\": \"https://images.pexels.com/photos/32736830/pexels-photo-32736830.jpeg?auto=compress&cs=tinysrgb&h=130\", \"source\": \"pexels\", \"author\": \"JYOTI KUMARI\", \"download_url\": \"https://images.pexels.com/photos/32736830/pexels-photo-32736830.jpeg\"}, {\"id\": 32745112, \"url\": \"https://im...[截断]，共计1943字符，剩余1143字符"
        },
        "execution_time": 1.2208304405212402,
        "is_functional_test": false
      },
      {
        "case_name": "Security Test - Path Traversal Attempt",
        "purpose": "验证工具是否安全处理路径穿越尝试",
        "args": {
          "query": "../../etc/passwd",
          "source": "pixabay",
          "max_results": "5"
        },
        "response": {
          "result": "{\"results\": []}"
        },
        "execution_time": 0.8550987243652344,
        "is_functional_test": false
      },
      {
        "case_name": "Zero Max Results",
        "purpose": "验证将max_results设为0时的行为",
        "args": {
          "query": "mountains",
          "source": "unsplash",
          "max_results": "0"
        },
        "response": {
          "result": "{\"results\": [{\"id\": \"pVATCBKLH8w\", \"url\": \"https://images.unsplash.com/photo-1494806812796-244fe51b774d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxtb3VudGFpbnN8ZW58MHx8fHwxNzUxMzU2ODk1fDA&ixlib=rb-4.1.0&q=80&w=400\", \"thumb\": \"https://images.unsplash.com/photo-1494806812796-244fe51b774d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxtb3VudGFpbnN8ZW58MHx8fHwxNzUxMzU2ODk1fDA&ixlib=rb-4.1.0&q=80&w=200\", \"source\": \"unsplash\", \"author\": \"Aleks Dahlberg\", \"download_url\": \"https://images.unsplash.com/photo-1494806812796-244fe51b774d?ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxtb3VudGFpbnN8ZW58MHx8fHwxNzUxMzU2ODk1fDA&ixlib=rb-4.1.0\"}, {\"id\": \"1527pjeb6jg\", \"url\": \"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?crop=entropy&cs=tinys...[截断]，共计6771字符，剩余5971字符"
        },
        "execution_time": 1.065457820892334,
        "is_functional_test": true
      }
    ],
    "download_image": [
      {
        "case_name": "Basic Image Download",
        "purpose": "验证基本图片下载功能是否正常工作",
        "args": {
          "url": "https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxuYXR1cmV8ZW58MHx8fHwxNzUxMjkxNDU4fDA&ixlib=rb-4.1.0&q=80&w=400",
          "file_name": "nature_image.jpg",
          "save_folder": "/Users/username/projects/mcp_search_images/icons"
        },
        "response": {
          "result": "{\"success\": true, \"message\": \"\\u56fe\\u7247\\u5df2\\u4fdd\\u5b58\\u5230: /Users/username/projects/mcp_search_images/icons\\\\nature_image.jpg\", \"file_path\": \"/Users/username/projects/mcp_search_images/icons\\\\nature_image.jpg\"}"
        },
        "execution_time": 0.8048503398895264,
        "is_functional_test": true
      },
      {
        "case_name": "Download with Missing Save Folder",
        "purpose": "验证未提供保存目录时工具的错误处理能力",
        "args": {
          "url": "https://images.pexels.com/photos/546819/pexels-photo-546819.jpeg?auto=compress&cs=tinysrgb&h=350",
          "file_name": "technology_image.jpg"
        },
        "response": {
          "result": "{\"success\": true, \"message\": \"\\u56fe\\u7247\\u5df2\\u4fdd\\u5b58\\u5230: D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\public-mcp-servers\\\\mcp_search_images-main\\\\icons\\\\technology_image.jpg\", \"file_path\": \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\public-mcp-servers\\\\mcp_search_images-main\\\\icons\\\\technology_image.jpg\"}"
        },
        "execution_time": 0.7497575283050537,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid URL Format",
        "purpose": "验证无效URL格式时工具的错误处理",
        "args": {
          "url": "invalid-url",
          "file_name": "test_image.jpg",
          "save_folder": "/Users/username/projects/mcp_search_images/icons"
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u4e0b\\u8f7d\\u56fe\\u7247\\u65f6\\u53d1\\u751f\\u9519\\u8bef: Invalid URL 'invalid-url': No scheme supplied. Perhaps you meant https://invalid-url?\"}"
        },
        "execution_time": 0.004508256912231445,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters in File Name",
        "purpose": "验证文件名包含特殊字符时的下载功能",
        "args": {
          "url": "https://images.unsplash.com/photo-1518495973542-4542c06a5843?ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxuYXR1cmV8ZW58MHx8fHwxNzUxMjkxNDU4fDA&ixlib=rb-4.1.0",
          "file_name": "image!@#$%^&*()_+.jpg",
          "save_folder": "/Users/username/projects/mcp_search_images/icons"
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u4e0b\\u8f7d\\u56fe\\u7247\\u65f6\\u53d1\\u751f\\u9519\\u8bef: [Errno 22] Invalid argument: '/Users/username/projects/mcp_search_images/icons\\\\\\\\image!@#$%^&*()_+.jpg'\"}"
        },
        "execution_time": 1.2347478866577148,
        "is_functional_test": true
      },
      {
        "case_name": "Nonexistent Directory",
        "purpose": "验证目标目录不存在时工具的错误处理",
        "args": {
          "url": "https://pixabay.com/get/g24462492ad40e2593e72f03a3d42e02b0f07213cf5680dcb8f3589de17d2cfa7644a6f0837b9a67272f68643340d083fb21fad92656fcde51894c2be99f476bc_640.jpg",
          "file_name": "animal_image.jpg",
          "save_folder": "/nonexistent/directory/path"
        },
        "response": {
          "result": "{\"success\": true, \"message\": \"\\u56fe\\u7247\\u5df2\\u4fdd\\u5b58\\u5230: /nonexistent/directory/path\\\\animal_image.jpg\", \"file_path\": \"/nonexistent/directory/path\\\\animal_image.jpg\"}"
        },
        "execution_time": 1.717120885848999,
        "is_functional_test": false
      },
      {
        "case_name": "Large Image Download",
        "purpose": "验证大尺寸图片的下载能力",
        "args": {
          "url": "https://images.unsplash.com/photo-1743796055664-3473eedab36e?ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxhJTIwdmVyeSUyMGxvbmclMjBxdWVyeSUyMHN0cmluZyUyMHRoYXQlMjB0ZXN0cyUyMHRoZSUyMG1heGltdW0lMjBhbGxvd2VkJTIwbGVuZ3RoJTIwZm9yJTIwc2VhcmNoJTIwcXVlcmllcyUyMGluJTIwdGhlJTIwaW1hZ2UlMjBzZWFyY2glMjB0b29sfGVufDB8fHx8MTc1MTM1Njg5Mnww&ixlib=rb-4.1.0",
          "file_name": "large_image.jpg",
          "save_folder": "/Users/username/projects/mcp_search_images/icons"
        },
        "response": {
          "result": "{\"success\": true, \"message\": \"\\u56fe\\u7247\\u5df2\\u4fdd\\u5b58\\u5230: /Users/username/projects/mcp_search_images/icons\\\\large_image.jpg\", \"file_path\": \"/Users/username/projects/mcp_search_images/icons\\\\large_image.jpg\"}"
        },
        "execution_time": 1.5746815204620361,
        "is_functional_test": true
      },
      {
        "case_name": "Security Test - Path Traversal Attempt",
        "purpose": "验证工具是否安全处理路径穿越尝试",
        "args": {
          "url": "https://images.unsplash.com/photo-1492144534655-ae79c964c9d7",
          "file_name": "../../etc/passwd",
          "save_folder": "/Users/username/projects/mcp_search_images/icons"
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u4e0b\\u8f7d\\u56fe\\u7247\\u65f6\\u53d1\\u751f\\u9519\\u8bef: [Errno 2] No such file or directory: '/Users/username/projects/mcp_search_images/icons\\\\\\\\../../etc/passwd.png'\"}"
        },
        "execution_time": 0.6840071678161621,
        "is_functional_test": false
      },
      {
        "case_name": "Zero Length File Name",
        "purpose": "验证空文件名参数的错误处理",
        "args": {
          "url": "https://images.pexels.com/photos/32736828/pexels-photo-32736828.jpeg",
          "file_name": "",
          "save_folder": "/Users/username/projects/mcp_search_images/icons"
        },
        "response": {
          "result": "{\"success\": true, \"message\": \"\\u56fe\\u7247\\u5df2\\u4fdd\\u5b58\\u5230: /Users/username/projects/mcp_search_images/icons\\\\.png\", \"file_path\": \"/Users/username/projects/mcp_search_images/icons\\\\.png\"}"
        },
        "execution_time": 1.9208765029907227,
        "is_functional_test": false
      },
      {
        "case_name": "Very Long File Name",
        "purpose": "测试非常长的文件名是否被正确处理",
        "args": {
          "url": "https://pixabay.com/get/g81ab2d5af3b62be89af08a2a0d18fd5ba4d85ac02317637022861076ac01d43b630852c90212d71b74749202591cbbf65e8023693059b586c07c8a9fc419279d_1280.jpg",
          "file_name": "this_is_an_extremely_long_file_name_that_tests_the_maximum_allowed_length_for_file_names_in_the_image_download_tool_and_should_still_work_properly_even_with_a_very_long_name.jpg",
          "save_folder": "/Users/username/projects/mcp_search_images/icons"
        },
        "response": {
          "result": "{\"success\": true, \"message\": \"\\u56fe\\u7247\\u5df2\\u4fdd\\u5b58\\u5230: /Users/username/projects/mcp_search_images/icons\\\\this_is_an_extremely_long_file_name_that_tests_the_maximum_allowed_length_for_file_names_in_the_image_download_tool_and_should_still_work_properly_even_with_a_very_long_name.jpg\", \"file_path\": \"/Users/username/projects/mcp_search_images/icons\\\\this_is_an_extremely_long_file_name_that_tests_the_maximum_allowed_length_for_file_names_in_the_image_download_tool_and_should_still_work_properly_even_with_a_very_long_name.jpg\"}"
        },
        "execution_time": 1.2315559387207031,
        "is_functional_test": true
      },
      {
        "case_name": "Security Test - Command Injection Attempt",
        "purpose": "验证工具是否安全处理可能的命令注入尝试",
        "args": {
          "url": "https://images.unsplash.com/photo-1494806812796-244fe51b774d",
          "file_name": "test_image; rm -rf /",
          "save_folder": "/Users/username/projects/mcp_search_images/icons"
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u4e0b\\u8f7d\\u56fe\\u7247\\u65f6\\u53d1\\u751f\\u9519\\u8bef: [Errno 2] No such file or directory: '/Users/username/projects/mcp_search_images/icons\\\\\\\\test_image; rm -rf /.png'\"}"
        },
        "execution_time": 0.7763473987579346,
        "is_functional_test": false
      }
    ],
    "generate_icon": [
      {
        "case_name": "Basic Icon Generation",
        "purpose": "验证使用基本提示词生成图标的正常功能",
        "args": {
          "prompt": "settings",
          "file_name": "settings_icon.png",
          "save_folder": "/Users/username/projects/mcp_search_images/icons"
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u751f\\u6210\\u56fe\\u6807\\u65f6\\u53d1\\u751f\\u9519\\u8bef: 'latin-1' codec can't encode characters in position 7-8: ordinal not in range(256)\"}"
        },
        "execution_time": 0.964623212814331,
        "is_functional_test": true
      },
      {
        "case_name": "Icon Generation with Custom Dimensions",
        "purpose": "验证指定自定义宽度和高度的图标生成功能",
        "args": {
          "prompt": "user profile",
          "file_name": "profile_icon.png",
          "save_folder": "/Users/username/projects/mcp_search_images/icons",
          "width": 128,
          "height": 128
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u751f\\u6210\\u56fe\\u6807\\u65f6\\u53d1\\u751f\\u9519\\u8bef: 'latin-1' codec can't encode characters in position 7-8: ordinal not in range(256)\"}"
        },
        "execution_time": 0.3984229564666748,
        "is_functional_test": true
      },
      {
        "case_name": "Icon Generation Without Height Parameter",
        "purpose": "验证仅提供宽度参数时是否仍能成功生成图标",
        "args": {
          "prompt": "notification bell",
          "file_name": "notification_icon.png",
          "save_folder": "/Users/username/projects/mcp_search_images/icons",
          "width": 64
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u751f\\u6210\\u56fe\\u6807\\u65f6\\u53d1\\u751f\\u9519\\u8bef: 'latin-1' codec can't encode characters in position 7-8: ordinal not in range(256)\"}"
        },
        "execution_time": 0.41910219192504883,
        "is_functional_test": true
      },
      {
        "case_name": "Icon Generation Without Width Parameter",
        "purpose": "验证仅提供高度参数时是否仍能成功生成图标",
        "args": {
          "prompt": "email envelope",
          "file_name": "email_icon.png",
          "save_folder": "/Users/username/projects/mcp_search_images/icons",
          "height": 64
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u751f\\u6210\\u56fe\\u6807\\u65f6\\u53d1\\u751f\\u9519\\u8bef: 'latin-1' codec can't encode characters in position 7-8: ordinal not in range(256)\"}"
        },
        "execution_time": 0.5056309700012207,
        "is_functional_test": true
      },
      {
        "case_name": "Missing Required Prompt Parameter",
        "purpose": "验证缺少必填prompt参数时工具是否正确处理错误",
        "args": {
          "file_name": "missing_prompt_icon.png",
          "save_folder": "/Users/username/projects/mcp_search_images/icons"
        },
        "response": {
          "error": "ToolException: Error executing tool generate_icon: 1 validation error for generate_iconArguments\nprompt\n  Field required [type=missing, input_value={'file_name': 'missing_pr...cp_search_images/icons'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing"
        },
        "execution_time": 0.00878000259399414,
        "is_functional_test": false
      },
      {
        "case_name": "Missing Required File Name Parameter",
        "purpose": "验证缺少必填file_name参数时工具是否正确处理错误",
        "args": {
          "prompt": "document file icon",
          "save_folder": "/Users/username/projects/mcp_search_images/icons"
        },
        "response": {
          "error": "ToolException: Error executing tool generate_icon: 1 validation error for generate_iconArguments\nfile_name\n  Field required [type=missing, input_value={'prompt': 'document file...cp_search_images/icons'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing"
        },
        "execution_time": 0.012264251708984375,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Save Folder Path",
        "purpose": "验证无效保存路径时工具是否能优雅地处理错误",
        "args": {
          "prompt": "folder icon",
          "file_name": "folder_icon.png",
          "save_folder": "/invalid/path/to/folder"
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u751f\\u6210\\u56fe\\u6807\\u65f6\\u53d1\\u751f\\u9519\\u8bef: 'latin-1' codec can't encode characters in position 7-8: ordinal not in range(256)\"}"
        },
        "execution_time": 0.46752166748046875,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters in Prompt",
        "purpose": "验证包含特殊字符的提示词是否被正确处理",
        "args": {
          "prompt": "!@#$%^&*()_+{}[]|:\"<>?`~",
          "file_name": "special_prompt_icon.png",
          "save_folder": "/Users/username/projects/mcp_search_images/icons"
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u751f\\u6210\\u56fe\\u6807\\u65f6\\u53d1\\u751f\\u9519\\u8bef: 'latin-1' codec can't encode characters in position 7-8: ordinal not in range(256)\"}"
        },
        "execution_time": 0.5009016990661621,
        "is_functional_test": true
      },
      {
        "case_name": "Long Prompt String",
        "purpose": "验证非常长的提示词是否被正确处理",
        "args": {
          "prompt": "a very long prompt string that tests the maximum allowed length for icon generation prompts and ensures that the system can handle lengthy descriptions without errors",
          "file_name": "long_prompt_icon.png",
          "save_folder": "/Users/username/projects/mcp_search_images/icons"
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u751f\\u6210\\u56fe\\u6807\\u65f6\\u53d1\\u751f\\u9519\\u8bef: 'latin-1' codec can't encode characters in position 7-8: ordinal not in range(256)\"}"
        },
        "execution_time": 0.42876553535461426,
        "is_functional_test": true
      },
      {
        "case_name": "Zero Dimension Values",
        "purpose": "验证将宽度和高度设为0时的行为",
        "args": {
          "prompt": "empty space icon",
          "file_name": "zero_dim_icon.png",
          "save_folder": "/Users/username/projects/mcp_search_images/icons",
          "width": 0,
          "height": 0
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u751f\\u6210\\u56fe\\u6807\\u65f6\\u53d1\\u751f\\u9519\\u8bef: 'latin-1' codec can't encode characters in position 7-8: ordinal not in range(256)\"}"
        },
        "execution_time": 0.44942307472229004,
        "is_functional_test": true
      },
      {
        "case_name": "Negative Dimension Values",
        "purpose": "验证负数尺寸值是否被正确处理",
        "args": {
          "prompt": "negative dimensions icon",
          "file_name": "negative_dim_icon.png",
          "save_folder": "/Users/username/projects/mcp_search_images/icons",
          "width": -32,
          "height": -32
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u751f\\u6210\\u56fe\\u6807\\u65f6\\u53d1\\u751f\\u9519\\u8bef: 'latin-1' codec can't encode characters in position 7-8: ordinal not in range(256)\"}"
        },
        "execution_time": 0.44286680221557617,
        "is_functional_test": false
      },
      {
        "case_name": "Security Test - Command Injection Attempt",
        "purpose": "验证工具是否安全处理可能的命令注入尝试",
        "args": {
          "prompt": "test icon; rm -rf /",
          "file_name": "command_injection_icon.png",
          "save_folder": "/Users/username/projects/mcp_search_images/icons"
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u751f\\u6210\\u56fe\\u6807\\u65f6\\u53d1\\u751f\\u9519\\u8bef: 'latin-1' codec can't encode characters in position 7-8: ordinal not in range(256)\"}"
        },
        "execution_time": 0.40770506858825684,
        "is_functional_test": false
      },
      {
        "case_name": "Security Test - Path Traversal Attempt",
        "purpose": "验证工具是否安全处理路径穿越尝试",
        "args": {
          "prompt": "path traversal icon",
          "file_name": "../../etc/passwd_icon.png",
          "save_folder": "/Users/username/projects/mcp_search_images/icons"
        },
        "response": {
          "result": "{\"success\": false, \"error\": \"\\u751f\\u6210\\u56fe\\u6807\\u65f6\\u53d1\\u751f\\u9519\\u8bef: 'latin-1' codec can't encode characters in position 7-8: ordinal not in range(256)\"}"
        },
        "execution_time": 0.44163036346435547,
        "is_functional_test": false
      }
    ]
  },
  "total_cases": 35
}