{
  "server_name": "server",
  "parent_dir": "refined",
  "report_name": "deepseek-v3-mcp_image_format_converter",
  "server_path": "workspace/pipeline-output-servers/deepseek-v3/mcp_image_format_converter/refined/server.py",
  "timestamp": "2025-07-16T09:56:21.898264",
  "tools": [
    {
      "name": "convert_image",
      "description": "\n    Converts an image file from one format to another, handling transparency and color space conversion.\n    \n    Args:\n        source_path (str): Path to the source image file.\n        target_format (str): Desired output format (e.g., \"PNG\", \"JPEG\", \"BMP\", \"GIF\").\n        output_dir (str): Directory where the converted image will be saved.\n        preserve_alpha (bool, optional): Whether to preserve transparency (default: True).\n        quality (int, optional): Compression quality for lossy formats like JPEG (default: 95).\n    \n    Returns:\n        dict: Contains the following keys:\n            - status (str): \"success\" or \"error\".\n            - message (str): Detailed status or error message.\n            - output_path (str): Path to the converted image file (only on success).\n    \n    Raises:\n        ValueError: For invalid input paths or unsupported formats.\n    ",
      "args_schema": {
        "properties": {
          "source_path": {
            "title": "Source Path",
            "type": "string"
          },
          "target_format": {
            "title": "Target Format",
            "type": "string"
          },
          "output_dir": {
            "title": "Output Dir",
            "type": "string"
          },
          "preserve_alpha": {
            "default": true,
            "title": "Preserve Alpha",
            "type": "boolean"
          },
          "quality": {
            "default": 95,
            "title": "Quality",
            "type": "integer"
          }
        },
        "required": [
          "source_path",
          "target_format",
          "output_dir"
        ],
        "title": "convert_imageArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "convert_image": [
      {
        "case_name": "Basic Image Conversion PNG to JPEG",
        "purpose": "验证基本图像转换功能，将PNG文件转换为JPEG格式并保留默认参数设置。",
        "args": {
          "source_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\20250507-151716.png",
          "target_format": "JPEG",
          "output_dir": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\output"
        },
        "response": {
          "result": "{\n  \"status\": \"success\",\n  \"message\": \"Image converted successfully\",\n  \"output_path\": \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\output\\\\20250507-151716.jpeg\"\n}"
        },
        "execution_time": 0.021865129470825195,
        "is_functional_test": true
      },
      {
        "case_name": "Image Conversion with Transparency Preservation",
        "purpose": "测试在转换过程中是否正确保留透明度通道（alpha通道）",
        "args": {
          "source_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\hit.png",
          "target_format": "PNG",
          "output_dir": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\output",
          "preserve_alpha": true
        },
        "response": {
          "result": "{\n  \"status\": \"success\",\n  \"message\": \"Image converted successfully\",\n  \"output_path\": \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\output\\\\hit.png\"\n}"
        },
        "execution_time": 0.015810728073120117,
        "is_functional_test": true
      },
      {
        "case_name": "Lossy Compression Quality Test for JPEG",
        "purpose": "验证JPEG输出的压缩质量参数是否生效",
        "args": {
          "source_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\xue.jpg",
          "target_format": "JPEG",
          "output_dir": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\output",
          "quality": 70
        },
        "response": {
          "result": "{\n  \"status\": \"success\",\n  \"message\": \"Image converted successfully\",\n  \"output_path\": \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\output\\\\xue.jpeg\"\n}"
        },
        "execution_time": 0.12151932716369629,
        "is_functional_test": true
      },
      {
        "case_name": "Convert BMP to GIF Format",
        "purpose": "验证工具支持BMP到GIF的转换流程",
        "args": {
          "source_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\app.ico",
          "target_format": "GIF",
          "output_dir": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\output"
        },
        "response": {
          "result": "{\n  \"status\": \"success\",\n  \"message\": \"Image converted successfully\",\n  \"output_path\": \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\output\\\\app.gif\"\n}"
        },
        "execution_time": 0.04186677932739258,
        "is_functional_test": true
      },
      {
        "case_name": "Invalid Source File Path",
        "purpose": "验证当源路径不存在时是否返回正确的错误信息",
        "args": {
          "source_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_image.png",
          "target_format": "PNG",
          "output_dir": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\output"
        },
        "response": {
          "result": "{\n  \"status\": \"error\",\n  \"message\": \"Source file does not exist: D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\nonexistent_image.png\",\n  \"output_path\": null\n}"
        },
        "execution_time": 0.0039980411529541016,
        "is_functional_test": false
      },
      {
        "case_name": "Unsupported Target Format",
        "purpose": "验证不支持的目标格式是否被正确拒绝",
        "args": {
          "source_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\20250507-151716.png",
          "target_format": "WEBP",
          "output_dir": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\output"
        },
        "response": {
          "result": "{\n  \"status\": \"error\",\n  \"message\": \"Unsupported target format: WEBP. Supported formats: ['PNG', 'JPEG', 'BMP', 'GIF']\",\n  \"output_path\": null\n}"
        },
        "execution_time": 0.007163524627685547,
        "is_functional_test": false
      },
      {
        "case_name": "Write Protected Output Directory",
        "purpose": "测试写保护目录下是否能正确处理权限错误",
        "args": {
          "source_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\xue.jpg",
          "target_format": "BMP",
          "output_dir": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\readonly_dir"
        },
        "response": {
          "result": "{\n  \"status\": \"success\",\n  \"message\": \"Image converted successfully\",\n  \"output_path\": \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\readonly_dir\\\\xue.bmp\"\n}"
        },
        "execution_time": 0.1475679874420166,
        "is_functional_test": false
      },
      {
        "case_name": "High Quality JPEG Conversion",
        "purpose": "测试最大质量值（95）是否能正常工作",
        "args": {
          "source_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\xue.jpg",
          "target_format": "JPEG",
          "output_dir": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\output",
          "quality": 95
        },
        "response": {
          "result": "{\n  \"status\": \"success\",\n  \"message\": \"Image converted successfully\",\n  \"output_path\": \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\output\\\\xue.jpeg\"\n}"
        },
        "execution_time": 0.12109661102294922,
        "is_functional_test": true
      }
    ]
  },
  "total_cases": 8
}