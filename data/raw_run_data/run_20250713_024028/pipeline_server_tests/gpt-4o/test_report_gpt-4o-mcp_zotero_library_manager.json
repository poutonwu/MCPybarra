{
  "server_name": "server",
  "parent_dir": "refined",
  "report_name": "gpt-4o-mcp_zotero_library_manager",
  "server_path": "workspace/pipeline-output-servers/gpt-4o/mcp_zotero_library_manager/refined/server.py",
  "timestamp": "2025-07-13T02:46:18.715484",
  "tools": [
    {
      "name": "get_item_metadata",
      "description": "\n    Fetch detailed metadata of a Zotero item using its unique item key.\n\n    Args:\n        item_key (str): The unique key identifying the Zotero item.\n            Example: \"ABC123XYZ\"\n\n    Returns:\n        str: A JSON string containing item metadata, such as title, creators, publication year, and other bibliographic details.\n            Example:\n            {\n                \"title\": \"Sample Title\",\n                \"creators\": [\"John Doe\", \"Jane Smith\"],\n                \"year\": 2023,\n                \"publisher\": \"Sample Publisher\",\n                \"DOI\": \"10.1234/sample.doi\"\n            }\n\n    Raises:\n        ValueError: If the item key is invalid.\n        Exception: If the Zotero API call fails.\n    ",
      "args_schema": {
        "properties": {
          "item_key": {
            "title": "Item Key",
            "type": "string"
          }
        },
        "required": [
          "item_key"
        ],
        "title": "get_item_metadataArguments",
        "type": "object"
      }
    },
    {
      "name": "get_item_fulltext",
      "description": "\n    Extract the full text content of a Zotero item. If the item contains a PDF, extract text from the PDF file.\n\n    Args:\n        item_key (str): The unique key identifying the Zotero item.\n            Example: \"ABC123XYZ\"\n\n    Returns:\n        str: A string containing the extracted full text content of the item.\n            Example: \"This is the extracted full text content of the PDF associated with the Zotero item.\"\n\n    Raises:\n        ValueError: If the item key is invalid or no PDF attachment is found.\n        Exception: If the Zotero API call or PDF extraction fails.\n    ",
      "args_schema": {
        "properties": {
          "item_key": {
            "title": "Item Key",
            "type": "string"
          }
        },
        "required": [
          "item_key"
        ],
        "title": "get_item_fulltextArguments",
        "type": "object"
      }
    },
    {
      "name": "search_items",
      "description": "\n    Search the Zotero library based on specified criteria and return a list of formatted search results.\n\n    Args:\n        title (str, optional): Search by title.\n            Example: \"Sample Title\"\n        creators (str, optional): Search by creators.\n            Example: \"John Doe\"\n        year (int, optional): Search by publication year.\n            Example: 2023\n        fulltext (str, optional): Perform a full-text search.\n            Example: \"Keyword\"\n\n    Returns:\n        str: A JSON string containing a list of dictionaries, each containing metadata for a matching item.\n            Example:\n            [\n                {\n                    \"title\": \"Sample Title\",\n                    \"creators\": [\"John Doe\", \"Jane Smith\"],\n                    \"year\": 2023,\n                    \"DOI\": \"10.1234/sample.doi\"\n                },\n                {\n                    \"title\": \"Another Title\",\n                    \"creators\": [\"Alice Johnson\"],\n                    \"year\": 2022,\n                    \"DOI\": \"10.5678/another.doi\"\n                }\n            ]\n\n    Raises:\n        Exception: If the Zotero API call fails.\n    ",
      "args_schema": {
        "properties": {
          "title": {
            "default": null,
            "title": "Title",
            "type": "string"
          },
          "creators": {
            "default": null,
            "title": "Creators",
            "type": "string"
          },
          "year": {
            "default": null,
            "title": "Year",
            "type": "integer"
          },
          "fulltext": {
            "default": null,
            "title": "Fulltext",
            "type": "string"
          }
        },
        "title": "search_itemsArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "search_items": [
      {
        "case_name": "Basic Title Search",
        "purpose": "验证工具能通过标题进行基本搜索",
        "args": {
          "title": "Sample Title"
        },
        "response": {
          "result": "{\"status\": \"success\", \"data\": []}"
        },
        "execution_time": 2.3164138793945312,
        "is_functional_test": true
      },
      {
        "case_name": "Search By Creator",
        "purpose": "验证工具能通过作者进行搜索",
        "args": {
          "creators": "John Doe"
        },
        "response": {
          "result": "{\"status\": \"success\", \"data\": []}"
        },
        "execution_time": 0.729825496673584,
        "is_functional_test": true
      },
      {
        "case_name": "Search By Year",
        "purpose": "验证工具能通过出版年份进行搜索",
        "args": {
          "year": 2023
        },
        "response": {
          "result": "{\"status\": \"success\", \"data\": []}"
        },
        "execution_time": 0.6943480968475342,
        "is_functional_test": true
      },
      {
        "case_name": "Fulltext Search",
        "purpose": "验证工具能执行全文本关键词搜索",
        "args": {
          "fulltext": "Keyword"
        },
        "response": {
          "result": "{\"status\": \"success\", \"data\": [{\"title\": \"CODESIM: Multi-Agent Code Generation and Problem Solving through Simulation-Driven Planning and Debugging\", \"creators\": [\"Islam\", \"Ali\", \"Parvez\"], \"year\": \"2025-02-08\", \"DOI\": \"10.48550/arXiv.2502.05664\"}, {\"title\": \"Self-Organized Agents: A LLM Multi-Agent Framework toward Ultra Large-Scale Code Generation and Optimization\", \"creators\": [\"Ishibashi\", \"Nishimura\"], \"year\": \"2024-04-02\", \"DOI\": \"10.48550/arXiv.2404.02183\"}, {\"title\": \"SWE-bench: Can Language Models Resolve Real-World GitHub Issues?\", \"creators\": [\"Jimenez\", \"Yang\", \"Wettig\", \"Yao\", \"Pei\", \"Press\", \"Narasimhan\"], \"year\": \"2024-11-11\", \"DOI\": \"10.48550/arXiv.2310.06770\"}, {\"title\": \"CodeAgent: Autonomous Communicative Agents for Code Review\", \"creators\": [\"Tang\", \"Kim\", \"Song\", \"Lothritz\", \"Li\", \"Ezzini\", \"Tian\", \"Klein\", \"Bissyande\"], \"year\": \"2024-09-24\", \"DOI\": \"10.48550/arXiv.2402.02172\"}, {\"title\": \"SOTOPIA: Interactive Evaluation for Social Intelligence in Language Agents\", \"creators\": [\"Zhou\", \"Zhu\", \"Mathur\", \"Zhang\", \"Yu\", \"Qi\", \"Morency\", \"Bisk\", \"Fried\", \"Neubig\", \"Sap\"], \"year\": \"2024-03-22\", \"DOI\": \"10.48550/arXiv.2310.11667\"}, {\"title\": \"MetaGPT: Meta Programming for A Multi-Agent Collaborative Framework\", \"creators\": [\"Hong\", \"Zhuge\", \"Chen\", \"Zheng\", \"Cheng\", \"Zhang\", \"Wang\", \"Wang\", \"Yau\", \"Lin\", \"Zhou\", \"Ran\", \"Xiao\", \"Wu\", \"Schmidhuber\"], \"year\": \"2024-11-01\", \"DOI\": \"10.48550/arXiv.2308.00352\"}, {\"title\": \"Agent Laboratory: Using LLM Agents as Resear...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计2387字符，剩余887字符"
        },
        "execution_time": 0.9645938873291016,
        "is_functional_test": true
      },
      {
        "case_name": "Combined Search With Title And Year",
        "purpose": "验证工具支持组合条件搜索（标题+年份）",
        "args": {
          "title": "Another Title",
          "year": 2022
        },
        "response": {
          "result": "{\"status\": \"success\", \"data\": []}"
        },
        "execution_time": 1.014146089553833,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Search Returns Empty Result",
        "purpose": "验证无参数输入时返回空结果",
        "args": {},
        "response": {
          "result": "{\"status\": \"success\", \"data\": [{\"title\": \"CODESIM: Multi-Agent Code Generation and Problem Solving through Simulation-Driven Planning and Debugging\", \"creators\": [\"Islam\", \"Ali\", \"Parvez\"], \"year\": \"2025-02-08\", \"DOI\": \"10.48550/arXiv.2502.05664\"}, {\"title\": \"Self-Organized Agents: A LLM Multi-Agent Framework toward Ultra Large-Scale Code Generation and Optimization\", \"creators\": [\"Ishibashi\", \"Nishimura\"], \"year\": \"2024-04-02\", \"DOI\": \"10.48550/arXiv.2404.02183\"}, {\"title\": \"SWE-bench: Can Language Models Resolve Real-World GitHub Issues?\", \"creators\": [\"Jimenez\", \"Yang\", \"Wettig\", \"Yao\", \"Pei\", \"Press\", \"Narasimhan\"], \"year\": \"2024-11-11\", \"DOI\": \"10.48550/arXiv.2310.06770\"}, {\"title\": \"CodeAgent: Autonomous Communicative Agents for Code Review\", \"creators\": [\"Tang\", \"Kim\", \"Song\", \"Lothritz\", \"Li\", \"Ezzini\", \"Tian\", \"Klein\", \"Bissyande\"], \"year\": \"2024-09-24\", \"DOI\": \"10.48550/arXiv.2402.02172\"}, {\"title\": \"SOTOPIA: Interactive Evaluation for Social Intelligence in Language Agents\", \"creators\": [\"Zhou\", \"Zhu\", \"Mathur\", \"Zhang\", \"Yu\", \"Qi\", \"Morency\", \"Bisk\", \"Fried\", \"Neubig\", \"Sap\"], \"year\": \"2024-03-22\", \"DOI\": \"10.48550/arXiv.2310.11667\"}, {\"title\": \"MetaGPT: Meta Programming for A Multi-Agent Collaborative Framework\", \"creators\": [\"Hong\", \"Zhuge\", \"Chen\", \"Zheng\", \"Cheng\", \"Zhang\", \"Wang\", \"Wang\", \"Yau\", \"Lin\", \"Zhou\", \"Ran\", \"Xiao\", \"Wu\", \"Schmidhuber\"], \"year\": \"2024-11-01\", \"DOI\": \"10.48550/arXiv.2308.00352\"}, {\"title\": \"Agent Laboratory: Using LLM Agents as Resear...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计2387字符，剩余887字符"
        },
        "execution_time": 0.7540450096130371,
        "is_functional_test": true
      },
      {
        "case_name": "Special Characters In Fulltext Search",
        "purpose": "验证工具能够处理包含特殊字符的全文本搜索",
        "args": {
          "fulltext": "@#$.!"
        },
        "response": {
          "result": "{\"status\": \"success\", \"data\": [{\"title\": \"CODESIM: Multi-Agent Code Generation and Problem Solving through Simulation-Driven Planning and Debugging\", \"creators\": [\"Islam\", \"Ali\", \"Parvez\"], \"year\": \"2025-02-08\", \"DOI\": \"10.48550/arXiv.2502.05664\"}, {\"title\": \"Self-Organized Agents: A LLM Multi-Agent Framework toward Ultra Large-Scale Code Generation and Optimization\", \"creators\": [\"Ishibashi\", \"Nishimura\"], \"year\": \"2024-04-02\", \"DOI\": \"10.48550/arXiv.2404.02183\"}, {\"title\": \"SWE-bench: Can Language Models Resolve Real-World GitHub Issues?\", \"creators\": [\"Jimenez\", \"Yang\", \"Wettig\", \"Yao\", \"Pei\", \"Press\", \"Narasimhan\"], \"year\": \"2024-11-11\", \"DOI\": \"10.48550/arXiv.2310.06770\"}, {\"title\": \"CodeAgent: Autonomous Communicative Agents for Code Review\", \"creators\": [\"Tang\", \"Kim\", \"Song\", \"Lothritz\", \"Li\", \"Ezzini\", \"Tian\", \"Klein\", \"Bissyande\"], \"year\": \"2024-09-24\", \"DOI\": \"10.48550/arXiv.2402.02172\"}, {\"title\": \"SOTOPIA: Interactive Evaluation for Social Intelligence in Language Agents\", \"creators\": [\"Zhou\", \"Zhu\", \"Mathur\", \"Zhang\", \"Yu\", \"Qi\", \"Morency\", \"Bisk\", \"Fried\", \"Neubig\", \"Sap\"], \"year\": \"2024-03-22\", \"DOI\": \"10.48550/arXiv.2310.11667\"}, {\"title\": \"MetaGPT: Meta Programming for A Multi-Agent Collaborative Framework\", \"creators\": [\"Hong\", \"Zhuge\", \"Chen\", \"Zheng\", \"Cheng\", \"Zhang\", \"Wang\", \"Wang\", \"Yau\", \"Lin\", \"Zhou\", \"Ran\", \"Xiao\", \"Wu\", \"Schmidhuber\"], \"year\": \"2024-11-01\", \"DOI\": \"10.48550/arXiv.2308.00352\"}, {\"title\": \"Agent Laboratory: Using LLM Agents as Resear...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计2387字符，剩余887字符"
        },
        "execution_time": 0.9295601844787598,
        "is_functional_test": true
      },
      {
        "case_name": "Invalid Year Input Handling",
        "purpose": "验证工具对无效年份参数的处理",
        "args": {
          "year": -1
        },
        "response": {
          "result": "{\"status\": \"success\", \"data\": []}"
        },
        "execution_time": 0.9788591861724854,
        "is_functional_test": false
      }
    ],
    "get_item_metadata": [
      {
        "case_name": "Fetch Metadata With Valid Item Key",
        "purpose": "验证使用有效的item_key能够成功获取Zotero条目的详细元数据",
        "args": {
          "item_key": "ABC123XYZ"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"Invalid item key format: 'ABC123XYZ'. Must be 8 uppercase letters or numbers.\"}"
        },
        "execution_time": 0.005005359649658203,
        "is_functional_test": true
      },
      {
        "case_name": "Invalid Item Key Format Handling",
        "purpose": "验证工具对无效格式的item_key进行正确处理（非12位字符）",
        "args": {
          "item_key": "SHORT"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"Invalid item key format: 'SHORT'. Must be 8 uppercase letters or numbers.\"}"
        },
        "execution_time": 0.0075244903564453125,
        "is_functional_test": false
      },
      {
        "case_name": "Empty Item Key Input",
        "purpose": "验证空item_key输入时抛出ValueError异常",
        "args": {
          "item_key": ""
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"Invalid item key format: ''. Must be 8 uppercase letters or numbers.\"}"
        },
        "execution_time": 0.004028797149658203,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters In Item Key",
        "purpose": "验证包含特殊字符的item_key被正确拒绝",
        "args": {
          "item_key": "AB@12#XY!"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"Invalid item key format: 'AB@12#XY!'. Must be 8 uppercase letters or numbers.\"}"
        },
        "execution_time": 0.0070149898529052734,
        "is_functional_test": false
      },
      {
        "case_name": "Nonexistent Item Key Query",
        "purpose": "验证查询不存在的item_key时，返回空或错误信息",
        "args": {
          "item_key": "NONEXISTENTKEY"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"Invalid item key format: 'NONEXISTENTKEY'. Must be 8 uppercase letters or numbers.\"}"
        },
        "execution_time": 0.007031440734863281,
        "is_functional_test": true
      },
      {
        "case_name": "Maximum Length Item Key Test",
        "purpose": "测试超过标准长度的item_key是否被正确拒绝",
        "args": {
          "item_key": "THISISVERYLONGITEMKEY123"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"Invalid item key format: 'THISISVERYLONGITEMKEY123'. Must be 8 uppercase letters or numbers.\"}"
        },
        "execution_time": 0.006517171859741211,
        "is_functional_test": false
      },
      {
        "case_name": "Numeric Only Item Key",
        "purpose": "验证仅数字组成的item_key是否被接受（应拒绝）",
        "args": {
          "item_key": "123456789012"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"Invalid item key format: '123456789012'. Must be 8 uppercase letters or numbers.\"}"
        },
        "execution_time": 0.003999471664428711,
        "is_functional_test": false
      },
      {
        "case_name": "Case Sensitivity In Item Key",
        "purpose": "验证item_key是否区分大小写（正常应不区分）",
        "args": {
          "item_key": "abc123xyz"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"Invalid item key format: 'abc123xyz'. Must be 8 uppercase letters or numbers.\"}"
        },
        "execution_time": 0.00451970100402832,
        "is_functional_test": true
      }
    ],
    "get_item_fulltext": [
      {
        "case_name": "Extract Fulltext From Valid Item With PDF",
        "purpose": "验证使用有效的item_key且该条目包含PDF附件时，能够成功提取全文本内容",
        "args": {
          "item_key": "ABC123XYZ"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"Invalid item key format: 'ABC123XYZ'. Must be 8 uppercase letters or numbers.\"}"
        },
        "execution_time": 0.004004478454589844,
        "is_functional_test": true
      },
      {
        "case_name": "Invalid Item Key Format Handling",
        "purpose": "验证工具对无效格式的item_key进行正确拒绝（非8位大写字母或数字）",
        "args": {
          "item_key": "SHORTKEY"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"Failed to extract full text: \\nCode: 404\\nURL: https://api.zotero.org/users/16026771/items/SHORTKEY?locale=en-US&format=json&limit=100\\nMethod: GET\\nResponse: Not found\"}"
        },
        "execution_time": 1.3771131038665771,
        "is_functional_test": false
      },
      {
        "case_name": "Empty Item Key Input",
        "purpose": "验证空item_key输入时抛出ValueError异常",
        "args": {
          "item_key": ""
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"Invalid item key format: ''. Must be 8 uppercase letters or numbers.\"}"
        },
        "execution_time": 0.0030012130737304688,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters In Item Key",
        "purpose": "验证包含特殊字符的item_key被正确拒绝",
        "args": {
          "item_key": "AB@12#XY!"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"Invalid item key format: 'AB@12#XY!'. Must be 8 uppercase letters or numbers.\"}"
        },
        "execution_time": 0.0035142898559570312,
        "is_functional_test": false
      },
      {
        "case_name": "Nonexistent Item Key Query",
        "purpose": "验证查询不存在的item_key时返回错误信息",
        "args": {
          "item_key": "NONEXISTENTKEY"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"Invalid item key format: 'NONEXISTENTKEY'. Must be 8 uppercase letters or numbers.\"}"
        },
        "execution_time": 0.007506132125854492,
        "is_functional_test": false
      },
      {
        "case_name": "Item Without PDF Attachment",
        "purpose": "验证当指定item_key对应的条目没有PDF附件时抛出ValueError",
        "args": {
          "item_key": "NO_PDF_ITEM"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"Invalid item key format: 'NO_PDF_ITEM'. Must be 8 uppercase letters or numbers.\"}"
        },
        "execution_time": 0.0059926509857177734,
        "is_functional_test": true
      },
      {
        "case_name": "Zotero API Failure Simulation",
        "purpose": "模拟Zotero API调用失败时的异常处理",
        "args": {
          "item_key": "API_FAILURE_TEST"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"Invalid item key format: 'API_FAILURE_TEST'. Must be 8 uppercase letters or numbers.\"}"
        },
        "execution_time": 0.004511594772338867,
        "is_functional_test": false
      },
      {
        "case_name": "PDF Extraction Failure Handling",
        "purpose": "验证PDF文本提取失败时的异常处理（如损坏文件）",
        "args": {
          "item_key": "DAMAGED_PDF_ITEM"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"Invalid item key format: 'DAMAGED_PDF_ITEM'. Must be 8 uppercase letters or numbers.\"}"
        },
        "execution_time": 0.00700068473815918,
        "is_functional_test": false
      }
    ]
  },
  "total_cases": 24
}