{
  "server_name": "server",
  "parent_dir": "refined",
  "report_name": "gemini-2.5-pro-mcp_content_to_markdown_conver",
  "server_path": "workspace/pipeline-output-servers/gemini-2.5-pro/mcp_content_to_markdown_conver/refined/server.py",
  "timestamp": "2025-07-13T02:50:33.611461",
  "tools": [
    {
      "name": "convert_to_markdown",
      "description": "Converts content from various sources (HTTP/S webpages, local file paths, or Data URIs) into structured Markdown.\n\n    The tool automatically detects the source type and processes it accordingly. It preserves structural\n    elements like headings, lists, tables, and links.\n\n    Args:\n        source (str): The source of the content to be converted. This can be:\n                      - An HTTP or HTTPS URL (e.g., \"https://example.com\").\n                      - A local file path (e.g., \"./my_document.html\").\n                      - A Data URI (e.g., \"data:text/html;base64,PGgxPlRlc3Q8L2gxPg==\").\n\n    Returns:\n        A string containing the content converted to structured Markdown.\n\n    Raises:\n        ValueError: If the source is invalid, content cannot be fetched, or the source type is unsupported.\n        requests.exceptions.RequestException: If a network error occurs while fetching a URL.\n    ",
      "args_schema": {
        "properties": {
          "source": {
            "title": "Source",
            "type": "string"
          }
        },
        "required": [
          "source"
        ],
        "title": "convert_to_markdownArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "convert_to_markdown": [
      {
        "case_name": "Convert Valid Local HTML File to Markdown",
        "purpose": "验证工具能否正确将本地HTML文件转换为结构化Markdown",
        "args": {
          "source": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\present.html"
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: An error occurred while processing source 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\present.html': Security error: File path 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\present.html' is outside the allowed directory."
        },
        "execution_time": 0.003999471664428711,
        "is_functional_test": true
      },
      {
        "case_name": "Convert Web URL Content to Markdown",
        "purpose": "验证工具是否能从远程URL抓取内容并成功转换为Markdown",
        "args": {
          "source": "https://example.com"
        },
        "response": {
          "result": "\nExample Domain\n\n\n\n\n\n# Example Domain\n\nThis domain is for use in illustrative examples in documents. You may use this\ndomain in literature without prior coordination or asking for permission.\n\n[More information...](https://www.iana.org/domains/example)\n\n\n\n\n"
        },
        "execution_time": 1.333521842956543,
        "is_functional_test": true
      },
      {
        "case_name": "Convert Data URI HTML Content to Markdown",
        "purpose": "验证工具是否能处理Data URI格式的HTML内容并转换为Markdown",
        "args": {
          "source": "data:text/html;base64,PGgxPlRlc3Q8L2gxPg=="
        },
        "response": {
          "result": "\n# Test\n\n"
        },
        "execution_time": 0.0045506954193115234,
        "is_functional_test": true
      },
      {
        "case_name": "Convert Empty Metadata Document",
        "purpose": "测试包含空元数据的文档是否能被正确转换而不报错",
        "args": {
          "source": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_metadata_doc.docx"
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: An error occurred while processing source 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_metadata_doc.docx': Security error: File path 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_metadata_doc.docx' is outside the allowed directory."
        },
        "execution_time": 0.0040166378021240234,
        "is_functional_test": true
      },
      {
        "case_name": "Convert Document with Special Characters",
        "purpose": "验证工具是否能正确处理含特殊字符的文档内容",
        "args": {
          "source": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special_chars_doc.docx"
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: An error occurred while processing source 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special_chars_doc.docx': Security error: File path 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special_chars_doc.docx' is outside the allowed directory."
        },
        "execution_time": 0.0030050277709960938,
        "is_functional_test": true
      },
      {
        "case_name": "Convert Non-Existent File Path",
        "purpose": "测试无效的本地文件路径是否会引发正确的错误处理",
        "args": {
          "source": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.html"
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: An error occurred while processing source 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.html': Security error: File path 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.html' is outside the allowed directory."
        },
        "execution_time": 0.004242420196533203,
        "is_functional_test": false
      },
      {
        "case_name": "Convert Invalid URL Scheme",
        "purpose": "测试不支持的URL协议（如ftp）是否会引发正确的错误处理",
        "args": {
          "source": "ftp://example.com/file.txt"
        },
        "response": {
          "result": "ftp://example.com/file.txt"
        },
        "execution_time": 0.004506587982177734,
        "is_functional_test": false
      },
      {
        "case_name": "Convert Empty String Source",
        "purpose": "测试空字符串作为输入源时是否会引发参数验证错误",
        "args": {
          "source": ""
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: The 'source' parameter cannot be empty."
        },
        "execution_time": 0.006442070007324219,
        "is_functional_test": false
      }
    ]
  },
  "total_cases": 8
}