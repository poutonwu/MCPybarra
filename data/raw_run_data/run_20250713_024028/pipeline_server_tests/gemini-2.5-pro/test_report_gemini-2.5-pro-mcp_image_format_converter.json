{
  "server_name": "server",
  "parent_dir": "refined",
  "report_name": "gemini-2.5-pro-mcp_image_format_converter",
  "server_path": "workspace/pipeline-output-servers/gemini-2.5-pro/mcp_image_format_converter/refined/server.py",
  "timestamp": "2025-07-13T02:49:13.529094",
  "tools": [
    {
      "name": "convert_image",
      "description": "\n    Converts an image file from a source format to a specified target format.\n\n    This tool handles various image types, including those with transparency (RGBA),\n    by performing necessary color space conversions. It includes robust input\n    validation and security checks to prevent common vulnerabilities like path\n    traversal attacks.\n\n    Args:\n        source_path (str): The absolute or relative path to the source image file\n                           (e.g., '/path/to/image.png').\n        output_dir (str): The path to the directory where the converted image will\n                          be saved. The directory must exist.\n        target_format (str): The desired output image format (e.g., 'JPEG', 'PNG',\n                             'BMP', 'GIF').\n\n    Returns:\n        str: A JSON formatted string indicating success or failure.\n             On Success: {\"status\": \"success\", \"message\": \"Image converted successfully.\", \"output_path\": \"/path/to/output/image.jpeg\"}\n             On Failure: {\"status\": \"error\", \"message\": \"Error details...\"}\n\n    Example:\n        convert_image(source_path=\"C:/Users/Test/images/sample.png\", output_dir=\"C:/Users/Test/images/output\", target_format=\"JPEG\")\n    ",
      "args_schema": {
        "properties": {
          "source_path": {
            "title": "Source Path",
            "type": "string"
          },
          "output_dir": {
            "title": "Output Dir",
            "type": "string"
          },
          "target_format": {
            "title": "Target Format",
            "type": "string"
          }
        },
        "required": [
          "source_path",
          "output_dir",
          "target_format"
        ],
        "title": "convert_imageArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "convert_image": [
      {
        "case_name": "Basic Image Conversion PNG to JPEG",
        "purpose": "验证工具能够将PNG图像正确转换为JPEG格式",
        "args": {
          "source_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\xue.png",
          "output_dir": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\output",
          "target_format": "JPEG"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"Output directory not found at 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\output'.\"}"
        },
        "execution_time": 0.005019187927246094,
        "is_functional_test": true
      },
      {
        "case_name": "Basic Image Conversion PNG to BMP",
        "purpose": "验证工具能够将PNG图像正确转换为BMP格式",
        "args": {
          "source_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\hit.png",
          "output_dir": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\output",
          "target_format": "BMP"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"Output directory not found at 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\output'.\"}"
        },
        "execution_time": 0.0040132999420166016,
        "is_functional_test": true
      },
      {
        "case_name": "Basic Image Conversion JPEG to PNG",
        "purpose": "验证工具能够将JPEG图像正确转换为PNG格式，保留透明通道（如适用）",
        "args": {
          "source_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\xue.jpg",
          "output_dir": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\output",
          "target_format": "PNG"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"Output directory not found at 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\output'.\"}"
        },
        "execution_time": 0.0070037841796875,
        "is_functional_test": true
      },
      {
        "case_name": "Invalid Source Path",
        "purpose": "测试当提供不存在的源文件路径时是否返回错误信息",
        "args": {
          "source_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.png",
          "output_dir": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\output",
          "target_format": "JPEG"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"Source file not found at 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\nonexistent.png'.\"}"
        },
        "execution_time": 0.006398677825927734,
        "is_functional_test": false
      },
      {
        "case_name": "Non-Existent Output Directory",
        "purpose": "测试输出目录不存在时是否返回错误",
        "args": {
          "source_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\hit.png",
          "output_dir": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\invalid_output",
          "target_format": "JPEG"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"Output directory not found at 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\invalid_output'.\"}"
        },
        "execution_time": 0.006067037582397461,
        "is_functional_test": false
      },
      {
        "case_name": "Path Traversal Attempt",
        "purpose": "验证工具是否阻止路径穿越攻击尝试",
        "args": {
          "source_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\..\\..\\malicious.png",
          "output_dir": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\output",
          "target_format": "JPEG"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"Source file not found at 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\..\\\\..\\\\malicious.png'.\"}"
        },
        "execution_time": 0.0050013065338134766,
        "is_functional_test": false
      },
      {
        "case_name": "Unsupported Target Format",
        "purpose": "测试不支持的目标格式是否被正确拒绝",
        "args": {
          "source_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\xue.png",
          "output_dir": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\output",
          "target_format": "TIFF"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"Output directory not found at 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\output'.\"}"
        },
        "execution_time": 0.006123065948486328,
        "is_functional_test": false
      },
      {
        "case_name": "Convert File with Special Characters in Name",
        "purpose": "验证包含特殊字符的文件名能否被正确处理",
        "args": {
          "source_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special_chars_doc.docx",
          "output_dir": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\output",
          "target_format": "PNG"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"Output directory not found at 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\output'.\"}"
        },
        "execution_time": 0.003999471664428711,
        "is_functional_test": true
      }
    ]
  },
  "total_cases": 8
}