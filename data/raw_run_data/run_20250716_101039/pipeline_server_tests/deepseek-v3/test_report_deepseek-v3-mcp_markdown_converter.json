{
  "server_name": "server",
  "parent_dir": "refined",
  "report_name": "deepseek-v3-mcp_markdown_converter",
  "server_path": "workspace/pipeline-output-servers/deepseek-v3/mcp_markdown_converter/refined/server.py",
  "timestamp": "2025-07-16T10:10:41.472500",
  "tools": [
    {
      "name": "convert_to_markdown",
      "description": "\n    Converts various input formats (HTTP/HTTPS web pages, local files, and data URIs) into structured Markdown.\n\n    Args:\n        input_source: The source to convert (e.g., \"https://example.com\", \"file:///path/to/file.html\", or \"data:text/html,...\").\n        preserve_structure: If True, retains original formatting (default: True).\n\n    Returns:\n        A string containing the structured Markdown output.\n\n    Raises:\n        ValueError: If the input source is invalid or unsupported.\n        httpx.HTTPStatusError: If fetching web content fails.\n        FileNotFoundError: If local file cannot be found.\n        PermissionError: If local file cannot be accessed.\n    ",
      "args_schema": {
        "properties": {
          "input_source": {
            "title": "Input Source",
            "type": "string"
          },
          "preserve_structure": {
            "default": true,
            "title": "Preserve Structure",
            "type": "boolean"
          }
        },
        "required": [
          "input_source"
        ],
        "title": "convert_to_markdownArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "convert_to_markdown": [
      {
        "case_name": "Convert Valid Local HTML File to Markdown",
        "purpose": "验证工具能够将本地HTML文件正确转换为结构化的Markdown格式，默认保留原始结构。",
        "args": {
          "input_source": "file:///D:/devWorkspace/MCPServer-Generator/testSystem/testFiles/nonname.html",
          "preserve_structure": true
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: Conversion failed: [Errno 22] Invalid argument: '/D:/devWorkspace/MCPServer-Generator/testSystem/testFiles/nonname.html'"
        },
        "execution_time": 0.07300496101379395,
        "is_functional_test": true
      },
      {
        "case_name": "Convert Web Page URL to Markdown",
        "purpose": "验证工具能从有效网页URL获取内容并转换为Markdown，默认保留结构。",
        "args": {
          "input_source": "https://example.com",
          "preserve_structure": true
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: Conversion failed: [Errno 22] Invalid argument: '<!doctype html>\\n<html>\\n<head>\\n    <title>Example Domain</title>\\n\\n    <meta charset=\"utf-8\" />\\n    <meta http-equiv=\"Content-type\" content=\"text/html; charset=utf-8\" />\\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\\n    <style type=\"text/css\">\\n    body {\\n        background-color: #f0f0f2;\\n        margin: 0;\\n        padding: 0;\\n        font-family: -apple-system, system-ui, BlinkMacSystemFont, \"Segoe UI\", \"Open Sans\", \"Helvetica Neue\", Helvetica, Arial, sans-serif;\\n        \\n    }\\n    div {\\n        width: 600px;\\n        margin: 5em auto;\\n        padding: 2em;\\n        background-color: #fdfdff;\\n        border-radius: 0.5em;\\n        box-shadow: 2px 3px 7px 2px rgba(0,0,0,0.02);\\n    }\\n    a:link, a:visited {\\n        color: #38488f;\\n        text-decoration: none;\\n    }\\n    @media (max-width: 700px) {\\n        div {\\n            margin: 0 auto;\\n            width: auto;\\n        }\\n    }\\n    </style>    \\n</head>\\n\\n<body>\\n<div>\\n    <h1>Example Domain</h1>\\n    <p>This domain is for use in illustrative examples in documents. You may use this\\n    domain in literature without prior coordination or asking for permission.</p>\\n    <p><a href=\"https://www.iana.org/domains/example\">More information...</a></p>\\n</div>\\n</body>\\n</html>\\n'"
        },
        "execution_time": 1.4822266101837158,
        "is_functional_test": true
      },
      {
        "case_name": "Convert Data URI HTML Content to Markdown",
        "purpose": "验证工具能够处理data URI形式的HTML内容，并转换为Markdown。",
        "args": {
          "input_source": "data:text/html,<html><body><h1>Test</h1></body></html>",
          "preserve_structure": true
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: Conversion failed: [Errno 22] Invalid argument: '<html><body><h1>Test</h1></body></html>'"
        },
        "execution_time": 0.028805971145629883,
        "is_functional_test": true
      },
      {
        "case_name": "Convert PDF Document to Markdown",
        "purpose": "验证工具是否支持PDF文档的Markdown转换，测试主要输入格式之一。",
        "args": {
          "input_source": "file:///D:/devWorkspace/MCPServer-Generator/testSystem/testFiles/sample1.pdf",
          "preserve_structure": true
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: Conversion failed: [Errno 22] Invalid argument: '/D:/devWorkspace/MCPServer-Generator/testSystem/testFiles/sample1.pdf'"
        },
        "execution_time": 0.03251004219055176,
        "is_functional_test": true
      },
      {
        "case_name": "Convert DOCX Document with Structure Preservation Disabled",
        "purpose": "验证当preserve_structure参数设为False时，是否能正确忽略原始结构进行转换。",
        "args": {
          "input_source": "file:///D:/devWorkspace/MCPServer-Generator/testSystem/testFiles/new_document_copy.docx",
          "preserve_structure": false
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: Conversion failed: [Errno 22] Invalid argument: '/D:/devWorkspace/MCPServer-Generator/testSystem/testFiles/new_document_copy.docx'"
        },
        "execution_time": 0.03967595100402832,
        "is_functional_test": true
      },
      {
        "case_name": "Convert Empty CSV File",
        "purpose": "测试工具在遇到空CSV文件时的行为，确保不会崩溃或抛出未处理异常。",
        "args": {
          "input_source": "file:///D:/devWorkspace/MCPServer-Generator/testSystem/testFiles/includeempty.csv",
          "preserve_structure": true
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: Conversion failed: [Errno 22] Invalid argument: '/D:/devWorkspace/MCPServer-Generator/testSystem/testFiles/includeempty.csv'"
        },
        "execution_time": 0.0381016731262207,
        "is_functional_test": true
      },
      {
        "case_name": "Convert Invalid Input Source Format",
        "purpose": "验证工具对无效输入源的检测和错误响应机制。",
        "args": {
          "input_source": "invalid_scheme://example.com",
          "preserve_structure": true
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: Conversion failed: Unsupported input source: invalid_scheme://example.com"
        },
        "execution_time": 0.038671255111694336,
        "is_functional_test": false
      },
      {
        "case_name": "Attempt to Convert Non-Existent Local File",
        "purpose": "测试工具在指定本地文件不存在时能否优雅地处理错误。",
        "args": {
          "input_source": "file:///D:/devWorkspace/MCPServer-Generator/testSystem/testFiles/nonexistent.html",
          "preserve_structure": true
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: Conversion failed: [Errno 22] Invalid argument: '/D:/devWorkspace/MCPServer-Generator/testSystem/testFiles/nonexistent.html'"
        },
        "execution_time": 0.03761458396911621,
        "is_functional_test": false
      },
      {
        "case_name": "Convert File from Read-Only Directory",
        "purpose": "验证工具在无法访问受权限限制的文件时是否能正确抛出PermissionError。",
        "args": {
          "input_source": "file:///D:/devWorkspace/MCPServer-Generator/testSystem/testFiles/readonly_dir/locked_file.docx",
          "preserve_structure": true
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: Conversion failed: [Errno 22] Invalid argument: '/D:/devWorkspace/MCPServer-Generator/testSystem/testFiles/readonly_dir/locked_file.docx'"
        },
        "execution_time": 0.0539240837097168,
        "is_functional_test": false
      },
      {
        "case_name": "Convert Large PDF File",
        "purpose": "测试工具在处理大体积PDF文件时的表现，评估其性能边界。",
        "args": {
          "input_source": "file:///D:/devWorkspace/MCPServer-Generator/testSystem/testFiles/papers/2507.10543v1.pdf",
          "preserve_structure": true
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: Conversion failed: [Errno 22] Invalid argument: '/D:/devWorkspace/MCPServer-Generator/testSystem/testFiles/papers/2507.10543v1.pdf'"
        },
        "execution_time": 0.03992152214050293,
        "is_functional_test": true
      },
      {
        "case_name": "Convert URL with Special Characters in Path",
        "purpose": "测试工具是否能正确处理带有特殊字符的URL路径。",
        "args": {
          "input_source": "https://example.com/path%20with%20spaces/file.html",
          "preserve_structure": true
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: Client error '404 Not Found' for url 'https://example.com/path%20with%20spaces/file.html'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"
        },
        "execution_time": 1.7768194675445557,
        "is_functional_test": true
      },
      {
        "case_name": "Convert Data URI with Base64 Encoded HTML",
        "purpose": "验证工具是否支持base64编码的data URI解析与转换。",
        "args": {
          "input_source": "data:text/html;base64,PGh0bWw+PGJvZHk+PHAxPkhlbGxvPC9wMT48L2JvZHk+PC9odG1sPg==",
          "preserve_structure": true
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: Conversion failed: [Errno 22] Invalid argument: '<html><body><p1>Hello</p1></body></html>'"
        },
        "execution_time": 0.02893209457397461,
        "is_functional_test": true
      },
      {
        "case_name": "Security Test - Attempt to Access Local System Files via File URI",
        "purpose": "测试是否存在本地文件访问的安全漏洞（如通过../../etc/passwd尝试访问敏感系统文件）。",
        "args": {
          "input_source": "file:///../../../etc/passwd",
          "preserve_structure": true
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: File not found: file:///../../../etc/passwd"
        },
        "execution_time": 0.031116485595703125,
        "is_functional_test": false
      },
      {
        "case_name": "Convert Zero-Byte File",
        "purpose": "测试工具在遇到零字节文件时的容错能力。",
        "args": {
          "input_source": "file:///D:/devWorkspace/MCPServer-Generator/testSystem/testFiles/tmp.csv",
          "preserve_structure": true
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: Conversion failed: [Errno 22] Invalid argument: '/D:/devWorkspace/MCPServer-Generator/testSystem/testFiles/tmp.csv'"
        },
        "execution_time": 0.03154945373535156,
        "is_functional_test": true
      },
      {
        "case_name": "Convert Image File (Unsupported Format)",
        "purpose": "测试工具在接收到不支持的图像文件作为输入时的错误处理能力。",
        "args": {
          "input_source": "file:///D:/devWorkspace/MCPServer-Generator/testSystem/testFiles/output/app.gif",
          "preserve_structure": true
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: Conversion failed: [Errno 22] Invalid argument: '/D:/devWorkspace/MCPServer-Generator/testSystem/testFiles/output/app.gif'"
        },
        "execution_time": 0.03474259376525879,
        "is_functional_test": false
      }
    ]
  },
  "total_cases": 15
}