{
  "server_name": "data_exploration_mcp_server",
  "parent_dir": "metaGPT-qwen-plus",
  "report_name": "metaGPT-qwen-plus-data_exploration_mcp_server",
  "server_path": "workspace\\metaGPT-servers\\metaGPT-qwen-plus\\data_exploration_mcp_server.py",
  "timestamp": "2025-07-14T11:07:35.352752",
  "tools": [
    {
      "name": "load_csv",
      "description": "\n    加载CSV文件到内存中。\n\n    Args:\n        dataset_name: 为加载的数据集指定一个名称。\n        file_path: CSV文件的路径。\n\n    Returns:\n        一个字符串，表示加载成功或失败的消息。\n    \n    Raises:\n        ValueError: 如果文件无法加载。\n        FileNotFoundError: 如果指定的文件不存在。\n    ",
      "args_schema": {
        "properties": {
          "dataset_name": {
            "title": "Dataset Name",
            "type": "string"
          },
          "file_path": {
            "title": "File Path",
            "type": "string"
          }
        },
        "required": [
          "dataset_name",
          "file_path"
        ],
        "title": "load_csvArguments",
        "type": "object"
      }
    },
    {
      "name": "run_script",
      "description": "\n    执行Python数据分析脚本。\n\n    Args:\n        script_name: 脚本名称。\n        script_content: 包含数据分析代码的字符串。\n\n    Returns:\n        一个字符串，表示脚本执行结果。\n    \n    Raises:\n        ValueError: 如果脚本执行时发生错误。\n    ",
      "args_schema": {
        "properties": {
          "script_name": {
            "title": "Script Name",
            "type": "string"
          },
          "script_content": {
            "title": "Script Content",
            "type": "string"
          }
        },
        "required": [
          "script_name",
          "script_content"
        ],
        "title": "run_scriptArguments",
        "type": "object"
      }
    },
    {
      "name": "explore_data",
      "description": "\n    自动分析数据结构，生成数据探索计划并执行数据可视化。\n\n    Args:\n        dataset_name: 已加载数据集的名称。\n        output_dir: 可视化图表的输出目录。\n\n    Returns:\n        一个字符串，表示探索和可视化结果。\n    \n    Raises:\n        ValueError: 如果数据集不存在或处理时发生错误。\n    ",
      "args_schema": {
        "properties": {
          "dataset_name": {
            "title": "Dataset Name",
            "type": "string"
          },
          "output_dir": {
            "default": "visualizations",
            "title": "Output Dir",
            "type": "string"
          }
        },
        "required": [
          "dataset_name"
        ],
        "title": "explore_dataArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "load_csv": [
      {
        "case_name": "Basic CSV Load Test",
        "purpose": "验证工具能够成功加载一个有效的CSV文件到内存中。",
        "args": {
          "dataset_name": "test_dataset",
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\cs.csv"
        },
        "response": {
          "result": "{\"status\": \"success\", \"message\": \"\\u6210\\u529f\\u52a0\\u8f7d\\u6570\\u636e\\u96c6 'test_dataset' from 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\cs.csv'\", \"columns\": [\"\\u8bfe\\u7a0b\\u540d\\u79f0\", \"\\u661f\\u671f\", \"\\u5f00\\u59cb\\u8282\\u6570\", \"\\u7ed3\\u675f\\u8282\\u6570\", \"\\u8001\\u5e08\", \"\\u5730\\u70b9\", \"\\u5468\\u6570\"], \"rows\": 16}"
        },
        "execution_time": 0.01277923583984375,
        "is_functional_test": true
      },
      {
        "case_name": "Load CSV with Empty Content",
        "purpose": "验证工具能否正确处理包含空内容的CSV文件。",
        "args": {
          "dataset_name": "empty_dataset",
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\includeempty.csv"
        },
        "response": {
          "result": "{\"status\": \"success\", \"message\": \"\\u6210\\u529f\\u52a0\\u8f7d\\u6570\\u636e\\u96c6 'empty_dataset' from 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\includeempty.csv'\", \"columns\": [\"A\", \"B\", \"C\"], \"rows\": 1}"
        },
        "execution_time": 0.012533187866210938,
        "is_functional_test": true
      },
      {
        "case_name": "Load Nonexistent File",
        "purpose": "验证工具在指定路径不存在时是否抛出FileNotFoundError。",
        "args": {
          "dataset_name": "nonexistent_dataset",
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.csv"
        },
        "response": {
          "error": "ToolException: Error executing tool load_csv: 找不到指定的文件: D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.csv"
        },
        "execution_time": 0.0065114498138427734,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid File Format - Not CSV",
        "purpose": "验证工具拒绝非CSV格式文件（如PDF）并抛出ValueError。",
        "args": {
          "dataset_name": "pdf_dataset",
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\sample1.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool load_csv: 加载文件时发生错误: 'utf-8' codec can't decode byte 0xe2 in position 10: invalid continuation byte"
        },
        "execution_time": 0.013051271438598633,
        "is_functional_test": false
      },
      {
        "case_name": "Load CSV with Special Characters in Dataset Name",
        "purpose": "测试工具是否能处理数据集名称中的特殊字符。",
        "args": {
          "dataset_name": "dataset@#_test",
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\cs.csv"
        },
        "response": {
          "result": "{\"status\": \"success\", \"message\": \"\\u6210\\u529f\\u52a0\\u8f7d\\u6570\\u636e\\u96c6 'dataset@#_test' from 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\cs.csv'\", \"columns\": [\"\\u8bfe\\u7a0b\\u540d\\u79f0\", \"\\u661f\\u671f\", \"\\u5f00\\u59cb\\u8282\\u6570\", \"\\u7ed3\\u675f\\u8282\\u6570\", \"\\u8001\\u5e08\", \"\\u5730\\u70b9\", \"\\u5468\\u6570\"], \"rows\": 16}"
        },
        "execution_time": 0.009328603744506836,
        "is_functional_test": true
      },
      {
        "case_name": "Missing Dataset Name",
        "purpose": "验证dataset_name参数为必填项，缺失时报错。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\cs.csv"
        },
        "response": {
          "error": "ToolException: Error executing tool load_csv: 1 validation error for load_csvArguments\ndataset_name\n  Field required [type=missing, input_value={'file_path': 'D:\\\\devWor...tem\\\\testFiles\\\\cs.csv'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing"
        },
        "execution_time": 0.010541439056396484,
        "is_functional_test": false
      },
      {
        "case_name": "Missing File Path",
        "purpose": "验证file_path参数为必填项，缺失时报错。",
        "args": {
          "dataset_name": "missing_file_dataset"
        },
        "response": {
          "error": "ToolException: Error executing tool load_csv: 1 validation error for load_csvArguments\nfile_path\n  Field required [type=missing, input_value={'dataset_name': 'missing_file_dataset'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing"
        },
        "execution_time": 0.009515523910522461,
        "is_functional_test": false
      },
      {
        "case_name": "Load Large CSV File",
        "purpose": "测试工具对大CSV文件的处理能力及性能边界。",
        "args": {
          "dataset_name": "large_dataset",
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\68078d40e08a19b806665fee_1745325376_auto_driving_system.csv"
        },
        "response": {
          "result": "{\"status\": \"success\", \"message\": \"\\u6210\\u529f\\u52a0\\u8f7d\\u6570\\u636e\\u96c6 'large_dataset' from 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\68078d40e08a19b806665fee_1745325376_auto_driving_system.csv'\", \"columns\": [\"auto_driving_id\", \"auto_driving_name\", \"system_version\", \"sensors_count\", \"accuracy_rate\", \"processing_power\", \"software_platform\", \"ai_algorithm\", \"certification\"], \"rows\": 20}"
        },
        "execution_time": 0.010009288787841797,
        "is_functional_test": true
      }
    ],
    "explore_data": [
      {
        "case_name": "Basic Data Exploration Test",
        "purpose": "验证工具能够对已加载数据集执行基本的数据结构分析和可视化。",
        "args": {
          "dataset_name": "test_dataset"
        },
        "response": {
          "result": "{\"status\": \"success\", \"summary\": {\"dataset_name\": \"test_dataset\", \"rows\": 16, \"columns\": 7, \"column_info\": {\"\\u8bfe\\u7a0b\\u540d\\u79f0\": {\"type\": \"categorical\", \"unique\": 7, \"top\": \"\\u670d\\u52a1\\u8ba1\\u7b97\\u6280\\u672f\", \"count\": 6}, \"\\u661f\\u671f\": {\"type\": \"numerical\", \"min\": 1.0, \"max\": 6.0, \"mean\": 2.6875, \"std\": 1.579820664927932}, \"\\u5f00\\u59cb\\u8282\\u6570\": {\"type\": \"numerical\", \"min\": 1.0, \"max\": 9.0, \"mean\": 4.625, \"std\": 2.4460853078609777}, \"\\u7ed3\\u675f\\u8282\\u6570\": {\"type\": \"numerical\", \"min\": 2.0, \"max\": 10.0, \"mean\": 5.6875, \"std\": 2.4689741459426693}, \"\\u8001\\u5e08\": {\"type\": \"categorical\", \"unique\": 7, \"top\": \"\\u5f90\\u6c49\\u5ddd\", \"count\": 4}, \"\\u5730\\u70b9\": {\"type\": \"categorical\", \"unique\": 4, \"top\": \"\\u8bda\\u610f603\", \"count\": 6}, \"\\u5468\\u6570\": {\"type\": \"categorical\", \"unique\": 8, \"top\": \"1-8\", \"count\": 4}}, \"visualizations\": [\"visualizations\\\\\\u8bfe\\u7a0b\\u540d\\u79f0_barchart.png\", \"visualizations\\\\\\u661f\\u671f_histogram.png\", \"visualizations\\\\\\u5f00\\u59cb\\u8282\\u6570_histogram.png\", \"visualizations\\\\\\u7ed3\\u675f\\u8282\\u6570_histogram.png\", \"visualizations\\\\\\u8001\\u5e08_barchart.png\", \"visualizations\\\\\\u5730\\u70b9_barchart.png\", \"visualizations\\\\\\u5468\\u6570_barchart.png\", \"visualizations\\\\correlation_matrix.png\"]}}"
        },
        "execution_time": 0.8287484645843506,
        "is_functional_test": true
      },
      {
        "case_name": "Data Exploration with Custom Output Directory",
        "purpose": "验证工具能够将可视化结果输出到指定的自定义目录。",
        "args": {
          "dataset_name": "test_dataset",
          "output_dir": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\custom_visualizations"
        },
        "response": {
          "result": "{\"status\": \"success\", \"summary\": {\"dataset_name\": \"test_dataset\", \"rows\": 16, \"columns\": 7, \"column_info\": {\"\\u8bfe\\u7a0b\\u540d\\u79f0\": {\"type\": \"categorical\", \"unique\": 7, \"top\": \"\\u670d\\u52a1\\u8ba1\\u7b97\\u6280\\u672f\", \"count\": 6}, \"\\u661f\\u671f\": {\"type\": \"numerical\", \"min\": 1.0, \"max\": 6.0, \"mean\": 2.6875, \"std\": 1.579820664927932}, \"\\u5f00\\u59cb\\u8282\\u6570\": {\"type\": \"numerical\", \"min\": 1.0, \"max\": 9.0, \"mean\": 4.625, \"std\": 2.4460853078609777}, \"\\u7ed3\\u675f\\u8282\\u6570\": {\"type\": \"numerical\", \"min\": 2.0, \"max\": 10.0, \"mean\": 5.6875, \"std\": 2.4689741459426693}, \"\\u8001\\u5e08\": {\"type\": \"categorical\", \"unique\": 7, \"top\": \"\\u5f90\\u6c49\\u5ddd\", \"count\": 4}, \"\\u5730\\u70b9\": {\"type\": \"categorical\", \"unique\": 4, \"top\": \"\\u8bda\\u610f603\", \"count\": 6}, \"\\u5468\\u6570\": {\"type\": \"categorical\", \"unique\": 8, \"top\": \"1-8\", \"count\": 4}}, \"visualizations\": [\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\custom_visualizations\\\\\\u8bfe\\u7a0b\\u540d\\u79f0_barchart.png\", \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\custom_visualizations\\\\\\u661f\\u671f_histogram.png\", \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\custom_visualizations\\\\\\u5f00\\u59cb\\u8282\\u6570_histogram.png\", \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\custom_visualizations\\\\\\u7ed3\\u675f\\u8282\\u6570_histogram.png\", \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\custom_visualizations\\\\\\u8001\\u5e08_barchart.png\", \"D:\\\\devWorkspace\\\\MCPServer-G...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计1810字符，剩余310字符"
        },
        "execution_time": 0.786231279373169,
        "is_functional_test": true
      },
      {
        "case_name": "Exploration of Empty Dataset",
        "purpose": "验证工具是否能正确处理空数据集并生成相应的探索与可视化结果。",
        "args": {
          "dataset_name": "empty_dataset"
        },
        "response": {
          "result": "{\"status\": \"success\", \"summary\": {\"dataset_name\": \"empty_dataset\", \"rows\": 1, \"columns\": 3, \"column_info\": {\"A\": {\"type\": \"numerical\", \"min\": 1.0, \"max\": 1.0, \"mean\": 1.0, \"std\": NaN}, \"B\": {\"type\": \"numerical\", \"min\": NaN, \"max\": NaN, \"mean\": NaN, \"std\": NaN}, \"C\": {\"type\": \"numerical\", \"min\": 3.0, \"max\": 3.0, \"mean\": 3.0, \"std\": NaN}}, \"visualizations\": [\"visualizations\\\\A_histogram.png\", \"visualizations\\\\B_histogram.png\", \"visualizations\\\\C_histogram.png\", \"visualizations\\\\correlation_matrix.png\"]}}"
        },
        "execution_time": 0.30672287940979004,
        "is_functional_test": true
      },
      {
        "case_name": "Explore Nonexistent Dataset",
        "purpose": "验证工具在尝试探索未加载或不存在的数据集时是否抛出ValueError。",
        "args": {
          "dataset_name": "nonexistent_dataset"
        },
        "response": {
          "error": "ToolException: Error executing tool explore_data: 数据探索错误: 数据集 'nonexistent_dataset' 未加载\nTraceback (most recent call last):\n  File \"D:\\devWorkspace\\MCPServer-Generator\\workspace\\metaGPT-servers\\metaGPT-qwen-plus\\data_exploration_mcp_server.py\", line 112, in explore_data\n    raise ValueError(f\"数据集 '{dataset_name}' 未加载\")\nValueError: 数据集 'nonexistent_dataset' 未加载\n"
        },
        "execution_time": 0.0050106048583984375,
        "is_functional_test": false
      },
      {
        "case_name": "Security Check - Path Traversal Attempt",
        "purpose": "测试工具是否能防止路径穿越攻击（如使用../尝试访问受限目录）。",
        "args": {
          "dataset_name": "test_dataset",
          "output_dir": "..\\..\\forbidden_directory"
        },
        "response": {
          "result": "{\"status\": \"success\", \"summary\": {\"dataset_name\": \"test_dataset\", \"rows\": 16, \"columns\": 7, \"column_info\": {\"\\u8bfe\\u7a0b\\u540d\\u79f0\": {\"type\": \"categorical\", \"unique\": 7, \"top\": \"\\u670d\\u52a1\\u8ba1\\u7b97\\u6280\\u672f\", \"count\": 6}, \"\\u661f\\u671f\": {\"type\": \"numerical\", \"min\": 1.0, \"max\": 6.0, \"mean\": 2.6875, \"std\": 1.579820664927932}, \"\\u5f00\\u59cb\\u8282\\u6570\": {\"type\": \"numerical\", \"min\": 1.0, \"max\": 9.0, \"mean\": 4.625, \"std\": 2.4460853078609777}, \"\\u7ed3\\u675f\\u8282\\u6570\": {\"type\": \"numerical\", \"min\": 2.0, \"max\": 10.0, \"mean\": 5.6875, \"std\": 2.4689741459426693}, \"\\u8001\\u5e08\": {\"type\": \"categorical\", \"unique\": 7, \"top\": \"\\u5f90\\u6c49\\u5ddd\", \"count\": 4}, \"\\u5730\\u70b9\": {\"type\": \"categorical\", \"unique\": 4, \"top\": \"\\u8bda\\u610f603\", \"count\": 6}, \"\\u5468\\u6570\": {\"type\": \"categorical\", \"unique\": 8, \"top\": \"1-8\", \"count\": 4}}, \"visualizations\": [\"..\\\\..\\\\forbidden_directory\\\\\\u8bfe\\u7a0b\\u540d\\u79f0_barchart.png\", \"..\\\\..\\\\forbidden_directory\\\\\\u661f\\u671f_histogram.png\", \"..\\\\..\\\\forbidden_directory\\\\\\u5f00\\u59cb\\u8282\\u6570_histogram.png\", \"..\\\\..\\\\forbidden_directory\\\\\\u7ed3\\u675f\\u8282\\u6570_histogram.png\", \"..\\\\..\\\\forbidden_directory\\\\\\u8001\\u5e08_barchart.png\", \"..\\\\..\\\\forbidden_directory\\\\\\u5730\\u70b9_barchart.png\", \"..\\\\..\\\\forbidden_directory\\\\\\u5468\\u6570_barchart.png\", \"..\\\\..\\\\forbidden_directory\\\\correlation_matrix.png\"]}}"
        },
        "execution_time": 0.819434642791748,
        "is_functional_test": false
      },
      {
        "case_name": "Missing Dataset Name Parameter",
        "purpose": "验证dataset_name参数为必填项，缺失时报错。",
        "args": {},
        "response": {
          "error": "ToolException: Error executing tool explore_data: 1 validation error for explore_dataArguments\ndataset_name\n  Field required [type=missing, input_value={}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing"
        },
        "execution_time": 0.003996610641479492,
        "is_functional_test": false
      },
      {
        "case_name": "Exploration of Large Dataset",
        "purpose": "测试工具对大型数据集的探索与可视化能力及性能表现。",
        "args": {
          "dataset_name": "large_dataset"
        },
        "response": {
          "result": "{\"status\": \"success\", \"summary\": {\"dataset_name\": \"large_dataset\", \"rows\": 20, \"columns\": 9, \"column_info\": {\"auto_driving_id\": {\"type\": \"categorical\", \"unique\": 20, \"top\": \"ADS001\", \"count\": 1}, \"auto_driving_name\": {\"type\": \"categorical\", \"unique\": 20, \"top\": \"\\u4eba\\u5de5\\u667a\\u80fd\\u51b3\\u7b56\\u7cfb\\u7edfAID600\", \"count\": 1}, \"system_version\": {\"type\": \"categorical\", \"unique\": 20, \"top\": \"v1.9.2\", \"count\": 1}, \"sensors_count\": {\"type\": \"numerical\", \"min\": 3.0, \"max\": 30.0, \"mean\": 12.25, \"std\": 6.934847169416057}, \"accuracy_rate\": {\"type\": \"numerical\", \"min\": 92.1, \"max\": 99.9, \"mean\": 97.24999999999999, \"std\": 2.1828277170004187}, \"processing_power\": {\"type\": \"categorical\", \"unique\": 20, \"top\": \"8\\u683816\\u7ebf\\u7a0b\", \"count\": 1}, \"software_platform\": {\"type\": \"categorical\", \"unique\": 20, \"top\": \"AdaptivePathOS\", \"count\": 1}, \"ai_algorithm\": {\"type\": \"categorical\", \"unique\": 20, \"top\": \"SLAM\\u7b97\\u6cd5\", \"count\": 1}, \"certification\": {\"type\": \"categorical\", \"unique\": 11, \"top\": \"CE\\u8ba4\\u8bc1\", \"count\": 4}}, \"visualizations\": [\"visualizations\\\\auto_driving_id_barchart.png\", \"visualizations\\\\auto_driving_name_barchart.png\", \"visualizations\\\\system_version_barchart.png\", \"visualizations\\\\sensors_count_histogram.png\", \"visualizations\\\\accuracy_rate_histogram.png\", \"visualizations\\\\processing_power_barchart.png\", \"visualizations\\\\software_platform_barchart.png\", \"visualizations\\\\ai_algorithm_barchart.png\", \"visualizations\\\\certification_barchart.png\", \"visualizations\\\\co...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计1524字符，剩余24字符"
        },
        "execution_time": 1.0205440521240234,
        "is_functional_test": true
      },
      {
        "case_name": "Special Characters in Output Directory",
        "purpose": "验证工具是否能正确处理包含特殊字符的输出目录路径。",
        "args": {
          "dataset_name": "test_dataset",
          "output_dir": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\visualizations@#"
        },
        "response": {
          "result": "{\"status\": \"success\", \"summary\": {\"dataset_name\": \"test_dataset\", \"rows\": 16, \"columns\": 7, \"column_info\": {\"\\u8bfe\\u7a0b\\u540d\\u79f0\": {\"type\": \"categorical\", \"unique\": 7, \"top\": \"\\u670d\\u52a1\\u8ba1\\u7b97\\u6280\\u672f\", \"count\": 6}, \"\\u661f\\u671f\": {\"type\": \"numerical\", \"min\": 1.0, \"max\": 6.0, \"mean\": 2.6875, \"std\": 1.579820664927932}, \"\\u5f00\\u59cb\\u8282\\u6570\": {\"type\": \"numerical\", \"min\": 1.0, \"max\": 9.0, \"mean\": 4.625, \"std\": 2.4460853078609777}, \"\\u7ed3\\u675f\\u8282\\u6570\": {\"type\": \"numerical\", \"min\": 2.0, \"max\": 10.0, \"mean\": 5.6875, \"std\": 2.4689741459426693}, \"\\u8001\\u5e08\": {\"type\": \"categorical\", \"unique\": 7, \"top\": \"\\u5f90\\u6c49\\u5ddd\", \"count\": 4}, \"\\u5730\\u70b9\": {\"type\": \"categorical\", \"unique\": 4, \"top\": \"\\u8bda\\u610f603\", \"count\": 6}, \"\\u5468\\u6570\": {\"type\": \"categorical\", \"unique\": 8, \"top\": \"1-8\", \"count\": 4}}, \"visualizations\": [\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\visualizations@#\\\\\\u8bfe\\u7a0b\\u540d\\u79f0_barchart.png\", \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\visualizations@#\\\\\\u661f\\u671f_histogram.png\", \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\visualizations@#\\\\\\u5f00\\u59cb\\u8282\\u6570_histogram.png\", \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\visualizations@#\\\\\\u7ed3\\u675f\\u8282\\u6570_histogram.png\", \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\visualizations@#\\\\\\u8001\\u5e08_barchart.png\", \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\tes...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计1770字符，剩余270字符"
        },
        "execution_time": 0.9287841320037842,
        "is_functional_test": true
      }
    ],
    "run_script": [
      {
        "case_name": "Basic Script Execution Test",
        "purpose": "验证工具能够成功执行一个基本的Python数据分析脚本并返回结果。",
        "args": {
          "script_name": "basic_analysis.py",
          "script_content": "import pandas as pd\n# 加载之前加载过的数据集\ndata = {'课程名称': ['数学', '语文', '英语'], '教师': ['张老师', '李老师', '王老师']}\ndf = pd.DataFrame(data)\nresult = df.to_string()\nresult"
        },
        "response": {
          "result": "{\"status\": \"success\", \"script_name\": \"basic_analysis.py\", \"result\": \"  \\u8bfe\\u7a0b\\u540d\\u79f0   \\u6559\\u5e08\\n0   \\u6570\\u5b66  \\u5f20\\u8001\\u5e08\\n1   \\u8bed\\u6587  \\u674e\\u8001\\u5e08\\n2   \\u82f1\\u8bed  \\u738b\\u8001\\u5e08\"}"
        },
        "execution_time": 0.004999637603759766,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Script Content Test",
        "purpose": "验证当提供空脚本内容时，是否抛出ValueError。",
        "args": {
          "script_name": "empty_script.py",
          "script_content": ""
        },
        "response": {
          "result": "{\"status\": \"success\", \"script_name\": \"empty_script.py\", \"result\": \"None\"}"
        },
        "execution_time": 0.003003835678100586,
        "is_functional_test": false
      },
      {
        "case_name": "Script with Syntax Error",
        "purpose": "测试工具是否能正确处理包含语法错误的脚本并抛出异常。",
        "args": {
          "script_name": "syntax_error_script.py",
          "script_content": "print('Hello World'"
        },
        "response": {
          "error": "ToolException: Error executing tool run_script: 脚本执行错误: '(' was never closed (<string>, line 1)\nTraceback (most recent call last):\n  File \"D:\\devWorkspace\\MCPServer-Generator\\workspace\\metaGPT-servers\\metaGPT-qwen-plus\\data_exploration_mcp_server.py\", line 78, in run_script\n    exec(script_content, exec_env)\n  File \"<string>\", line 1\n    print('Hello World'\n         ^\nSyntaxError: '(' was never closed\n"
        },
        "execution_time": 0.004001617431640625,
        "is_functional_test": false
      },
      {
        "case_name": "Script Accessing Restricted Resource",
        "purpose": "验证工具是否阻止脚本访问受限资源（如系统命令）。",
        "args": {
          "script_name": "restricted_access_script.py",
          "script_content": "import os\nos.system('dir')"
        },
        "response": {
          "error": "Tool call 'run_script' was cancelled."
        },
        "execution_time": 0.0075113773345947266,
        "is_functional_test": false
      },
      {
        "case_name": "Long Running Script Test",
        "purpose": "测试长时间运行的脚本是否会超时或被中断。",
        "args": {
          "script_name": "long_running_script.py",
          "script_content": "import time\ntime.sleep(10)\n'Finished after delay'"
        },
        "response": {
          "error": "Tool call 'run_script' was cancelled."
        },
        "execution_time": 0.0009968280792236328,
        "is_functional_test": true
      },
      {
        "case_name": "Special Characters in Script Name",
        "purpose": "验证脚本名称中包含特殊字符时是否仍能正常执行。",
        "args": {
          "script_name": "script@#_test.py",
          "script_content": "a = 2 + 3\nstr(a)"
        },
        "response": {
          "error": "Tool call 'run_script' was cancelled."
        },
        "execution_time": 0.00099945068359375,
        "is_functional_test": true
      },
      {
        "case_name": "Missing Script Name Parameter",
        "purpose": "验证script_name参数为必填项，缺失时报错。",
        "args": {
          "script_content": "print('Hello')"
        },
        "response": {
          "error": "Tool call 'run_script' was cancelled."
        },
        "execution_time": 0.00099945068359375,
        "is_functional_test": false
      },
      {
        "case_name": "Missing Script Content Parameter",
        "purpose": "验证script_content参数为必填项，缺失时报错。",
        "args": {
          "script_name": "missing_content_script.py"
        },
        "response": {
          "error": "Tool call 'run_script' was cancelled."
        },
        "execution_time": 0.0010006427764892578,
        "is_functional_test": false
      }
    ]
  },
  "total_cases": 24
}