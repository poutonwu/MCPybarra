{
  "server_name": "text_file_mcp_server",
  "parent_dir": "metaGPT-qwen-plus",
  "report_name": "metaGPT-qwen-plus-text_file_mcp_server",
  "server_path": "workspace\\metaGPT-servers\\metaGPT-qwen-plus\\text_file_mcp_server.py",
  "timestamp": "2025-07-14T11:11:36.542038",
  "tools": [
    {
      "name": "get_text_file_contents",
      "description": "\n    读取多个文本文件内容，支持按行范围读取并返回文件哈希值。\n\n    Args:\n        file_paths: 要读取的文件路径列表。\n        start_line: 开始行号（可选）。如果指定，则必须同时指定 end_line。\n        end_line: 结束行号（可选）。如果指定，则必须同时指定 start_line。\n\n    Returns:\n        一个包含文件内容和哈希值的字典。\n\n    Raises:\n        ValueError: 如果文件不存在或行号范围无效。\n        RuntimeError: 如果读取文件时发生错误。\n    ",
      "args_schema": {
        "properties": {
          "file_paths": {
            "items": {},
            "title": "File Paths",
            "type": "array"
          },
          "start_line": {
            "default": null,
            "title": "Start Line",
            "type": "integer"
          },
          "end_line": {
            "default": null,
            "title": "End Line",
            "type": "integer"
          }
        },
        "required": [
          "file_paths"
        ],
        "title": "get_text_file_contentsArguments",
        "type": "object"
      }
    },
    {
      "name": "create_text_file",
      "description": "\n    创建新文本文件并写入内容。\n\n    Args:\n        file_path: 要创建的文件路径。\n        content: 要写入的内容。\n\n    Returns:\n        一个包含操作结果和文件哈希值的字典。\n\n    Raises:\n        ValueError: 如果文件已经存在。\n        RuntimeError: 如果创建文件时发生错误。\n    ",
      "args_schema": {
        "properties": {
          "file_path": {
            "title": "File Path",
            "type": "string"
          },
          "content": {
            "title": "Content",
            "type": "string"
          }
        },
        "required": [
          "file_path",
          "content"
        ],
        "title": "create_text_fileArguments",
        "type": "object"
      }
    },
    {
      "name": "append_text_file_contents",
      "description": "\n    向现有文本文件追加内容。\n\n    Args:\n        file_path: 要追加内容的文件路径。\n        content: 要追加的内容。\n        expected_hash: 文件的预期哈希值（可选）。如果提供，将验证文件内容与哈希值匹配。\n\n    Returns:\n        一个包含操作结果和新文件哈希值的字典。\n\n    Raises:\n        ValueError: 如果文件不存在或哈希验证失败。\n        RuntimeError: 如果追加内容时发生错误。\n    ",
      "args_schema": {
        "properties": {
          "file_path": {
            "title": "File Path",
            "type": "string"
          },
          "content": {
            "title": "Content",
            "type": "string"
          },
          "expected_hash": {
            "default": null,
            "title": "Expected Hash",
            "type": "string"
          }
        },
        "required": [
          "file_path",
          "content"
        ],
        "title": "append_text_file_contentsArguments",
        "type": "object"
      }
    },
    {
      "name": "delete_text_file_contents",
      "description": "\n    删除文本文件中特定范围的内容。\n\n    Args:\n        file_path: 要修改的文件路径。\n        start_line: 开始行号（包括）。\n        end_line: 结束行号（包括）。\n        expected_hash: 文件的预期哈希值（可选）。如果提供，将验证文件内容与哈希值匹配。\n\n    Returns:\n        一个包含操作结果和新文件哈希值的字典。\n\n    Raises:\n        ValueError: 如果文件不存在、行号范围无效或哈希验证失败。\n        RuntimeError: 如果删除内容时发生错误。\n    ",
      "args_schema": {
        "properties": {
          "file_path": {
            "title": "File Path",
            "type": "string"
          },
          "start_line": {
            "title": "Start Line",
            "type": "integer"
          },
          "end_line": {
            "title": "End Line",
            "type": "integer"
          },
          "expected_hash": {
            "default": null,
            "title": "Expected Hash",
            "type": "string"
          }
        },
        "required": [
          "file_path",
          "start_line",
          "end_line"
        ],
        "title": "delete_text_file_contentsArguments",
        "type": "object"
      }
    },
    {
      "name": "insert_text_file_contents",
      "description": "\n    在文本文件的指定位置插入内容。\n\n    Args:\n        file_path: 要修改的文件路径。\n        line_number: 插入位置的行号（从1开始计数）。\n        content: 要插入的内容。\n        expected_hash: 文件的预期哈希值（可选）。如果提供，将验证文件内容与哈希值匹配。\n\n    Returns:\n        一个包含操作结果和新文件哈希值的字典。\n\n    Raises:\n        ValueError: 如果文件不存在、行号无效或哈希验证失败。\n        RuntimeError: 如果插入内容时发生错误。\n    ",
      "args_schema": {
        "properties": {
          "file_path": {
            "title": "File Path",
            "type": "string"
          },
          "line_number": {
            "title": "Line Number",
            "type": "integer"
          },
          "content": {
            "title": "Content",
            "type": "string"
          },
          "expected_hash": {
            "default": null,
            "title": "Expected Hash",
            "type": "string"
          }
        },
        "required": [
          "file_path",
          "line_number",
          "content"
        ],
        "title": "insert_text_file_contentsArguments",
        "type": "object"
      }
    },
    {
      "name": "patch_text_file_contents",
      "description": "\n    应用精确修改到文本文件，并支持哈希验证。\n\n    Args:\n        file_path: 要修改的文件路径。\n        old_content: 需要被替换的旧内容。\n        new_content: 替换的新内容。\n        expected_hash: 文件的预期哈希值（可选）。如果提供，将验证文件内容与哈希值匹配。\n\n    Returns:\n        一个包含操作结果和新文件哈希值的字典。\n\n    Raises:\n        ValueError: 如果文件不存在、旧内容不匹配或哈希验证失败。\n        RuntimeError: 如果修改文件时发生错误。\n    ",
      "args_schema": {
        "properties": {
          "file_path": {
            "title": "File Path",
            "type": "string"
          },
          "old_content": {
            "title": "Old Content",
            "type": "string"
          },
          "new_content": {
            "title": "New Content",
            "type": "string"
          },
          "expected_hash": {
            "default": null,
            "title": "Expected Hash",
            "type": "string"
          }
        },
        "required": [
          "file_path",
          "old_content",
          "new_content"
        ],
        "title": "patch_text_file_contentsArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "create_text_file": [
      {
        "case_name": "创建新文本文件并写入内容",
        "purpose": "验证create_text_file工具能够成功创建一个新文本文件，并正确写入指定内容。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt",
          "content": "This is a test content for the new text file."
        },
        "response": {
          "result": "{\n  \"message\": \"文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\new_test_file.txt 创建成功\",\n  \"hash\": \"4b041406038af8d02e6e26062cefab473d61eda12d152e5d913dd5bb798131dc\"\n}"
        },
        "execution_time": 0.006505489349365234,
        "is_functional_test": true
      },
      {
        "case_name": "尝试覆盖已存在的文件",
        "purpose": "验证当目标路径文件已经存在时，create_text_file是否抛出ValueError异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\sample1.pdf",
          "content": "This should not be written."
        },
        "response": {
          "error": "ToolException: Error executing tool create_text_file: 创建文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\sample1.pdf 已经存在"
        },
        "execution_time": 0.006004810333251953,
        "is_functional_test": false
      },
      {
        "case_name": "使用特殊字符作为文件名",
        "purpose": "测试create_text_file工具对包含特殊字符的文件路径的处理能力。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special@#$.txt",
          "content": "Content with special filename"
        },
        "response": {
          "result": "{\n  \"message\": \"文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\special@#$.txt 创建成功\",\n  \"hash\": \"36eb3b03d13aabaf06087c79339390b166fcc0ae591b53d10074258b86b98a66\"\n}"
        },
        "execution_time": 0.005511760711669922,
        "is_functional_test": false
      },
      {
        "case_name": "写入空内容到新文件",
        "purpose": "验证create_text_file工具可以创建一个内容为空的文本文件。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content_file.txt",
          "content": ""
        },
        "response": {
          "result": "{\n  \"message\": \"文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\empty_content_file.txt 创建成功\",\n  \"hash\": \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\"\n}"
        },
        "execution_time": 0.004997730255126953,
        "is_functional_test": true
      },
      {
        "case_name": "尝试写入受保护系统目录",
        "purpose": "验证create_text_file在尝试向受保护的系统目录写入时是否能正确抛出错误。",
        "args": {
          "file_path": "C:\\Windows\\system32\\test_restricted_write.txt",
          "content": "This write should fail due to system protection."
        },
        "response": {
          "error": "ToolException: Error executing tool create_text_file: 创建文件时发生错误: [Errno 13] Permission denied: 'C:\\\\Windows\\\\system32\\\\test_restricted_write.txt'"
        },
        "execution_time": 0.008526325225830078,
        "is_functional_test": false
      },
      {
        "case_name": "非法文件路径测试",
        "purpose": "验证create_text_file在提供无效或非法文件路径时是否能正确抛出运行时错误。",
        "args": {
          "file_path": "Invalid/Path/With:Illegal*Chars?",
          "content": "This path is invalid and should cause an error."
        },
        "response": {
          "error": "ToolException: Error executing tool create_text_file: 创建文件时发生错误: [Errno 2] No such file or directory: 'Invalid/Path/With:Illegal*Chars?'"
        },
        "execution_time": 0.003513336181640625,
        "is_functional_test": false
      },
      {
        "case_name": "无权限目录创建文件",
        "purpose": "验证create_text_file在用户没有写权限的目录下尝试创建文件是否会失败并抛出RuntimeError。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\readonly_dir\\unwritable_file.txt",
          "content": "Trying to write to a read-only directory"
        },
        "response": {
          "error": "ToolException: Error executing tool create_text_file: 创建文件时发生错误: [Errno 2] No such file or directory: 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\readonly_dir\\\\unwritable_file.txt'"
        },
        "execution_time": 0.0075054168701171875,
        "is_functional_test": false
      }
    ],
    "get_text_file_contents": [
      {
        "case_name": "读取单个文本文件的全部内容",
        "purpose": "验证get_text_file_contents工具能够正确读取一个文本文件的全部内容并返回哈希值。",
        "args": {
          "file_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt"
          ]
        },
        "response": {
          "result": "{\n  \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\new_test_file.txt\": {\n    \"content\": \"This is a test content for the new text file.\",\n    \"hash\": \"4b041406038af8d02e6e26062cefab473d61eda12d152e5d913dd5bb798131dc\"\n  }\n}"
        },
        "execution_time": 0.004999876022338867,
        "is_functional_test": true
      },
      {
        "case_name": "读取多个文本文件的全部内容",
        "purpose": "验证get_text_file_contents工具支持同时读取多个文本文件的全部内容并分别返回哈希值。",
        "args": {
          "file_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt",
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content_file.txt"
          ]
        },
        "response": {
          "result": "{\n  \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\new_test_file.txt\": {\n    \"content\": \"This is a test content for the new text file.\",\n    \"hash\": \"4b041406038af8d02e6e26062cefab473d61eda12d152e5d913dd5bb798131dc\"\n  },\n  \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\empty_content_file.txt\": {\n    \"content\": \"\",\n    \"hash\": \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\"\n  }\n}"
        },
        "execution_time": 0.0050563812255859375,
        "is_functional_test": true
      },
      {
        "case_name": "按行范围读取文本文件内容",
        "purpose": "验证get_text_file_contents工具能够正确读取指定行范围内的文本文件内容。",
        "args": {
          "file_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special@#$.txt"
          ],
          "start_line": 1,
          "end_line": 3
        },
        "response": {
          "error": "ToolException: Error executing tool get_text_file_contents: 读取文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special@#$.txt 的行号范围无效"
        },
        "execution_time": 0.0071680545806884766,
        "is_functional_test": true
      },
      {
        "case_name": "尝试读取非文本文件",
        "purpose": "验证get_text_file_contents工具在尝试读取非文本文件（如图片或PDF）时是否能优雅地处理错误。",
        "args": {
          "file_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\screenshot.png"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool get_text_file_contents: 读取文件时发生错误: 'utf-8' codec can't decode byte 0x89 in position 0: invalid start byte"
        },
        "execution_time": 0.005951642990112305,
        "is_functional_test": false
      },
      {
        "case_name": "读取空文件内容",
        "purpose": "验证get_text_file_contents工具可以正确处理空文本文件的读取请求。",
        "args": {
          "file_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content_file.txt"
          ]
        },
        "response": {
          "result": "{\n  \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\empty_content_file.txt\": {\n    \"content\": \"\",\n    \"hash\": \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\"\n  }\n}"
        },
        "execution_time": 0.0060536861419677734,
        "is_functional_test": true
      },
      {
        "case_name": "尝试读取不存在的文件",
        "purpose": "验证当提供的文件路径不存在时，get_text_file_contents是否抛出ValueError异常。",
        "args": {
          "file_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_file.txt"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool get_text_file_contents: 读取文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_file.txt 不存在"
        },
        "execution_time": 0.005033254623413086,
        "is_functional_test": false
      },
      {
        "case_name": "使用特殊字符作为文件名进行读取",
        "purpose": "测试get_text_file_contents工具对包含特殊字符的文件路径的处理能力。",
        "args": {
          "file_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special@#$.txt"
          ]
        },
        "response": {
          "result": "{\n  \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\special@#$.txt\": {\n    \"content\": \"Content with special filename\",\n    \"hash\": \"36eb3b03d13aabaf06087c79339390b166fcc0ae591b53d10074258b86b98a66\"\n  }\n}"
        },
        "execution_time": 0.003999948501586914,
        "is_functional_test": true
      },
      {
        "case_name": "读取超出实际行数范围的内容",
        "purpose": "验证get_text_file_contents工具在指定的行号范围超出文件实际行数时是否能正确处理。",
        "args": {
          "file_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt"
          ],
          "start_line": 5,
          "end_line": 10
        },
        "response": {
          "error": "ToolException: Error executing tool get_text_file_contents: 读取文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt 的行号范围无效"
        },
        "execution_time": 0.0029993057250976562,
        "is_functional_test": false
      }
    ],
    "append_text_file_contents": [
      {
        "case_name": "向现有文件追加文本内容",
        "purpose": "验证append_text_file_contents工具能够成功向一个已存在的文本文件追加指定内容。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt",
          "content": " This is the appended content."
        },
        "response": {
          "result": "{\n  \"message\": \"内容已成功追加到文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\new_test_file.txt\",\n  \"hash\": \"08573ab6ea9f3b3258303c1fcda8141e67823ee2096c8202e9303593b8c0c1fd\"\n}"
        },
        "execution_time": 0.004510164260864258,
        "is_functional_test": true
      },
      {
        "case_name": "追加空内容到现有文件",
        "purpose": "验证append_text_file_contents工具可以安全地追加空字符串内容到现有文件中，不改变原哈希值。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content_file.txt",
          "content": ""
        },
        "response": {
          "result": "{\n  \"message\": \"内容已成功追加到文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\empty_content_file.txt\",\n  \"hash\": \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\"\n}"
        },
        "execution_time": 0.0049974918365478516,
        "is_functional_test": true
      },
      {
        "case_name": "使用特殊字符追加内容",
        "purpose": "测试append_text_file_contents是否能正确处理包含特殊字符的追加内容。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special@#$.txt",
          "content": "Special characters: @ # $ % & *"
        },
        "response": {
          "result": "{\n  \"message\": \"内容已成功追加到文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\special@#$.txt\",\n  \"hash\": \"23ee8e2f6e416e40a6bd1236408216b1bbe735054e15b867b7e96efed0f2979e\"\n}"
        },
        "execution_time": 0.007257938385009766,
        "is_functional_test": true
      },
      {
        "case_name": "尝试向不存在的文件追加内容",
        "purpose": "验证当目标文件不存在时，append_text_file_contents是否会抛出ValueError异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_file.txt",
          "content": "This should not be written."
        },
        "response": {
          "error": "ToolException: Error executing tool append_text_file_contents: 追加内容到文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_file.txt 不存在"
        },
        "execution_time": 0.005505561828613281,
        "is_functional_test": false
      },
      {
        "case_name": "向只读目录中的文件追加内容",
        "purpose": "验证append_text_file_contents在用户没有写权限的目录下是否能正确抛出错误。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\readonly_dir\\unwritable_file.txt",
          "content": "Trying to append to a read-only directory file."
        },
        "response": {
          "error": "ToolException: Error executing tool append_text_file_contents: 追加内容到文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\readonly_dir\\unwritable_file.txt 不存在"
        },
        "execution_time": 0.00800776481628418,
        "is_functional_test": false
      },
      {
        "case_name": "追加后进行哈希校验",
        "purpose": "验证append_text_file_contents在追加内容后是否能正确计算并返回新哈希，并支持预期哈希验证。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt",
          "content": " Additional hash verified content.",
          "expected_hash": "3e1a80ff2b4f9c5d6a7e9c4e1f2a3d5c6b8e7a9f1e2d3c4b5a6f7e8d9c0b1a2"
        },
        "response": {
          "error": "ToolException: Error executing tool append_text_file_contents: 追加内容到文件时发生错误: 哈希验证失败。当前文件哈希: 08573ab6ea9f3b3258303c1fcda8141e67823ee2096c8202e9303593b8c0c1fd, 预期哈希: 3e1a80ff2b4f9c5d6a7e9c4e1f2a3d5c6b8e7a9f1e2d3c4b5a6f7e8d9c0b1a2"
        },
        "execution_time": 0.007513761520385742,
        "is_functional_test": true
      },
      {
        "case_name": "向受保护系统路径追加内容",
        "purpose": "验证append_text_file_contents在尝试向受保护的系统目录写入时是否能正确抛出权限错误。",
        "args": {
          "file_path": "C:\\Windows\\system32\\test_restricted_append.txt",
          "content": "This append should fail due to system protection."
        },
        "response": {
          "error": "ToolException: Error executing tool append_text_file_contents: 追加内容到文件时发生错误: 文件 C:\\Windows\\system32\\test_restricted_append.txt 不存在"
        },
        "execution_time": 0.0045108795166015625,
        "is_functional_test": false
      },
      {
        "case_name": "非法文件路径追加内容",
        "purpose": "验证append_text_file_contents在提供无效或非法文件路径时是否能正确抛出运行时错误。",
        "args": {
          "file_path": "Invalid/Path<With>:Illegal*Chars?",
          "content": "This path is invalid and should cause an error."
        },
        "response": {
          "error": "ToolException: Error executing tool append_text_file_contents: 追加内容到文件时发生错误: 文件 Invalid/Path<With>:Illegal*Chars? 不存在"
        },
        "execution_time": 0.009218215942382812,
        "is_functional_test": false
      }
    ],
    "insert_text_file_contents": [
      {
        "case_name": "在有效位置插入内容到文本文件",
        "purpose": "验证insert_text_file_contents工具能够在指定行号正确插入内容，并生成新的文件哈希。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt",
          "line_number": 1,
          "content": "Inserted content at line 1",
          "expected_hash": null
        },
        "response": {
          "error": "ToolException: Error executing tool insert_text_file_contents: 1 validation error for insert_text_file_contentsArguments\nexpected_hash\n  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type"
        },
        "execution_time": 0.004515171051025391,
        "is_functional_test": true
      },
      {
        "case_name": "插入内容并验证哈希值",
        "purpose": "验证在插入内容后，文件的哈希值与预期一致。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content_file.txt",
          "line_number": 1,
          "content": "New content for hash validation",
          "expected_hash": "a1d0c6e83f027d9ab62888e7d62026e7e5f5a7c3d9d3d5f5e3e3d9d5c6f3e3d"
        },
        "response": {
          "error": "ToolException: Error executing tool insert_text_file_contents: 插入内容到文件时发生错误: 哈希验证失败。当前文件哈希: e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855, 预期哈希: a1d0c6e83f027d9ab62888e7d62026e7e5f5a7c3d9d3d5f5e3e3d9d5c6f3e3d"
        },
        "execution_time": 0.008003711700439453,
        "is_functional_test": true
      },
      {
        "case_name": "插入内容到文件末尾",
        "purpose": "验证insert_text_file_contents工具能够在文件最后一行之后插入内容。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt",
          "line_number": 2,
          "content": "Inserted at the end of the file"
        },
        "response": {
          "result": "{\n  \"message\": \"内容已成功插入到文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\new_test_file.txt\",\n  \"hash\": \"a034cc1ad9de502dd44a398e9ae1dbc99a5c2dc8c6594b80881d0fb07691c42d\"\n}"
        },
        "execution_time": 0.005006551742553711,
        "is_functional_test": true
      },
      {
        "case_name": "插入空内容",
        "purpose": "验证insert_text_file_contents工具可以插入空内容而不报错。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content_file.txt",
          "line_number": 1,
          "content": ""
        },
        "response": {
          "result": "{\n  \"message\": \"内容已成功插入到文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\empty_content_file.txt\",\n  \"hash\": \"01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b\"\n}"
        },
        "execution_time": 0.004502773284912109,
        "is_functional_test": true
      },
      {
        "case_name": "尝试插入到不存在的文件",
        "purpose": "验证当目标文件不存在时，工具是否抛出ValueError异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_file.txt",
          "line_number": 1,
          "content": "This should not be inserted"
        },
        "response": {
          "error": "ToolException: Error executing tool insert_text_file_contents: 插入内容到文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_file.txt 不存在"
        },
        "execution_time": 0.005008697509765625,
        "is_functional_test": false
      },
      {
        "case_name": "使用非法行号插入内容",
        "purpose": "验证当提供无效行号（如0或负数）时，是否抛出ValueError。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt",
          "line_number": 0,
          "content": "Invalid line number test"
        },
        "response": {
          "error": "ToolException: Error executing tool insert_text_file_contents: 插入内容到文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt 的行号无效"
        },
        "execution_time": 0.011532306671142578,
        "is_functional_test": false
      },
      {
        "case_name": "插入内容到特殊字符文件名",
        "purpose": "验证insert_text_file_contents工具可以处理包含特殊字符的文件路径。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special@#$.txt",
          "line_number": 1,
          "content": "Inserted into special filename"
        },
        "response": {
          "result": "{\n  \"message\": \"内容已成功插入到文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\special@#$.txt\",\n  \"hash\": \"d7648cd94fd7450d8366372af5e27441dc39f16a4cdbe1d798d546ca5c0257a4\"\n}"
        },
        "execution_time": 0.00552678108215332,
        "is_functional_test": true
      },
      {
        "case_name": "尝试写入只读目录",
        "purpose": "验证在没有写权限的目录下插入内容是否会失败并抛出RuntimeError。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\readonly_dir\\unwritable_file.txt",
          "line_number": 1,
          "content": "Trying to write to a read-only directory"
        },
        "response": {
          "error": "ToolException: Error executing tool insert_text_file_contents: 插入内容到文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\readonly_dir\\unwritable_file.txt 不存在"
        },
        "execution_time": 0.008527755737304688,
        "is_functional_test": false
      }
    ],
    "patch_text_file_contents": [
      {
        "case_name": "基本文本文件内容替换",
        "purpose": "验证patch_text_file_contents工具能够成功替换文本文件中的指定内容，并返回操作结果。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt",
          "old_content": "This is a test content for the new text file.",
          "new_content": "This is the updated content after patching."
        },
        "response": {
          "error": "ToolException: Error executing tool patch_text_file_contents: 修改文件内容时发生错误: 未找到需要替换的旧内容: This is a test content for the new text file."
        },
        "execution_time": 0.007005214691162109,
        "is_functional_test": true
      },
      {
        "case_name": "带哈希验证的内容替换",
        "purpose": "验证patch_text_file_contents工具在提供预期哈希值时，能够正确验证文件内容并执行替换。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special@#$.txt",
          "old_content": "Content with special filename",
          "new_content": "Updated content with special filename",
          "expected_hash": "36eb3b03d13aabaf06087c79339390b166fcc0ae591b53d10074258b86b98a66"
        },
        "response": {
          "error": "ToolException: Error executing tool patch_text_file_contents: 修改文件内容时发生错误: 哈希验证失败。当前文件哈希: d7648cd94fd7450d8366372af5e27441dc39f16a4cdbe1d798d546ca5c0257a4, 预期哈希: 36eb3b03d13aabaf06087c79339390b166fcc0ae591b53d10074258b86b98a66"
        },
        "execution_time": 0.00700688362121582,
        "is_functional_test": true
      },
      {
        "case_name": "尝试替换不存在的文件",
        "purpose": "验证当提供的文件路径不存在时，patch_text_file_contents是否抛出ValueError异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_file.txt",
          "old_content": "This content should not exist.",
          "new_content": "This replacement should not happen."
        },
        "response": {
          "error": "ToolException: Error executing tool patch_text_file_contents: 修改文件内容时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_file.txt 不存在"
        },
        "execution_time": 0.004506587982177734,
        "is_functional_test": false
      },
      {
        "case_name": "旧内容不匹配导致替换失败",
        "purpose": "验证当提供的旧内容与文件实际内容不匹配时，patch_text_file_contents是否抛出ValueError异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content_file.txt",
          "old_content": "This content does not exist in the file.",
          "new_content": "This replacement should not occur."
        },
        "response": {
          "error": "ToolException: Error executing tool patch_text_file_contents: 修改文件内容时发生错误: 未找到需要替换的旧内容: This content does not exist in the file."
        },
        "execution_time": 0.003102540969848633,
        "is_functional_test": false
      },
      {
        "case_name": "使用特殊字符进行内容替换",
        "purpose": "测试patch_text_file_contents工具对包含特殊字符的文件路径和内容的处理能力。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special@#$.txt",
          "old_content": "Content with special filename",
          "new_content": "New content with @# special characters!"
        },
        "response": {
          "error": "ToolException: Error executing tool patch_text_file_contents: 修改文件内容时发生错误: 未找到需要替换的旧内容: Content with special filename"
        },
        "execution_time": 0.0075151920318603516,
        "is_functional_test": true
      },
      {
        "case_name": "尝试修改受保护系统目录下的文件",
        "purpose": "验证patch_text_file_contents在尝试修改受保护的系统目录文件时是否能正确抛出权限错误。",
        "args": {
          "file_path": "C:\\Windows\\system32\\test_restricted_write.txt",
          "old_content": "This write should fail due to system protection.",
          "new_content": "This should never be written."
        },
        "response": {
          "error": "ToolException: Error executing tool patch_text_file_contents: 修改文件内容时发生错误: 文件 C:\\Windows\\system32\\test_restricted_write.txt 不存在"
        },
        "execution_time": 0.003997802734375,
        "is_functional_test": false
      },
      {
        "case_name": "非法文件路径修改尝试",
        "purpose": "验证patch_text_file_contents在提供无效或非法文件路径时是否能正确抛出运行时错误。",
        "args": {
          "file_path": "Invalid/Path/With:Illegal*Chars?",
          "old_content": "This path is invalid and should cause an error.",
          "new_content": "Replacement should not happen."
        },
        "response": {
          "error": "ToolException: Error executing tool patch_text_file_contents: 修改文件内容时发生错误: 文件 Invalid/Path/With:Illegal*Chars? 不存在"
        },
        "execution_time": 0.004057407379150391,
        "is_functional_test": false
      },
      {
        "case_name": "无权限目录下的文件修改尝试",
        "purpose": "验证patch_text_file_contents在用户没有写权限的目录下尝试修改文件是否会失败并抛出错误。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\readonly_dir\\unwritable_file.txt",
          "old_content": "Trying to write to a read-only directory",
          "new_content": "This update should not succeed."
        },
        "response": {
          "error": "ToolException: Error executing tool patch_text_file_contents: 修改文件内容时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\readonly_dir\\unwritable_file.txt 不存在"
        },
        "execution_time": 0.004002094268798828,
        "is_functional_test": false
      }
    ],
    "delete_text_file_contents": [
      {
        "case_name": "删除指定范围行内容",
        "purpose": "验证delete_text_file_contents工具能够正确删除指定文本文件中从start_line到end_line的行内容，并返回操作结果。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt",
          "start_line": 1,
          "end_line": 2
        },
        "response": {
          "error": "ToolException: Error executing tool delete_text_file_contents: 删除文件内容时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt 的行号范围无效"
        },
        "execution_time": 0.004000425338745117,
        "is_functional_test": true
      },
      {
        "case_name": "删除单行内容并验证哈希值",
        "purpose": "验证delete_text_file_contents工具能够正确删除指定文件中的某一行内容，并通过提供的expected_hash验证文件内容是否匹配。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special@#$.txt",
          "start_line": 1,
          "end_line": 1,
          "expected_hash": "36eb3b03d13aabaf06087c79339390b166fcc0ae591b53d10074258b86b98a66"
        },
        "response": {
          "error": "ToolException: Error executing tool delete_text_file_contents: 删除文件内容时发生错误: 哈希验证失败。当前文件哈希: d7648cd94fd7450d8366372af5e27441dc39f16a4cdbe1d798d546ca5c0257a4, 预期哈希: 36eb3b03d13aabaf06087c79339390b166fcc0ae591b53d10074258b86b98a66"
        },
        "execution_time": 0.005059003829956055,
        "is_functional_test": true
      },
      {
        "case_name": "尝试删除超出文件实际行数的内容",
        "purpose": "验证delete_text_file_contents工具在指定的行号范围超出文件实际行数时能否抛出错误。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content_file.txt",
          "start_line": 5,
          "end_line": 10
        },
        "response": {
          "error": "ToolException: Error executing tool delete_text_file_contents: 删除文件内容时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content_file.txt 的行号范围无效"
        },
        "execution_time": 0.005995988845825195,
        "is_functional_test": false
      },
      {
        "case_name": "尝试删除受保护系统目录中的文件内容",
        "purpose": "验证delete_text_file_contents工具在尝试修改受保护系统目录下的文件时是否能正确处理权限限制。",
        "args": {
          "file_path": "C:\\Windows\\system32\\test_restricted_write.txt",
          "start_line": 1,
          "end_line": 2
        },
        "response": {
          "error": "ToolException: Error executing tool delete_text_file_contents: 删除文件内容时发生错误: 文件 C:\\Windows\\system32\\test_restricted_write.txt 不存在"
        },
        "execution_time": 0.012230634689331055,
        "is_functional_test": false
      },
      {
        "case_name": "删除空文件内容",
        "purpose": "验证delete_text_file_contents工具在空文件上执行删除操作时的行为是否符合预期。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content_file.txt",
          "start_line": 1,
          "end_line": 1
        },
        "response": {
          "result": "{\n  \"message\": \"文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\empty_content_file.txt 的内容删除成功\",\n  \"hash\": \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\"\n}"
        },
        "execution_time": 0.003970623016357422,
        "is_functional_test": true
      },
      {
        "case_name": "使用非法文件路径进行删除",
        "purpose": "验证delete_text_file_contents工具在提供无效或非法文件路径时是否能正确抛出运行时错误。",
        "args": {
          "file_path": "Invalid/Path/With:Illegal*Chars?",
          "start_line": 1,
          "end_line": 2
        },
        "response": {
          "error": "ToolException: Error executing tool delete_text_file_contents: 删除文件内容时发生错误: 文件 Invalid/Path/With:Illegal*Chars? 不存在"
        },
        "execution_time": 0.003511190414428711,
        "is_functional_test": false
      },
      {
        "case_name": "删除只读目录下的文件内容",
        "purpose": "验证delete_text_file_contents工具在用户没有写权限的目录下尝试修改文件是否会失败并抛出异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\readonly_dir\\unwritable_file.txt",
          "start_line": 1,
          "end_line": 2
        },
        "response": {
          "error": "ToolException: Error executing tool delete_text_file_contents: 删除文件内容时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\readonly_dir\\unwritable_file.txt 不存在"
        },
        "execution_time": 0.007542610168457031,
        "is_functional_test": false
      },
      {
        "case_name": "尝试删除不存在的文件内容",
        "purpose": "验证当提供的文件路径不存在时，delete_text_file_contents是否抛出ValueError异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_file.txt",
          "start_line": 1,
          "end_line": 2
        },
        "response": {
          "error": "ToolException: Error executing tool delete_text_file_contents: 删除文件内容时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_file.txt 不存在"
        },
        "execution_time": 0.004505157470703125,
        "is_functional_test": false
      }
    ]
  },
  "total_cases": 47
}