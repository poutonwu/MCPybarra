{
  "server_name": "server",
  "parent_dir": "refined",
  "report_name": "qwen-plus-mcp_duckduckgo_search_and_cont",
  "server_path": "workspace/pipeline-output-servers/qwen-plus/mcp_duckduckgo_search_and_cont/refined/server.py",
  "timestamp": "2025-07-13T00:51:12.232299",
  "tools": [
    {
      "name": "duck_duck_go_search",
      "description": "\n    在 DuckDuckGo 搜索引擎上根据查询内容自动检索相关信息，并将搜索结果以结构化格式返回\n\n    Args:\n        query: 要搜索的关键词或短语 (必填)\n        max_results: 返回的最大结果数量，默认为5，范围1-10 (可选)\n\n    Returns:\n        包含搜索结果的字典列表，每个字典包含：\n        - title: 搜索结果标题 (string)\n        - link: 结果链接 (string)\n        - snippet: 结果摘要文本 (string)\n        - source: 来源网站域名 (string)\n\n    Raises:\n        ValueError: 如果查询为空或max_results超出范围\n        RuntimeError: 如果搜索失败\n\n    示例:\n        duck_duck_go_search(query=\"Python编程\", max_results=5)\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "duck_duck_go_searchArguments",
        "type": "object"
      }
    },
    {
      "name": "fetch_content",
      "description": "\n    根据提供的网页 URL 抓取并解析该网页的主要文本内容，去除无关元素后返回\n\n    Args:\n        url: 要抓取内容的网页 URL (必填)\n        remove_ads: 是否尝试移除广告内容，默认为 True (可选)\n        timeout: 请求超时时间（秒），默认为 10 (可选)\n\n    Returns:\n        包含网页内容的字典：\n        - title: 网页标题 (string)\n        - content: 清理后的正文内容 (string)\n        - domain: 网站域名 (string)\n        - status_code: HTTP 响应状态码 (int)\n        - word_count: 内容字数统计 (int)\n\n    Raises:\n        ValueError: 如果URL无效\n        httpx.HTTPStatusError: 如果HTTP请求失败\n\n    示例:\n        fetch_content(url=\"https://example.com\", remove_ads=True, timeout=10)\n    ",
      "args_schema": {
        "properties": {
          "url": {
            "title": "Url",
            "type": "string"
          },
          "remove_ads": {
            "default": true,
            "title": "Remove Ads",
            "type": "boolean"
          },
          "timeout": {
            "default": 10,
            "title": "Timeout",
            "type": "integer"
          }
        },
        "required": [
          "url"
        ],
        "title": "fetch_contentArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "duck_duck_go_search": [
      {
        "case_name": "基本搜索功能测试",
        "purpose": "验证duck_duck_go_search工具在正常输入下的基本搜索功能是否正常工作",
        "args": {
          "query": "Python编程",
          "max_results": 5
        },
        "response": {
          "error": "ToolException: Error executing tool duck_duck_go_search: DuckDuckGo搜索失败: https://lite.duckduckgo.com/lite/ 202 Ratelimit"
        },
        "execution_time": 32.24667024612427,
        "is_functional_test": true
      },
      {
        "case_name": "默认参数测试",
        "purpose": "验证当仅提供必填参数时，工具是否使用默认的max_results值",
        "args": {
          "query": "人工智能"
        },
        "response": {
          "error": "ToolException: Error executing tool duck_duck_go_search: DuckDuckGo搜索失败: https://html.duckduckgo.com/html 202 Ratelimit"
        },
        "execution_time": 27.451058626174927,
        "is_functional_test": true
      },
      {
        "case_name": "特殊字符查询测试",
        "purpose": "验证工具能否处理包含特殊字符的查询语句",
        "args": {
          "query": "C++开发技巧",
          "max_results": 3
        },
        "response": {
          "error": "ToolException: Error executing tool duck_duck_go_search: DuckDuckGo搜索失败: https://html.duckduckgo.com/html 202 Ratelimit"
        },
        "execution_time": 22.18443250656128,
        "is_functional_test": true
      },
      {
        "case_name": "空查询测试",
        "purpose": "验证工具对空查询参数的错误处理能力",
        "args": {
          "query": "",
          "max_results": 5
        },
        "response": {
          "error": "ToolException: Error executing tool duck_duck_go_search: 'query' 参数不能为空。"
        },
        "execution_time": 0.05106210708618164,
        "is_functional_test": false
      },
      {
        "case_name": "超出范围的max_results测试",
        "purpose": "验证工具对超过允许范围的max_results参数的处理",
        "args": {
          "query": "网络安全",
          "max_results": 15
        },
        "response": {
          "error": "ToolException: Error executing tool duck_duck_go_search: max_results 必须在1到10之间"
        },
        "execution_time": 0.04803323745727539,
        "is_functional_test": false
      },
      {
        "case_name": "最小结果数测试",
        "purpose": "验证工具是否能正确返回最小数量的结果（1条）",
        "args": {
          "query": "量子计算",
          "max_results": 1
        },
        "response": {
          "error": "ToolException: Error executing tool duck_duck_go_search: DuckDuckGo搜索失败: https://html.duckduckgo.com/html 202 Ratelimit"
        },
        "execution_time": 23.5343120098114,
        "is_functional_test": true
      },
      {
        "case_name": "最大结果数边界测试",
        "purpose": "验证工具是否能正确处理最大允许的max_results值（10条）",
        "args": {
          "query": "机器学习",
          "max_results": 10
        },
        "response": {
          "error": "ToolException: Error executing tool duck_duck_go_search: DuckDuckGo搜索失败: https://lite.duckduckgo.com/lite/ 202 Ratelimit"
        },
        "execution_time": 21.39655065536499,
        "is_functional_test": true
      },
      {
        "case_name": "跨语言搜索测试",
        "purpose": "验证工具是否支持中文以外的语言搜索并返回结构化结果",
        "args": {
          "query": "Artificial Intelligence in Healthcare",
          "max_results": 5
        },
        "response": {
          "error": "ToolException: Error executing tool duck_duck_go_search: DuckDuckGo搜索失败: https://html.duckduckgo.com/html 202 Ratelimit"
        },
        "execution_time": 19.653960704803467,
        "is_functional_test": true
      }
    ],
    "fetch_content": [
      {
        "case_name": "基本抓取功能测试",
        "purpose": "验证fetch_content工具在正常输入下能否成功抓取网页内容并返回结构化数据",
        "args": {
          "url": "https://example.com"
        },
        "response": {
          "result": "{\"title\": \"Example Domain\", \"content\": \"\\n\\nExample Domain\\n\\n\\n\\n\\n\\n\\n\\nExample Domain\\nThis domain is for use in illustrative examples in documents. You may use this\\n    domain in literature without prior coordination or asking for permission.\\nMore information...\\n\\n\\n\\n\", \"domain\": \"example.com\", \"status_code\": 200, \"word_count\": 30}"
        },
        "execution_time": 8.484693765640259,
        "is_functional_test": true
      },
      {
        "case_name": "默认参数remove_ads测试",
        "purpose": "验证当未指定remove_ads参数时是否默认启用广告移除功能",
        "args": {
          "url": "https://example.com"
        },
        "response": {
          "result": "{\"title\": \"Example Domain\", \"content\": \"\\n\\nExample Domain\\n\\n\\n\\n\\n\\n\\n\\nExample Domain\\nThis domain is for use in illustrative examples in documents. You may use this\\n    domain in literature without prior coordination or asking for permission.\\nMore information...\\n\\n\\n\\n\", \"domain\": \"example.com\", \"status_code\": 200, \"word_count\": 30}"
        },
        "execution_time": 4.935517072677612,
        "is_functional_test": true
      },
      {
        "case_name": "自定义timeout参数测试",
        "purpose": "验证timeout参数能否正确设置请求超时时间",
        "args": {
          "url": "https://example.com",
          "timeout": 15
        },
        "response": {
          "result": "{\"title\": \"Example Domain\", \"content\": \"\\n\\nExample Domain\\n\\n\\n\\n\\n\\n\\n\\nExample Domain\\nThis domain is for use in illustrative examples in documents. You may use this\\n    domain in literature without prior coordination or asking for permission.\\nMore information...\\n\\n\\n\\n\", \"domain\": \"example.com\", \"status_code\": 200, \"word_count\": 30}"
        },
        "execution_time": 2.748978614807129,
        "is_functional_test": true
      },
      {
        "case_name": "禁用广告移除功能测试",
        "purpose": "验证当remove_ads设置为False时是否保留页面广告内容",
        "args": {
          "url": "https://example.com",
          "remove_ads": false
        },
        "response": {
          "result": "{\"title\": \"Example Domain\", \"content\": \"\\n\\nExample Domain\\n\\n\\n\\n\\n\\n\\n\\nExample Domain\\nThis domain is for use in illustrative examples in documents. You may use this\\n    domain in literature without prior coordination or asking for permission.\\nMore information...\\n\\n\\n\\n\", \"domain\": \"example.com\", \"status_code\": 200, \"word_count\": 30}"
        },
        "execution_time": 2.7811405658721924,
        "is_functional_test": true
      },
      {
        "case_name": "无效URL测试",
        "purpose": "验证工具对格式错误的URL的异常处理能力",
        "args": {
          "url": "htp:/invalid-url-format"
        },
        "response": {
          "error": "ToolException: Error executing tool fetch_content: URL 必须以 http:// 或 https:// 开头"
        },
        "execution_time": 0.009470939636230469,
        "is_functional_test": false
      },
      {
        "case_name": "404页面抓取测试",
        "purpose": "验证工具对HTTP 404响应的处理能力",
        "args": {
          "url": "https://example.com/nonexistent-page"
        },
        "response": {
          "result": "{\"title\": \"\", \"content\": \"内容抓取失败: \", \"domain\": \"\", \"status_code\": 0, \"word_count\": 0}"
        },
        "execution_time": 11.137393951416016,
        "is_functional_test": false
      },
      {
        "case_name": "特殊字符URL测试",
        "purpose": "验证工具能否正确处理包含特殊字符的URL",
        "args": {
          "url": "https://example.com/path?query=中文&param=value#fragment"
        },
        "response": {
          "result": "{\"title\": \"\", \"content\": \"HTTP请求失败: Client error '404 Not Found' for url 'https://example.com/path?query=%E4%B8%AD%E6%96%87&param=value#fragment'\\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404\", \"domain\": \"\", \"status_code\": 404, \"word_count\": 0}"
        },
        "execution_time": 3.0576207637786865,
        "is_functional_test": true
      },
      {
        "case_name": "最小超时边界测试",
        "purpose": "验证工具对最小允许的timeout值的处理",
        "args": {
          "url": "https://example.com",
          "timeout": 1
        },
        "response": {
          "result": "{\"title\": \"\", \"content\": \"内容抓取失败: \", \"domain\": \"\", \"status_code\": 0, \"word_count\": 0}"
        },
        "execution_time": 1.7249343395233154,
        "is_functional_test": true
      }
    ]
  },
  "total_cases": 16
}