{
  "server_name": "tavily_search_server",
  "parent_dir": "metaGPT-qwen-plus",
  "report_name": "metaGPT-qwen-plus-tavily_search_server",
  "server_path": "workspace\\metaGPT-servers\\metaGPT-qwen-plus\\tavily_search_server.py",
  "timestamp": "2025-07-14T10:46:28.734509",
  "tools": [
    {
      "name": "tavily_web_search",
      "description": "\n    使用Tavily API进行全面的网络搜索，支持基础或高级搜索深度，可通过包含或排除特定域名精确控制搜索范围，\n    并返回结构化的网页内容。\n\n    Args:\n        query: 搜索查询字符串 (必填)。\n        search_depth: 搜索深度，可选值为 \"basic\" 或 \"advanced\" (默认值为 \"advanced\")。\n        include_domains: 包含的域名列表 (可选)。\n        exclude_domains: 排除的域名列表 (可选)。\n        max_results: 返回的最大结果数，必须是1到10之间的整数 (默认值为5)。\n\n    Returns:\n        一个包含搜索结果的JSON格式字符串，每个结果包括标题、URL和摘要。\n\n    Raises:\n        ValueError: 如果参数无效。\n        httpx.HTTPStatusError: 如果API请求失败。\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "search_depth": {
            "default": "advanced",
            "title": "Search Depth",
            "type": "string"
          },
          "include_domains": {
            "default": null,
            "items": {},
            "title": "Include Domains",
            "type": "array"
          },
          "exclude_domains": {
            "default": null,
            "items": {},
            "title": "Exclude Domains",
            "type": "array"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_web_searchArguments",
        "type": "object"
      }
    },
    {
      "name": "tavily_answer_search",
      "description": "\n    使用Tavily API根据查询内容直接生成回答并附带支持证据，适用于需要具体答案的问题，\n    默认使用高级搜索深度。\n\n    Args:\n        query: 查询字符串 (必填)。\n        search_depth: 搜索深度，可选值为 \"basic\" 或 \"advanced\" (默认值为 \"advanced\")。\n        max_results: 返回的最大结果数，必须是1到5之间的整数 (默认值为3)。\n\n    Returns:\n        一个包含答案和相关证据的JSON格式字符串。\n\n    Raises:\n        ValueError: 如果参数无效。\n        httpx.HTTPStatusError: 如果API请求失败。\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "search_depth": {
            "default": "advanced",
            "title": "Search Depth",
            "type": "string"
          },
          "max_results": {
            "default": 3,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_answer_searchArguments",
        "type": "object"
      }
    },
    {
      "name": "tavily_news_search",
      "description": "\n    使用Tavily API专门搜索近期新闻文章，支持限定查询时效性（最多可追溯365天），\n    并可指定包含或排除的新闻源。\n\n    Args:\n        query: 新闻搜索查询字符串 (必填)。\n        days: 查询时效性，必须是1到365之间的整数 (默认值为7)。\n        include_sources: 包含的新闻源列表 (可选)。\n        exclude_sources: 排除的新闻源列表 (可选)。\n        max_results: 返回的最大结果数，必须是1到10之间的整数 (默认值为5)。\n\n    Returns:\n        一个包含新闻结果的JSON格式字符串，每个结果包括标题、URL、摘要和来源。\n\n    Raises:\n        ValueError: 如果参数无效。\n        httpx.HTTPStatusError: 如果API请求失败。\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "days": {
            "default": 7,
            "title": "Days",
            "type": "integer"
          },
          "include_sources": {
            "default": null,
            "items": {},
            "title": "Include Sources",
            "type": "array"
          },
          "exclude_sources": {
            "default": null,
            "items": {},
            "title": "Exclude Sources",
            "type": "array"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_news_searchArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "tavily_web_search": [
      {
        "case_name": "Basic Web Search",
        "purpose": "验证基础网络搜索功能是否正常，使用默认参数进行简单查询。",
        "args": {
          "query": "artificial intelligence"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: Client error '404 Not Found' for url 'https://api.tavily.com/search/web'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"
        },
        "execution_time": 2.0271174907684326,
        "is_functional_test": true
      },
      {
        "case_name": "Advanced Web Search",
        "purpose": "测试高级搜索深度是否能返回更精确的结果。",
        "args": {
          "query": "self-driving car technology",
          "search_depth": "advanced"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: Client error '404 Not Found' for url 'https://api.tavily.com/search/web'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"
        },
        "execution_time": 1.755899429321289,
        "is_functional_test": true
      },
      {
        "case_name": "Search With Included Domains",
        "purpose": "验证工具能否正确限制在指定域名中搜索结果。",
        "args": {
          "query": "climate change",
          "include_domains": [
            "nytimes.com",
            "scientificamerican.com"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: Client error '404 Not Found' for url 'https://api.tavily.com/search/web'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"
        },
        "execution_time": 1.778947114944458,
        "is_functional_test": true
      },
      {
        "case_name": "Search With Excluded Domains",
        "purpose": "测试排除特定域名后的搜索结果是否有效。",
        "args": {
          "query": "quantum computing",
          "exclude_domains": [
            "wikipedia.org",
            "reddit.com"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: Client error '404 Not Found' for url 'https://api.tavily.com/search/web'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"
        },
        "execution_time": 1.8664116859436035,
        "is_functional_test": true
      },
      {
        "case_name": "Max Results Boundary Test",
        "purpose": "验证最大结果数的边界值是否处理正确（最大值）。",
        "args": {
          "query": "blockchain applications",
          "max_results": 10
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: Client error '404 Not Found' for url 'https://api.tavily.com/search/web'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"
        },
        "execution_time": 1.8856878280639648,
        "is_functional_test": true
      },
      {
        "case_name": "Min Results Boundary Test",
        "purpose": "验证最小结果数的边界值是否处理正确（最小值）。",
        "args": {
          "query": "renewable energy",
          "max_results": 1
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: Client error '404 Not Found' for url 'https://api.tavily.com/search/web'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"
        },
        "execution_time": 1.820011854171753,
        "is_functional_test": true
      },
      {
        "case_name": "Invalid Query Input",
        "purpose": "测试空查询字符串时的错误处理机制。",
        "args": {
          "query": ""
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: 查询内容不能为空。"
        },
        "execution_time": 0.004000186920166016,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Max Results Value",
        "purpose": "验证当 max_results 超出允许范围时是否抛出错误。",
        "args": {
          "query": "machine learning",
          "max_results": 11
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: 无效的结果数量: 11。必须是1到10之间的整数。"
        },
        "execution_time": 0.0067479610443115234,
        "is_functional_test": false
      }
    ],
    "tavily_answer_search": [
      {
        "case_name": "Basic Answer Search",
        "purpose": "验证使用默认参数进行基本查询是否能正确返回答案和证据。",
        "args": {
          "query": "What is artificial intelligence?"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: Client error '404 Not Found' for url 'https://api.tavily.com/search/answer'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"
        },
        "execution_time": 1.7953011989593506,
        "is_functional_test": true
      },
      {
        "case_name": "Advanced Search Depth Test",
        "purpose": "测试高级搜索深度是否能提供更精确的答案和相关证据。",
        "args": {
          "query": "How does quantum computing work?",
          "search_depth": "advanced"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: Client error '404 Not Found' for url 'https://api.tavily.com/search/answer'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"
        },
        "execution_time": 1.938826084136963,
        "is_functional_test": true
      },
      {
        "case_name": "Max Results Boundary - Upper Limit",
        "purpose": "验证最大结果数的上限值（5）是否被正确处理。",
        "args": {
          "query": "Applications of blockchain technology",
          "max_results": 5
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: Client error '404 Not Found' for url 'https://api.tavily.com/search/answer'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"
        },
        "execution_time": 1.7869865894317627,
        "is_functional_test": true
      },
      {
        "case_name": "Max Results Boundary - Lower Limit",
        "purpose": "验证最小结果数的下限值（1）是否被正确处理。",
        "args": {
          "query": "Impact of climate change on biodiversity",
          "max_results": 1
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: Client error '404 Not Found' for url 'https://api.tavily.com/search/answer'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"
        },
        "execution_time": 1.9018480777740479,
        "is_functional_test": true
      },
      {
        "case_name": "Invalid Query Input",
        "purpose": "测试空查询字符串时是否抛出适当的错误信息。",
        "args": {
          "query": ""
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: 查询内容不能为空。"
        },
        "execution_time": 0.00699925422668457,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Max Results Value",
        "purpose": "验证当 max_results 超出允许范围时是否抛出错误。",
        "args": {
          "query": "Machine learning algorithms",
          "max_results": 6
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: 无效的结果数量: 6。必须是1到5之间的整数。"
        },
        "execution_time": 0.011531591415405273,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters in Query",
        "purpose": "测试包含特殊字符的查询是否能被正确处理。",
        "args": {
          "query": "What's the future of AI?@#"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: Client error '404 Not Found' for url 'https://api.tavily.com/search/answer'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"
        },
        "execution_time": 1.8366069793701172,
        "is_functional_test": true
      },
      {
        "case_name": "API Failure Simulation",
        "purpose": "模拟API调用失败场景，验证工具是否能正确抛出HTTP异常。",
        "args": {
          "query": "Test API failure scenario"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: Client error '404 Not Found' for url 'https://api.tavily.com/search/answer'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"
        },
        "execution_time": 1.818354606628418,
        "is_functional_test": false
      }
    ],
    "tavily_news_search": [
      {
        "case_name": "Basic News Search",
        "purpose": "验证使用默认参数进行基本新闻搜索是否能正常工作。",
        "args": {
          "query": "artificial intelligence"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: Client error '404 Not Found' for url 'https://api.tavily.com/search/news'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"
        },
        "execution_time": 1.8226189613342285,
        "is_functional_test": true
      },
      {
        "case_name": "News Search With Custom Days",
        "purpose": "测试指定时效性的新闻搜索功能，确保返回30天内的新闻。",
        "args": {
          "query": "climate change",
          "days": 30
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: Client error '404 Not Found' for url 'https://api.tavily.com/search/news'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"
        },
        "execution_time": 1.769202470779419,
        "is_functional_test": true
      },
      {
        "case_name": "News Search With Include Sources",
        "purpose": "验证包含特定新闻源的搜索是否有效。",
        "args": {
          "query": "blockchain technology",
          "include_sources": [
            "techcrunch.com",
            "theverge.com"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: Client error '404 Not Found' for url 'https://api.tavily.com/search/news'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"
        },
        "execution_time": 3.060541868209839,
        "is_functional_test": true
      },
      {
        "case_name": "News Search With Exclude Sources",
        "purpose": "测试排除指定新闻源后的搜索结果是否正确过滤。",
        "args": {
          "query": "quantum computing",
          "exclude_sources": [
            "wikipedia.org",
            "reddit.com"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: Client error '404 Not Found' for url 'https://api.tavily.com/search/news'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"
        },
        "execution_time": 1.8880813121795654,
        "is_functional_test": true
      },
      {
        "case_name": "Max Results Boundary - Upper Limit",
        "purpose": "验证最大结果数上限（10）是否被正确处理。",
        "args": {
          "query": "AI ethics",
          "max_results": 10
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: Client error '404 Not Found' for url 'https://api.tavily.com/search/news'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"
        },
        "execution_time": 1.9153072834014893,
        "is_functional_test": true
      },
      {
        "case_name": "Max Results Boundary - Lower Limit",
        "purpose": "验证最小结果数下限（1）是否被正确处理。",
        "args": {
          "query": "renewable energy",
          "max_results": 1
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: Client error '404 Not Found' for url 'https://api.tavily.com/search/news'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"
        },
        "execution_time": 1.8157188892364502,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Query Input Test",
        "purpose": "测试空查询字符串时是否抛出适当错误。",
        "args": {
          "query": ""
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: 查询内容不能为空。"
        },
        "execution_time": 0.00380706787109375,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Max Results Value",
        "purpose": "验证当 max_results 超出允许范围时是否抛出错误。",
        "args": {
          "query": "machine learning",
          "max_results": 11
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: 无效的结果数量: 11。必须是1到10之间的整数。"
        },
        "execution_time": 0.0028018951416015625,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters in Query",
        "purpose": "测试包含特殊字符的查询是否能被正确处理。",
        "args": {
          "query": "What's the future of AI?@#"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: Client error '404 Not Found' for url 'https://api.tavily.com/search/news'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"
        },
        "execution_time": 1.8293061256408691,
        "is_functional_test": true
      },
      {
        "case_name": "API Failure Simulation",
        "purpose": "模拟API调用失败场景，验证工具是否能正确抛出HTTP异常。",
        "args": {
          "query": "simulate API failure"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: Client error '404 Not Found' for url 'https://api.tavily.com/search/news'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"
        },
        "execution_time": 1.842421293258667,
        "is_functional_test": false
      },
      {
        "case_name": "Security Test - Command Injection Attempt",
        "purpose": "测试是否存在命令注入漏洞，传入潜在危险的查询内容。",
        "args": {
          "query": "test; rm -rf /"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: Client error '404 Not Found' for url 'https://api.tavily.com/search/news'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"
        },
        "execution_time": 1.8145966529846191,
        "is_functional_test": false
      },
      {
        "case_name": "Security Test - XSS Attempt",
        "purpose": "测试是否对跨站脚本攻击有防护机制。",
        "args": {
          "query": "<script>alert('xss')</script>"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: Client error '404 Not Found' for url 'https://api.tavily.com/search/news'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"
        },
        "execution_time": 1.8196125030517578,
        "is_functional_test": false
      }
    ]
  },
  "total_cases": 28
}