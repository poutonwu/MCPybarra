{
  "server_name": "text_file_mcp_server",
  "parent_dir": "metaGPT-qwen-plus",
  "report_name": "metaGPT-qwen-plus-text_file_mcp_server",
  "server_path": "workspace\\metaGPT-servers\\metaGPT-qwen-plus\\text_file_mcp_server.py",
  "timestamp": "2025-07-14T10:46:29.907764",
  "tools": [
    {
      "name": "get_text_file_contents",
      "description": "\n    读取多个文本文件内容，支持按行范围读取并返回文件哈希值。\n\n    Args:\n        file_paths: 要读取的文件路径列表。\n        start_line: 开始行号（可选）。如果指定，则必须同时指定 end_line。\n        end_line: 结束行号（可选）。如果指定，则必须同时指定 start_line。\n\n    Returns:\n        一个包含文件内容和哈希值的字典。\n\n    Raises:\n        ValueError: 如果文件不存在或行号范围无效。\n        RuntimeError: 如果读取文件时发生错误。\n    ",
      "args_schema": {
        "properties": {
          "file_paths": {
            "items": {},
            "title": "File Paths",
            "type": "array"
          },
          "start_line": {
            "default": null,
            "title": "Start Line",
            "type": "integer"
          },
          "end_line": {
            "default": null,
            "title": "End Line",
            "type": "integer"
          }
        },
        "required": [
          "file_paths"
        ],
        "title": "get_text_file_contentsArguments",
        "type": "object"
      }
    },
    {
      "name": "create_text_file",
      "description": "\n    创建新文本文件并写入内容。\n\n    Args:\n        file_path: 要创建的文件路径。\n        content: 要写入的内容。\n\n    Returns:\n        一个包含操作结果和文件哈希值的字典。\n\n    Raises:\n        ValueError: 如果文件已经存在。\n        RuntimeError: 如果创建文件时发生错误。\n    ",
      "args_schema": {
        "properties": {
          "file_path": {
            "title": "File Path",
            "type": "string"
          },
          "content": {
            "title": "Content",
            "type": "string"
          }
        },
        "required": [
          "file_path",
          "content"
        ],
        "title": "create_text_fileArguments",
        "type": "object"
      }
    },
    {
      "name": "append_text_file_contents",
      "description": "\n    向现有文本文件追加内容。\n\n    Args:\n        file_path: 要追加内容的文件路径。\n        content: 要追加的内容。\n        expected_hash: 文件的预期哈希值（可选）。如果提供，将验证文件内容与哈希值匹配。\n\n    Returns:\n        一个包含操作结果和新文件哈希值的字典。\n\n    Raises:\n        ValueError: 如果文件不存在或哈希验证失败。\n        RuntimeError: 如果追加内容时发生错误。\n    ",
      "args_schema": {
        "properties": {
          "file_path": {
            "title": "File Path",
            "type": "string"
          },
          "content": {
            "title": "Content",
            "type": "string"
          },
          "expected_hash": {
            "default": null,
            "title": "Expected Hash",
            "type": "string"
          }
        },
        "required": [
          "file_path",
          "content"
        ],
        "title": "append_text_file_contentsArguments",
        "type": "object"
      }
    },
    {
      "name": "delete_text_file_contents",
      "description": "\n    删除文本文件中特定范围的内容。\n\n    Args:\n        file_path: 要修改的文件路径。\n        start_line: 开始行号（包括）。\n        end_line: 结束行号（包括）。\n        expected_hash: 文件的预期哈希值（可选）。如果提供，将验证文件内容与哈希值匹配。\n\n    Returns:\n        一个包含操作结果和新文件哈希值的字典。\n\n    Raises:\n        ValueError: 如果文件不存在、行号范围无效或哈希验证失败。\n        RuntimeError: 如果删除内容时发生错误。\n    ",
      "args_schema": {
        "properties": {
          "file_path": {
            "title": "File Path",
            "type": "string"
          },
          "start_line": {
            "title": "Start Line",
            "type": "integer"
          },
          "end_line": {
            "title": "End Line",
            "type": "integer"
          },
          "expected_hash": {
            "default": null,
            "title": "Expected Hash",
            "type": "string"
          }
        },
        "required": [
          "file_path",
          "start_line",
          "end_line"
        ],
        "title": "delete_text_file_contentsArguments",
        "type": "object"
      }
    },
    {
      "name": "insert_text_file_contents",
      "description": "\n    在文本文件的指定位置插入内容。\n\n    Args:\n        file_path: 要修改的文件路径。\n        line_number: 插入位置的行号（从1开始计数）。\n        content: 要插入的内容。\n        expected_hash: 文件的预期哈希值（可选）。如果提供，将验证文件内容与哈希值匹配。\n\n    Returns:\n        一个包含操作结果和新文件哈希值的字典。\n\n    Raises:\n        ValueError: 如果文件不存在、行号无效或哈希验证失败。\n        RuntimeError: 如果插入内容时发生错误。\n    ",
      "args_schema": {
        "properties": {
          "file_path": {
            "title": "File Path",
            "type": "string"
          },
          "line_number": {
            "title": "Line Number",
            "type": "integer"
          },
          "content": {
            "title": "Content",
            "type": "string"
          },
          "expected_hash": {
            "default": null,
            "title": "Expected Hash",
            "type": "string"
          }
        },
        "required": [
          "file_path",
          "line_number",
          "content"
        ],
        "title": "insert_text_file_contentsArguments",
        "type": "object"
      }
    },
    {
      "name": "patch_text_file_contents",
      "description": "\n    应用精确修改到文本文件，并支持哈希验证。\n\n    Args:\n        file_path: 要修改的文件路径。\n        old_content: 需要被替换的旧内容。\n        new_content: 替换的新内容。\n        expected_hash: 文件的预期哈希值（可选）。如果提供，将验证文件内容与哈希值匹配。\n\n    Returns:\n        一个包含操作结果和新文件哈希值的字典。\n\n    Raises:\n        ValueError: 如果文件不存在、旧内容不匹配或哈希验证失败。\n        RuntimeError: 如果修改文件时发生错误。\n    ",
      "args_schema": {
        "properties": {
          "file_path": {
            "title": "File Path",
            "type": "string"
          },
          "old_content": {
            "title": "Old Content",
            "type": "string"
          },
          "new_content": {
            "title": "New Content",
            "type": "string"
          },
          "expected_hash": {
            "default": null,
            "title": "Expected Hash",
            "type": "string"
          }
        },
        "required": [
          "file_path",
          "old_content",
          "new_content"
        ],
        "title": "patch_text_file_contentsArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "create_text_file": [
      {
        "case_name": "Basic Text File Creation",
        "purpose": "验证工具能够正确创建一个文本文件并写入指定内容。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt",
          "content": "This is a test content."
        },
        "response": {
          "result": "{\n  \"message\": \"文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\test_output.txt 创建成功\",\n  \"hash\": \"f74d46f5c58d6d0fac6e1dd341dc44e8881cc40fc2c08daec80ec75b902a42db\"\n}"
        },
        "execution_time": 0.005065441131591797,
        "is_functional_test": true
      },
      {
        "case_name": "File Already Exists Error",
        "purpose": "验证当目标文件已存在时，工具是否抛出ValueError异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\sample1.pdf",
          "content": "This should not be written."
        },
        "response": {
          "error": "ToolException: Error executing tool create_text_file: 创建文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\sample1.pdf 已经存在"
        },
        "execution_time": 0.0055084228515625,
        "is_functional_test": false
      },
      {
        "case_name": "Empty Content Handling",
        "purpose": "验证工具在内容为空的情况下是否能成功创建空文件。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content.txt",
          "content": ""
        },
        "response": {
          "result": "{\n  \"message\": \"文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\empty_content.txt 创建成功\",\n  \"hash\": \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\"\n}"
        },
        "execution_time": 0.009859085083007812,
        "is_functional_test": true
      },
      {
        "case_name": "Long File Path Handling",
        "purpose": "验证工具能否处理长路径文件的创建。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\very_long_directory_name_1234567890\\another_long_subdir\\long_file_name_created_by_test.txt",
          "content": "Test content for long path."
        },
        "response": {
          "error": "ToolException: Error executing tool create_text_file: 创建文件时发生错误: [Errno 2] No such file or directory: 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\very_long_directory_name_1234567890\\\\another_long_subdir\\\\long_file_name_created_by_test.txt'"
        },
        "execution_time": 0.0059964656829833984,
        "is_functional_test": true
      },
      {
        "case_name": "Special Characters in File Path",
        "purpose": "验证工具能否处理包含特殊字符的文件路径。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test@!#%&()_+-=目录.txt",
          "content": "Content with special characters in file name."
        },
        "response": {
          "result": "{\n  \"message\": \"文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\test@!#%&()_+-=目录.txt 创建成功\",\n  \"hash\": \"caeafc32236dec89cc7d19cb296d15d7ecf8df50919f2122e65ea380565ffc86\"\n}"
        },
        "execution_time": 0.005007266998291016,
        "is_functional_test": true
      },
      {
        "case_name": "Invalid File Path Security Check",
        "purpose": "验证工具是否拒绝尝试写入系统保护路径（如根目录）。",
        "args": {
          "file_path": "C:\\test_security.txt",
          "content": "Security test content."
        },
        "response": {
          "error": "ToolException: Error executing tool create_text_file: 创建文件时发生错误: [Errno 13] Permission denied: 'C:\\\\test_security.txt'"
        },
        "execution_time": 0.009531974792480469,
        "is_functional_test": false
      },
      {
        "case_name": "Missing Required Parameters",
        "purpose": "验证工具在缺少必要参数时是否抛出错误。",
        "args": {},
        "response": {
          "error": "ToolException: Error executing tool create_text_file: 2 validation errors for create_text_fileArguments\nfile_path\n  Field required [type=missing, input_value={}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing\ncontent\n  Field required [type=missing, input_value={}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing"
        },
        "execution_time": 0.003999471664428711,
        "is_functional_test": false
      }
    ],
    "get_text_file_contents": [
      {
        "case_name": "Basic File Content Reading",
        "purpose": "验证工具能够正确读取单个文本文件的全部内容并返回哈希值。",
        "args": {
          "file_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt"
          ]
        },
        "response": {
          "result": "{\n  \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\test_output.txt\": {\n    \"content\": \"This is a test content.\",\n    \"hash\": \"f74d46f5c58d6d0fac6e1dd341dc44e8881cc40fc2c08daec80ec75b902a42db\"\n  }\n}"
        },
        "execution_time": 0.006554603576660156,
        "is_functional_test": true
      },
      {
        "case_name": "Read Multiple Text Files",
        "purpose": "验证工具能够同时读取多个文本文件的内容和哈希值。",
        "args": {
          "file_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content.txt",
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test@!#%&()_+-=目录.txt"
          ]
        },
        "response": {
          "result": "{\n  \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\empty_content.txt\": {\n    \"content\": \"\",\n    \"hash\": \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\"\n  },\n  \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\test@!#%&()_+-=目录.txt\": {\n    \"content\": \"Content with special characters in file name.\",\n    \"hash\": \"caeafc32236dec89cc7d19cb296d15d7ecf8df50919f2122e65ea380565ffc86\"\n  }\n}"
        },
        "execution_time": 0.008513689041137695,
        "is_functional_test": true
      },
      {
        "case_name": "Line Range Reading Valid Range",
        "purpose": "验证工具支持按行号范围读取文本文件内容。",
        "args": {
          "file_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt"
          ],
          "start_line": 1,
          "end_line": 2
        },
        "response": {
          "error": "ToolException: Error executing tool get_text_file_contents: 读取文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt 的行号范围无效"
        },
        "execution_time": 0.011407852172851562,
        "is_functional_test": true
      },
      {
        "case_name": "Empty File Handling",
        "purpose": "验证工具能正确处理空文件的读取，返回空内容及对应哈希。",
        "args": {
          "file_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content.txt"
          ]
        },
        "response": {
          "result": "{\n  \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\empty_content.txt\": {\n    \"content\": \"\",\n    \"hash\": \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\"\n  }\n}"
        },
        "execution_time": 0.01103353500366211,
        "is_functional_test": true
      },
      {
        "case_name": "Invalid Line Range Error",
        "purpose": "验证当指定的行号范围无效（如负数）时是否抛出ValueError异常。",
        "args": {
          "file_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt"
          ],
          "start_line": -1,
          "end_line": 0
        },
        "response": {
          "error": "ToolException: Error executing tool get_text_file_contents: 读取文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt 的行号范围无效"
        },
        "execution_time": 0.012735605239868164,
        "is_functional_test": false
      },
      {
        "case_name": "File Not Exist Error",
        "purpose": "验证当指定的文件不存在时是否抛出ValueError异常。",
        "args": {
          "file_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\non_existent_file.txt"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool get_text_file_contents: 读取文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\non_existent_file.txt 不存在"
        },
        "execution_time": 0.011264324188232422,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters in File Path",
        "purpose": "验证工具能否正确处理包含特殊字符的文件路径进行读取。",
        "args": {
          "file_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test@!#%&()_+-=目录.txt"
          ]
        },
        "response": {
          "result": "{\n  \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\test@!#%&()_+-=目录.txt\": {\n    \"content\": \"Content with special characters in file name.\",\n    \"hash\": \"caeafc32236dec89cc7d19cb296d15d7ecf8df50919f2122e65ea380565ffc86\"\n  }\n}"
        },
        "execution_time": 0.014525413513183594,
        "is_functional_test": true
      },
      {
        "case_name": "Partial Read with End Line Only",
        "purpose": "验证只提供 end_line 而不提供 start_line 时是否抛出参数验证错误。",
        "args": {
          "file_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt"
          ],
          "end_line": 5
        },
        "response": {
          "result": "{\n  \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\test_output.txt\": {\n    \"content\": \"This is a test content.\",\n    \"hash\": \"f74d46f5c58d6d0fac6e1dd341dc44e8881cc40fc2c08daec80ec75b902a42db\"\n  }\n}"
        },
        "execution_time": 0.013766765594482422,
        "is_functional_test": false
      }
    ],
    "append_text_file_contents": [
      {
        "case_name": "Basic Text Append Operation",
        "purpose": "验证工具能够正确向现有文本文件追加内容并返回新哈希值。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt",
          "content": "Appended content."
        },
        "response": {
          "error": "ToolException: Error executing tool append_text_file_contents: 追加内容到文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt 不存在"
        },
        "execution_time": 0.003999471664428711,
        "is_functional_test": true
      },
      {
        "case_name": "Append with Expected Hash Validation",
        "purpose": "验证工具在提供expected_hash时能正确校验追加后文件的哈希值。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content.txt",
          "content": "New line added.",
          "expected_hash": "a1d0c6e83f027d9ab64fd279ae524b553fa6777a"
        },
        "response": {
          "error": "ToolException: Error executing tool append_text_file_contents: 追加内容到文件时发生错误: 哈希验证失败。当前文件哈希: e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855, 预期哈希: a1d0c6e83f027d9ab64fd279ae524b553fa6777a"
        },
        "execution_time": 0.004510641098022461,
        "is_functional_test": true
      },
      {
        "case_name": "File Not Exist Error",
        "purpose": "验证当目标文件不存在时是否抛出ValueError异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\non_existent_file.txt",
          "content": "This should not be written."
        },
        "response": {
          "error": "ToolException: Error executing tool append_text_file_contents: 追加内容到文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\non_existent_file.txt 不存在"
        },
        "execution_time": 0.0033884048461914062,
        "is_functional_test": false
      },
      {
        "case_name": "Hash Verification Failure",
        "purpose": "验证当提供的expected_hash与实际文件哈希不匹配时是否抛出错误。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt",
          "content": "Another line appended.",
          "expected_hash": "invalid_hash_value_123"
        },
        "response": {
          "error": "ToolException: Error executing tool append_text_file_contents: 追加内容到文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt 不存在"
        },
        "execution_time": 0.004000425338745117,
        "is_functional_test": false
      },
      {
        "case_name": "Empty Content Append",
        "purpose": "验证工具能否处理空内容追加，即不改变文件内容。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content.txt",
          "content": ""
        },
        "response": {
          "result": "{\n  \"message\": \"内容已成功追加到文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\empty_content.txt\",\n  \"hash\": \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\"\n}"
        },
        "execution_time": 0.0039861202239990234,
        "is_functional_test": true
      },
      {
        "case_name": "Special Characters in File Path",
        "purpose": "验证工具能否处理包含特殊字符的文件路径进行追加操作。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test@!#%&()_+-=目录.txt",
          "content": "Appending special path file."
        },
        "response": {
          "error": "ToolException: Error executing tool append_text_file_contents: 追加内容到文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test@!#%&()_+-=目录.txt 不存在"
        },
        "execution_time": 0.005666255950927734,
        "is_functional_test": true
      },
      {
        "case_name": "Long File Path Handling",
        "purpose": "验证工具能否处理长路径文件的追加操作。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\very_long_directory_name_1234567890\\another_long_subdir\\long_file_name_created_by_test.txt",
          "content": "Appending to long path file."
        },
        "response": {
          "error": "ToolException: Error executing tool append_text_file_contents: 追加内容到文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\very_long_directory_name_1234567890\\another_long_subdir\\long_file_name_created_by_test.txt 不存在"
        },
        "execution_time": 0.005047321319580078,
        "is_functional_test": true
      },
      {
        "case_name": "Invalid File Path Security Check",
        "purpose": "验证工具是否拒绝尝试写入系统保护路径（如根目录）。",
        "args": {
          "file_path": "C:\\protected_system_file.txt",
          "content": "Security test append content."
        },
        "response": {
          "error": "ToolException: Error executing tool append_text_file_contents: 追加内容到文件时发生错误: 文件 C:\\protected_system_file.txt 不存在"
        },
        "execution_time": 0.0061855316162109375,
        "is_functional_test": false
      }
    ],
    "insert_text_file_contents": [
      {
        "case_name": "Basic Text Insertion at Middle Line",
        "purpose": "验证工具能够在指定行号正确插入内容，并更新文件哈希值。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content.txt",
          "line_number": 1,
          "content": "Inserted line content."
        },
        "response": {
          "result": "{\n  \"message\": \"内容已成功插入到文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\empty_content.txt\",\n  \"hash\": \"a65a92afec22cd84ff365e9a65a65c81e352f13aae675fe5f5cf4281a410ba38\"\n}"
        },
        "execution_time": 0.00600433349609375,
        "is_functional_test": true
      },
      {
        "case_name": "Insert at Beginning of File",
        "purpose": "验证在文件第一行前插入内容的功能是否正常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content.txt",
          "line_number": 1,
          "content": "First line inserted."
        },
        "response": {
          "result": "{\n  \"message\": \"内容已成功插入到文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\empty_content.txt\",\n  \"hash\": \"67515e061da8a685679481f2955866de78f54a683195aa8e352dd524e66aeb95\"\n}"
        },
        "execution_time": 0.0045087337493896484,
        "is_functional_test": true
      },
      {
        "case_name": "Insert at End of File",
        "purpose": "验证在文件末尾插入内容是否成功。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content.txt",
          "line_number": 2,
          "content": "Last line inserted."
        },
        "response": {
          "result": "{\n  \"message\": \"内容已成功插入到文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\empty_content.txt\",\n  \"hash\": \"c24a528bd0544cf96beda9749cb950721162b672de33940f97c855867e6894b1\"\n}"
        },
        "execution_time": 0.007016897201538086,
        "is_functional_test": true
      },
      {
        "case_name": "Hash Validation After Insertion",
        "purpose": "验证插入操作后生成的文件哈希与预期一致。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content.txt",
          "line_number": 1,
          "content": "Content for hash validation.",
          "expected_hash": "5f98b8d6e473c0a1e3d70f6d5a4b8e3c1f0d7a9e8b4c2d1f0e7a5d4c3b2"
        },
        "response": {
          "error": "ToolException: Error executing tool insert_text_file_contents: 插入内容到文件时发生错误: 哈希验证失败。当前文件哈希: c24a528bd0544cf96beda9749cb950721162b672de33940f97c855867e6894b1, 预期哈希: 5f98b8d6e473c0a1e3d70f6d5a4b8e3c1f0d7a9e8b4c2d1f0e7a5d4c3b2"
        },
        "execution_time": 0.005337715148925781,
        "is_functional_test": true
      },
      {
        "case_name": "Insert Into Non-Existent File",
        "purpose": "验证尝试向不存在的文件中插入内容时是否抛出ValueError异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\non_existent_file.txt",
          "line_number": 1,
          "content": "This should not be inserted."
        },
        "response": {
          "error": "ToolException: Error executing tool insert_text_file_contents: 插入内容到文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\non_existent_file.txt 不存在"
        },
        "execution_time": 0.0040013790130615234,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Line Number Handling",
        "purpose": "验证使用无效行号（如0或负数）插入内容时是否抛出ValueError异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content.txt",
          "line_number": 0,
          "content": "Invalid line number test."
        },
        "response": {
          "error": "ToolException: Error executing tool insert_text_file_contents: 插入内容到文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content.txt 的行号无效"
        },
        "execution_time": 0.004004955291748047,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters in Content",
        "purpose": "验证插入内容包含特殊字符时是否能正常处理。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content.txt",
          "line_number": 1,
          "content": "Special chars: @!#%&()_+-=目录"
        },
        "response": {
          "result": "{\n  \"message\": \"内容已成功插入到文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\empty_content.txt\",\n  \"hash\": \"f44c24045ee6d9c2378a3b950722ce399fba8081b8f71694996b52e231c8d552\"\n}"
        },
        "execution_time": 0.009518623352050781,
        "is_functional_test": true
      },
      {
        "case_name": "Security Check - Insert into Protected Path",
        "purpose": "验证尝试写入系统保护路径（如根目录）是否会触发权限拒绝错误。",
        "args": {
          "file_path": "C:\\protected_insert.txt",
          "line_number": 1,
          "content": "Security violation attempt."
        },
        "response": {
          "error": "ToolException: Error executing tool insert_text_file_contents: 插入内容到文件时发生错误: 文件 C:\\protected_insert.txt 不存在"
        },
        "execution_time": 0.006511688232421875,
        "is_functional_test": false
      }
    ],
    "patch_text_file_contents": [
      {
        "case_name": "Basic Text File Patching",
        "purpose": "验证工具能够正确替换文本文件中的指定内容并返回新哈希值。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt",
          "old_content": "This is a test content.",
          "new_content": "This is the modified test content."
        },
        "response": {
          "error": "ToolException: Error executing tool patch_text_file_contents: 修改文件内容时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt 不存在"
        },
        "execution_time": 0.003999948501586914,
        "is_functional_test": true
      },
      {
        "case_name": "Patch With Hash Validation Success",
        "purpose": "验证工具在提供预期哈希值时，能正确进行哈希校验后再执行修改操作。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content.txt",
          "old_content": "",
          "new_content": "New content after patch",
          "expected_hash": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
        },
        "response": {
          "error": "ToolException: Error executing tool patch_text_file_contents: 修改文件内容时发生错误: 哈希验证失败。当前文件哈希: f44c24045ee6d9c2378a3b950722ce399fba8081b8f71694996b52e231c8d552, 预期哈希: e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
        },
        "execution_time": 0.003000020980834961,
        "is_functional_test": true
      },
      {
        "case_name": "Hash Validation Failure",
        "purpose": "验证当提供的预期哈希与实际文件哈希不匹配时，工具是否抛出ValueError异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt",
          "old_content": "This is a test content.",
          "new_content": "Another modification attempt",
          "expected_hash": "invalid_hash_value"
        },
        "response": {
          "error": "ToolException: Error executing tool patch_text_file_contents: 修改文件内容时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt 不存在"
        },
        "execution_time": 0.0030050277709960938,
        "is_functional_test": false
      },
      {
        "case_name": "File Not Exist Error",
        "purpose": "验证当目标文件不存在时，工具是否抛出ValueError异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\non_existent_file.txt",
          "old_content": "dummy",
          "new_content": "new dummy"
        },
        "response": {
          "error": "ToolException: Error executing tool patch_text_file_contents: 修改文件内容时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\non_existent_file.txt 不存在"
        },
        "execution_time": 0.0029990673065185547,
        "is_functional_test": false
      },
      {
        "case_name": "Old Content Mismatch Error",
        "purpose": "验证当文件中不存在指定的旧内容时，工具是否抛出ValueError异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt",
          "old_content": "Non-existent old content",
          "new_content": "Replacement should not happen"
        },
        "response": {
          "error": "ToolException: Error executing tool patch_text_file_contents: 修改文件内容时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt 不存在"
        },
        "execution_time": 0.004039287567138672,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters in File Path",
        "purpose": "验证工具能否处理包含特殊字符的文件路径进行内容修改。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test@!#%&()_+-=目录.txt",
          "old_content": "Content with special characters in file name.",
          "new_content": "Updated content with special characters in file name."
        },
        "response": {
          "error": "ToolException: Error executing tool patch_text_file_contents: 修改文件内容时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test@!#%&()_+-=目录.txt 不存在"
        },
        "execution_time": 0.003000020980834961,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Old Content Handling",
        "purpose": "验证工具是否拒绝空字符串作为 old_content 参数（语义上不允许）。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content.txt",
          "old_content": "",
          "new_content": "Should not replace empty string as old_content"
        },
        "response": {
          "result": "{\n  \"message\": \"文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\empty_content.txt 内容修改成功\",\n  \"hash\": \"f21203ff02f03690e1b3695c7d7b873e02c8822fe2c2d895d1087d3822bdf55b\"\n}"
        },
        "execution_time": 0.0029997825622558594,
        "is_functional_test": false
      },
      {
        "case_name": "Long File Path Handling",
        "purpose": "验证工具能否处理长路径文件的内容修改。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\very_long_directory_name_1234567890\\another_long_subdir\\long_file_name_created_by_test.txt",
          "old_content": "Test content for long path.",
          "new_content": "Modified test content for long path."
        },
        "response": {
          "error": "ToolException: Error executing tool patch_text_file_contents: 修改文件内容时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\very_long_directory_name_1234567890\\another_long_subdir\\long_file_name_created_by_test.txt 不存在"
        },
        "execution_time": 0.004514217376708984,
        "is_functional_test": true
      }
    ],
    "delete_text_file_contents": [
      {
        "case_name": "Basic Content Deletion Test",
        "purpose": "验证工具能够正确删除指定文本文件中从 start_line 到 end_line 的内容，并返回操作结果。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt",
          "start_line": 1,
          "end_line": 2
        },
        "response": {
          "error": "ToolException: Error executing tool delete_text_file_contents: 删除文件内容时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt 不存在"
        },
        "execution_time": 0.005637407302856445,
        "is_functional_test": true
      },
      {
        "case_name": "Hash Validation After Deletion",
        "purpose": "验证删除内容后，文件的哈希值与提供的 expected_hash 匹配。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt",
          "start_line": 1,
          "end_line": 2,
          "expected_hash": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
        },
        "response": {
          "error": "ToolException: Error executing tool delete_text_file_contents: 删除文件内容时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt 不存在"
        },
        "execution_time": 0.004933357238769531,
        "is_functional_test": true
      },
      {
        "case_name": "Delete First Line Only",
        "purpose": "验证工具可以仅删除第一行内容而不影响其他行。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt",
          "start_line": 1,
          "end_line": 1
        },
        "response": {
          "error": "ToolException: Error executing tool delete_text_file_contents: 删除文件内容时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt 不存在"
        },
        "execution_time": 0.007535696029663086,
        "is_functional_test": true
      },
      {
        "case_name": "Delete Last Line Only",
        "purpose": "验证工具可以仅删除最后一行内容而不影响其他行。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt",
          "start_line": 2,
          "end_line": 2
        },
        "response": {
          "error": "ToolException: Error executing tool delete_text_file_contents: 删除文件内容时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt 不存在"
        },
        "execution_time": 0.005015373229980469,
        "is_functional_test": true
      },
      {
        "case_name": "File Not Exist Error",
        "purpose": "验证当指定的文件不存在时是否抛出 ValueError 异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\non_existent_file.txt",
          "start_line": 1,
          "end_line": 2
        },
        "response": {
          "error": "ToolException: Error executing tool delete_text_file_contents: 删除文件内容时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\non_existent_file.txt 不存在"
        },
        "execution_time": 0.007012367248535156,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Line Range Error",
        "purpose": "验证当指定的行号范围无效（如负数）时是否抛出 ValueError 异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt",
          "start_line": -1,
          "end_line": 0
        },
        "response": {
          "error": "ToolException: Error executing tool delete_text_file_contents: 删除文件内容时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt 不存在"
        },
        "execution_time": 0.0035135746002197266,
        "is_functional_test": false
      },
      {
        "case_name": "Hash Mismatch Error",
        "purpose": "验证当提供的 expected_hash 与实际文件哈希不匹配时是否抛出 ValueError 异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt",
          "start_line": 1,
          "end_line": 2,
          "expected_hash": "invalid_hash_value"
        },
        "response": {
          "error": "ToolException: Error executing tool delete_text_file_contents: 删除文件内容时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_output.txt 不存在"
        },
        "execution_time": 0.004005908966064453,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters in File Path",
        "purpose": "验证工具能否处理包含特殊字符的文件路径进行内容删除。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test@!#%&()_+-=目录.txt",
          "start_line": 1,
          "end_line": 1
        },
        "response": {
          "error": "ToolException: Error executing tool delete_text_file_contents: 删除文件内容时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test@!#%&()_+-=目录.txt 不存在"
        },
        "execution_time": 0.17598748207092285,
        "is_functional_test": true
      }
    ]
  },
  "total_cases": 47
}