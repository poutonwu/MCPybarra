{
  "server_name": "server",
  "parent_dir": "refined",
  "report_name": "gemini-2.5-pro-mcp_academic_paper_search",
  "server_path": "workspace/pipeline-output-servers/gemini-2.5-pro/mcp_academic_paper_search/refined/server.py",
  "timestamp": "2025-07-12T20:38:03.700490",
  "tools": [
    {
      "name": "search_papers",
      "description": "\n    Concurrently searches for academic papers on Semantic Scholar and Crossref\n    and returns a combined list of results. This tool is useful for broad\n    searches across multiple academic databases to get a comprehensive overview\n    of the literature on a given topic.\n\n    Args:\n        query (str): The search keywords for finding papers. This can be a\n            paper title, author names, or general topics.\n        limit (int): The maximum number of papers to return from each source.\n            The total number of results may be up to 2 * limit. Defaults to 10.\n\n    Returns:\n        str: A JSON string representing a list of dictionaries. Each dictionary\n            represents a found paper and contains keys for 'title', 'authors',\n            'year', 'doi', and 'source' (either 'Semantic Scholar' or 'Crossref').\n            If an error occurs, a JSON string with an 'error' key is returned.\n\n    Example:\n        search_papers(query=\"reinforcement learning from human feedback\", limit=5)\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "limit": {
            "default": 10,
            "title": "Limit",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "search_papersArguments",
        "type": "object"
      }
    },
    {
      "name": "fetch_paper_details",
      "description": "\n    Fetches detailed information for a specific paper from either Semantic\n    Scholar or Crossref. This is an async function to better handle API requests.\n\n    Args:\n        paper_id (str): The identifier of the paper. For Crossref, this should\n            be a DOI. For Semantic Scholar, it can be a DOI or its specific ID.\n        source (str): The data source to query. Must be either 'Semantic Scholar'\n            or 'Crossref'.\n\n    Returns:\n        str: A JSON string containing the paper's details, including 'title',\n            'authors', 'abstract', and 'venue'. Returns a JSON object with an\n            'error' key if the paper is not found or an API error occurs.\n\n    Example:\n        fetch_paper_details(paper_id=\"10.1109/5.771073\", source=\"Crossref\")\n    ",
      "args_schema": {
        "properties": {
          "paper_id": {
            "title": "Paper Id",
            "type": "string"
          },
          "source": {
            "title": "Source",
            "type": "string"
          }
        },
        "required": [
          "paper_id",
          "source"
        ],
        "title": "fetch_paper_detailsArguments",
        "type": "object"
      }
    },
    {
      "name": "search_by_topic",
      "description": "\n    Searches for papers on a specific topic, with an optional filter for a\n    range of years. This tool prioritizes Semantic Scholar for its relevance\n    ranking and falls back to Crossref if needed. It's ideal for focused\n    literature reviews within a specific timeframe.\n\n    Args:\n        topic_keywords (str): The topic keywords to search for (e.g., \"quantum computing\").\n        year_range (str, optional): A string representing the year range in\n            \"YYYY-YYYY\" format (e.g., \"2020-2023\"). Defaults to None, which\n            means no year filter is applied.\n        limit (int): The maximum number of results to return. Defaults to 10.\n\n    Returns:\n        str: A JSON string representing a list of dictionaries, where each\n            dictionary is a paper. Returns a JSON object with an 'error' key\n            if an issue occurs.\n\n    Example:\n        search_by_topic(topic_keywords=\"large language models\", year_range=\"2021-2022\", limit=5)\n    ",
      "args_schema": {
        "properties": {
          "topic_keywords": {
            "title": "Topic Keywords",
            "type": "string"
          },
          "year_range": {
            "default": null,
            "title": "Year Range",
            "type": "string"
          },
          "limit": {
            "default": 10,
            "title": "Limit",
            "type": "integer"
          }
        },
        "required": [
          "topic_keywords"
        ],
        "title": "search_by_topicArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "search_papers": [
      {
        "case_name": "Basic Search with Default Limit",
        "purpose": "验证使用默认 limit 参数值时能否从 Semantic Scholar 和 Crossref 搜索到论文",
        "args": {
          "query": "machine learning"
        },
        "response": {
          "error": "Tool call 'search_papers' was cancelled."
        },
        "execution_time": 40.017037868499756,
        "is_functional_test": true
      },
      {
        "case_name": "Search with Custom Limit",
        "purpose": "验证指定 limit 参数时是否能正确返回每来源指定数量的论文结果",
        "args": {
          "query": "deep reinforcement learning",
          "limit": 5
        },
        "response": {
          "error": "Tool call 'search_papers' was cancelled."
        },
        "execution_time": 40.012519121170044,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Query Handling",
        "purpose": "验证空查询字符串是否被正确处理并返回错误信息",
        "args": {
          "query": ""
        },
        "response": {
          "error": "ToolException: Error executing tool search_papers: Query must be a non-empty string."
        },
        "execution_time": 0.0040035247802734375,
        "is_functional_test": false
      },
      {
        "case_name": "Non-String Query Handling",
        "purpose": "验证非字符串类型的 query 参数是否被拒绝并返回错误",
        "args": {
          "query": 12345
        },
        "response": {
          "error": "ToolException: Error executing tool search_papers: 1 validation error for search_papersArguments\nquery\n  Input should be a valid string [type=string_type, input_value=12345, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type"
        },
        "execution_time": 0.005002260208129883,
        "is_functional_test": false
      },
      {
        "case_name": "Negative Limit Handling",
        "purpose": "验证负数 limit 值是否被拒绝并返回错误",
        "args": {
          "query": "neural networks",
          "limit": -5
        },
        "response": {
          "error": "ToolException: Error executing tool search_papers: Limit must be a positive integer."
        },
        "execution_time": 0.005997180938720703,
        "is_functional_test": false
      },
      {
        "case_name": "High Limit Boundary Test",
        "purpose": "验证最大允许 limit 值是否被正确处理（例如测试极限值）",
        "args": {
          "query": "natural language processing",
          "limit": 100
        },
        "response": {
          "error": "Tool call 'search_papers' was cancelled."
        },
        "execution_time": 40.016154050827026,
        "is_functional_test": true
      },
      {
        "case_name": "Special Characters in Query",
        "purpose": "验证包含特殊字符的查询是否能被正确处理",
        "args": {
          "query": "AI & society: ethical implications"
        },
        "response": {
          "error": "Tool call 'search_papers' was cancelled."
        },
        "execution_time": 40.00852656364441,
        "is_functional_test": true
      },
      {
        "case_name": "Security Test - SQL Injection Attempt",
        "purpose": "验证工具是否安全地处理可能的 SQL 注入攻击向量（即使不涉及数据库）",
        "args": {
          "query": "'; DROP TABLE papers;--"
        },
        "response": {
          "error": "Tool call 'search_papers' was cancelled."
        },
        "execution_time": 39.989052057266235,
        "is_functional_test": false
      }
    ],
    "search_by_topic": [
      {
        "case_name": "Basic Search with Topic Keywords",
        "purpose": "验证使用最基本的 topic_keywords 参数是否能正确从 Semantic Scholar 和 Crossref 获取相关论文结果",
        "args": {
          "topic_keywords": "quantum computing"
        },
        "response": {
          "error": "Tool call 'search_by_topic' was cancelled."
        },
        "execution_time": 40.00863242149353,
        "is_functional_test": true
      },
      {
        "case_name": "Search with Year Range Filter",
        "purpose": "验证在指定年份范围内搜索论文时是否能返回符合时间条件的结果",
        "args": {
          "topic_keywords": "machine learning",
          "year_range": "2018-2022"
        },
        "response": {
          "result": "[{\"title\": \"Machine Learning, Statistics, and Data Analytics\", \"authors\": [], \"year\": 2021, \"doi\": \"10.7551/mitpress/13811.003.0005\", \"source\": \"Crossref\"}, {\"title\": \"Adversarial Machine Learning Challenges\", \"authors\": [], \"year\": 2019, \"doi\": \"10.1017/9781107338548.009\", \"source\": \"Crossref\"}, {\"title\": \"Fraud prediction using machine learning: The case of investment advisors in Canada\", \"authors\": [\"Mark Eshwar Lokanan\", \"Kush Sharma\"], \"year\": 2022, \"doi\": \"10.1016/j.mlwa.2022.100269\", \"source\": \"Crossref\"}, {\"title\": \"Machine Learning\", \"authors\": [\"Seyedeh Leili Mirtaheri\", \"Reza Shahbazian\"], \"year\": 2022, \"doi\": \"10.1201/9781003119258-3\", \"source\": \"Crossref\"}, {\"title\": \"Explaining Artificial Intelligence, Machine Learning, and Deep Learning Models\", \"authors\": [], \"year\": 2022, \"doi\": \"10.1002/9781119824961.ch4\", \"source\": \"Crossref\"}, {\"title\": \"Optimizing ensemble weights and hyperparameters of machine learning models for regression problems\", \"authors\": [\"Mohsen Shahhosseini\", \"Guiping Hu\", \"Hieu Pham\"], \"year\": 2022, \"doi\": \"10.1016/j.mlwa.2022.100251\", \"source\": \"Crossref\"}, {\"title\": \"A Comparison of Machine Learning and Deep Learning Models with Advanced Word Embeddings: The Case of Internal Audit Reports\", \"authors\": [\"Gustavo Fleury Soares\", \"Induraj Pudhupattu Ramamurthy\"], \"year\": 2022, \"doi\": \"10.1002/9781119902881.ch6\", \"source\": \"Crossref\"}, {\"title\": \"Supervised Learning\", \"authors\": [\"Stefan Nagel\"], \"year\": 2021, \"doi\": \"10.23943/princeton/97806912...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计1965字符，剩余465字符"
        },
        "execution_time": 14.758280515670776,
        "is_functional_test": true
      },
      {
        "case_name": "Search with Custom Limit",
        "purpose": "验证自定义 limit 参数是否能控制返回的论文数量",
        "args": {
          "topic_keywords": "neural networks",
          "limit": 5
        },
        "response": {
          "error": "Tool call 'search_by_topic' was cancelled."
        },
        "execution_time": 40.00949287414551,
        "is_functional_test": true
      },
      {
        "case_name": "Combined Search with Topic, Year and Limit",
        "purpose": "验证同时使用 topic_keywords、year_range 和 limit 参数时是否能正确过滤并限制结果数量",
        "args": {
          "topic_keywords": "deep learning",
          "year_range": "2020-2023",
          "limit": 7
        },
        "response": {
          "error": "Tool call 'search_by_topic' was cancelled."
        },
        "execution_time": 40.010488748550415,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Topic Keywords Handling",
        "purpose": "验证空字符串作为 topic_keywords 是否被拒绝并返回错误信息",
        "args": {
          "topic_keywords": ""
        },
        "response": {
          "error": "ToolException: Error executing tool search_by_topic: Topic keywords must be a non-empty string."
        },
        "execution_time": 0.007000446319580078,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Year Range Format Handling",
        "purpose": "验证格式不正确的 year_range 是否被拒绝并返回错误信息",
        "args": {
          "topic_keywords": "blockchain technology",
          "year_range": "2020_2023"
        },
        "response": {
          "error": "ToolException: Error executing tool search_by_topic: Year range must be in 'YYYY-YYYY' format."
        },
        "execution_time": 0.010998964309692383,
        "is_functional_test": false
      },
      {
        "case_name": "Negative Limit Handling",
        "purpose": "验证负数作为 limit 值是否被拒绝并返回错误信息",
        "args": {
          "topic_keywords": "reinforcement learning",
          "limit": -3
        },
        "response": {
          "error": "ToolException: Error executing tool search_by_topic: Limit must be a positive integer."
        },
        "execution_time": 0.014000654220581055,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters in Topic Keywords",
        "purpose": "验证包含特殊字符的关键词是否能被正确处理并返回匹配结果",
        "args": {
          "topic_keywords": "AI & ethics in healthcare"
        },
        "response": {
          "result": "[{\"title\": \"Bringing clarity and transparency to the consultative process underpinning the implementation of an ethics framework for AI-based healthcare applications: a qualitative study\", \"authors\": [\"Magali Goirand\", \"Elizabeth Austin\", \"Robyn Clay-Williams\"], \"year\": 2024, \"doi\": \"10.1007/s43681-024-00466-x\", \"source\": \"Crossref\"}, {\"title\": \"Prospectives and drawbacks of ChatGPT in healthcare and clinical medicine\", \"authors\": [\"Khadija Alam\", \"Akhil Kumar\", \"F. N. U. Samiullah\"], \"year\": 2025, \"doi\": \"10.1007/s43681-024-00434-5\", \"source\": \"Crossref\"}, {\"title\": \"Impacts on Trust of Healthcare AI\", \"authors\": [\"Emily LaRosa\", \"David Danks\"], \"year\": 2018, \"doi\": \"10.1145/3278721.3278771\", \"source\": \"Crossref\"}, {\"title\": \"Ethical implications of AI-driven clinical decision support systems on healthcare resource allocation: a qualitative study of healthcare professionals\\u2019 perspectives\", \"authors\": [\"Cansu Y\\u00fcksel Elgin\", \"Ceyhun Elgin\"], \"year\": 2024, \"doi\": \"10.1186/s12910-024-01151-8\", \"source\": \"Crossref\"}, {\"title\": \"Balancing Regulation, Innovation and Ethics\", \"authors\": [], \"year\": 2022, \"doi\": \"10.1017/9781108921923.016\", \"source\": \"Crossref\"}, {\"title\": \"Care robot literacy: integrating AI ethics and technological literacy in contemporary healthcare\", \"authors\": [\"Tuuli Turja\", \"Anna-Aurora Kork\", \"Sakari Ilom\\u00e4ki\", \"Ingvil Hellstrand\", \"Aino-Kaisa Koistinen\"], \"year\": 2025, \"doi\": \"10.1007/s43681-024-00576-6\", \"source\": \"Crossref\"}, {\"title\": \"Overc...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计2365字符，剩余865字符"
        },
        "execution_time": 18.832011938095093,
        "is_functional_test": true
      },
      {
        "case_name": "Security Test - SQL Injection Attempt in Topic",
        "purpose": "验证工具是否安全地处理可能的 SQL 注入尝试（即使不涉及数据库）",
        "args": {
          "topic_keywords": "'; DROP TABLE papers;--"
        },
        "response": {
          "result": "[{\"title\": \"Table 3: Included and excluded papers.\", \"authors\": [], \"year\": 2022, \"doi\": \"10.7717/peerj-cs.826/table-3\", \"source\": \"Crossref\"}, {\"title\": \"Table of Contents / Table des Mati\\u00e8res\", \"authors\": [\"Author Not applicable\"], \"year\": 2019, \"doi\": \"10.33137/pbsc.v15i1.16544\", \"source\": \"Crossref\"}, {\"title\": \"Table of Contents / Table des mati\\u00e8res\", \"authors\": [\"Author Not applicable\"], \"year\": 2020, \"doi\": \"10.33137/pbsc.v22i1.17522\", \"source\": \"Crossref\"}, {\"title\": \"Table of Contents / Table des Mati\\u00e8res\", \"authors\": [\"Author Not applicable\"], \"year\": 2019, \"doi\": \"10.33137/pbsc.v14i1.16983\", \"source\": \"Crossref\"}, {\"title\": \"Table of Contents / Table des Mati\\u00e8res\", \"authors\": [\"Author Not applicable\"], \"year\": 2020, \"doi\": \"10.33137/pbsc.v25i1.17617\", \"source\": \"Crossref\"}, {\"title\": \"Table of Contents / Table des mati\\u00e8res\", \"authors\": [\"Author Not applicable\"], \"year\": 2019, \"doi\": \"10.33137/pbsc.v45i2.18513\", \"source\": \"Crossref\"}, {\"title\": \"Complementizer Drop And IP Complementation in Japanese\", \"authors\": [\"Minoru Fukuda\"], \"year\": 2000, \"doi\": \"10.17161/kwpl.1808.650\", \"source\": \"Crossref\"}, {\"title\": \"Table of Contents / Table des mati\\u00e8res\", \"authors\": [\"Author Not applicable\"], \"year\": 2019, \"doi\": \"10.33137/pbsc.v43i1.18413\", \"source\": \"Crossref\"}, {\"title\": \"Table of Contents / Table des mati\\u00e8res\", \"authors\": [\"Author Not applicable\"], \"year\": 2020, \"doi\": \"10.33137/pbsc.v36i1.18077\", \"source\": \"Crossref\"}, {\"title\": \"T...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计1687字符，剩余187字符"
        },
        "execution_time": 12.363210439682007,
        "is_functional_test": false
      },
      {
        "case_name": "Maximum Year Range Boundary Test",
        "purpose": "验证最大允许年份范围是否能被正确处理（如跨越多个十年）",
        "args": {
          "topic_keywords": "climate change modeling",
          "year_range": "1950-2023"
        },
        "response": {
          "result": "[{\"title\": \"Climate Change and Hydrologic Modeling\", \"authors\": [], \"year\": 2014, \"doi\": \"10.1201/b16683-9\", \"source\": \"Crossref\"}, {\"title\": \"Basics of global climate\", \"authors\": [], \"year\": 2010, \"doi\": \"10.1017/cbo9780511780363.003\", \"source\": \"Crossref\"}, {\"title\": \"Overview of climate variability and climate science\", \"authors\": [], \"year\": 2010, \"doi\": \"10.1017/cbo9780511780363.002\", \"source\": \"Crossref\"}, {\"title\": \"Rainbows and Climate Change: A tutorial on climate model diagnostics and parameterization\", \"authors\": [\"Andrew Gettelman\"], \"year\": 2023, \"doi\": \"10.5194/egusphere-2023-227\", \"source\": \"Crossref\"}, {\"title\": \"Modeling climate change in the absence of climate change data\", \"authors\": [\"J. W. Skiles\"], \"year\": 1995, \"doi\": \"10.1007/bf01093222\", \"source\": \"Crossref\"}, {\"title\": \"Intergovernmental Panel on Climate Change: Transparency and integrated assessment modeling\", \"authors\": [\"Jim Skea\", \"Priyadarshi Shukla\", \"Alaa Al Khourdajie\", \"David McCollum\"], \"year\": 2021, \"doi\": \"10.1002/wcc.727\", \"source\": \"Crossref\"}, {\"title\": \"Lamont-Doherty Earth Observatory Climate Modeling and Diagnostics\\n                        Group\", \"authors\": [], \"year\": 2012, \"doi\": \"10.4135/9781452218564.n415\", \"source\": \"Crossref\"}, {\"title\": \"Climate Change: Uncertainty, Impact, and Adaptation\", \"authors\": [], \"year\": 2014, \"doi\": \"10.1201/b16683-12\", \"source\": \"Crossref\"}, {\"title\": \"Climate Change and Urban Water Systems\", \"authors\": [], \"year\": 2014, \"doi\": \"10.1201/b16683-1...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计1712字符，剩余212字符"
        },
        "execution_time": 10.582110166549683,
        "is_functional_test": true
      },
      {
        "case_name": "High Limit Boundary Test",
        "purpose": "验证最大允许 limit 值是否被系统正确处理（例如极限值测试）",
        "args": {
          "topic_keywords": "data science applications",
          "limit": 100
        },
        "response": {
          "error": "Tool call 'search_by_topic' was cancelled."
        },
        "execution_time": 40.012532234191895,
        "is_functional_test": true
      },
      {
        "case_name": "Non-String Topic Keywords Handling",
        "purpose": "验证非字符串类型的 topic_keywords 是否被拒绝并返回错误",
        "args": {
          "topic_keywords": 12345
        },
        "response": {
          "error": "ToolException: Error executing tool search_by_topic: 1 validation error for search_by_topicArguments\ntopic_keywords\n  Input should be a valid string [type=string_type, input_value=12345, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_type"
        },
        "execution_time": 0.009999513626098633,
        "is_functional_test": false
      }
    ],
    "fetch_paper_details": [
      {
        "case_name": "Basic Paper Details Fetch from Semantic Scholar",
        "purpose": "验证使用有效的 paper_id 和 source='Semantic Scholar' 能否正确获取论文详细信息",
        "args": {
          "paper_id": "10.1109/5.771073",
          "source": "Semantic Scholar"
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred: 'Paper' object has no attribute 'get'\"}"
        },
        "execution_time": 2.6726765632629395,
        "is_functional_test": true
      },
      {
        "case_name": "Basic Paper Details Fetch from Crossref",
        "purpose": "验证使用有效的 DOI 和 source='Crossref' 能否正确获取论文详细信息",
        "args": {
          "paper_id": "10.1109/5.771073",
          "source": "Crossref"
        },
        "response": {
          "result": "{\"title\": \"Toward unique identifiers\", \"authors\": [\"N. Paskin\"], \"abstract\": null, \"venue\": \"Proceedings of the IEEE\"}"
        },
        "execution_time": 3.5960428714752197,
        "is_functional_test": true
      },
      {
        "case_name": "Invalid Source Handling",
        "purpose": "验证提供非法的 source 值是否被拒绝并返回错误信息",
        "args": {
          "paper_id": "10.1109/5.771073",
          "source": "InvalidSource"
        },
        "response": {
          "error": "ToolException: Error executing tool fetch_paper_details: Source must be either 'Semantic Scholar' or 'Crossref'."
        },
        "execution_time": 0.010126352310180664,
        "is_functional_test": false
      },
      {
        "case_name": "Non-Existent Paper ID Handling",
        "purpose": "验证提供不存在的 paper_id 是否返回包含 error 键的 JSON 对象",
        "args": {
          "paper_id": "invalid-paper-id-12345",
          "source": "Semantic Scholar"
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred: Paper with id invalid-paper-id-12345 not found\"}"
        },
        "execution_time": 2.4650487899780273,
        "is_functional_test": false
      },
      {
        "case_name": "Empty Paper ID Handling",
        "purpose": "验证空字符串作为 paper_id 是否被拒绝并返回错误信息",
        "args": {
          "paper_id": "",
          "source": "Crossref"
        },
        "response": {
          "error": "ToolException: Error executing tool fetch_paper_details: Paper ID must be a non-empty string."
        },
        "execution_time": 0.009999990463256836,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters in Paper ID",
        "purpose": "验证包含特殊字符的 paper_id 是否能被正确处理或拒绝",
        "args": {
          "paper_id": "10.1109/!@#$%^&*()",
          "source": "Crossref"
        },
        "response": {
          "result": "{\"error\": \"Paper not found on Crossref.\"}"
        },
        "execution_time": 3.11197566986084,
        "is_functional_test": false
      },
      {
        "case_name": "Security Test - SQL Injection Attempt in Paper ID",
        "purpose": "验证工具是否安全地处理可能的 SQL 注入尝试（即使不涉及数据库）",
        "args": {
          "paper_id": "'; DROP TABLE papers;--",
          "source": "Semantic Scholar"
        },
        "response": {
          "result": "{\"error\": \"An unexpected error occurred: Paper with id '; DROP TABLE papers;-- not found\"}"
        },
        "execution_time": 2.503946542739868,
        "is_functional_test": false
      }
    ]
  },
  "total_cases": 27
}