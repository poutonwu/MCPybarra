{
  "server_name": "server",
  "parent_dir": "refined",
  "report_name": "gemini-2.5-pro-mcp_content_to_markdown_conver",
  "server_path": "workspace/pipeline-output-servers/gemini-2.5-pro/mcp_content_to_markdown_conver/refined/server.py",
  "timestamp": "2025-07-12T20:39:06.067148",
  "tools": [
    {
      "name": "convert_to_markdown",
      "description": "Converts content from various sources (HTTP/S webpages, local file paths, or Data URIs) into structured Markdown.\n\n    The tool automatically detects the source type and processes it accordingly. It preserves structural\n    elements like headings, lists, tables, and links.\n\n    Args:\n        source (str): The source of the content to be converted. This can be:\n                      - An HTTP or HTTPS URL (e.g., \"https://example.com\").\n                      - A local file path (e.g., \"./my_document.html\").\n                      - A Data URI (e.g., \"data:text/html;base64,PGgxPlRlc3Q8L2gxPg==\").\n\n    Returns:\n        A string containing the content converted to structured Markdown.\n\n    Raises:\n        ValueError: If the source is invalid, content cannot be fetched, or the source type is unsupported.\n        requests.exceptions.RequestException: If a network error occurs while fetching a URL.\n    ",
      "args_schema": {
        "properties": {
          "source": {
            "title": "Source",
            "type": "string"
          }
        },
        "required": [
          "source"
        ],
        "title": "convert_to_markdownArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "convert_to_markdown": [
      {
        "case_name": "Convert HTML File to Markdown",
        "purpose": "验证工具能正确将本地HTML文件转换为结构化的Markdown格式",
        "args": {
          "source": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\present.html"
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: An error occurred while processing source 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\present.html': Security error: File path 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\present.html' is outside the allowed directory."
        },
        "execution_time": 0.004003763198852539,
        "is_functional_test": true
      },
      {
        "case_name": "Convert Word Document to Markdown",
        "purpose": "验证工具能正确将本地Word文档（.docx）转换为结构化的Markdown格式",
        "args": {
          "source": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\existing_file.docx"
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: An error occurred while processing source 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\existing_file.docx': Security error: File path 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\existing_file.docx' is outside the allowed directory."
        },
        "execution_time": 0.004004955291748047,
        "is_functional_test": true
      },
      {
        "case_name": "Convert Data URI to Markdown",
        "purpose": "验证工具能正确解析并转换Base64编码的Data URI内容为Markdown",
        "args": {
          "source": "data:text/html;base64,PGgxPlRlc3Q8L2gxPg=="
        },
        "response": {
          "result": "\n# Test\n\n"
        },
        "execution_time": 0.00899958610534668,
        "is_functional_test": true
      },
      {
        "case_name": "Convert Remote Webpage to Markdown",
        "purpose": "验证工具能从远程URL抓取网页内容并转换为Markdown格式",
        "args": {
          "source": "https://example.com"
        },
        "response": {
          "result": "\nExample Domain\n\n\n\n\n\n# Example Domain\n\nThis domain is for use in illustrative examples in documents. You may use this\ndomain in literature without prior coordination or asking for permission.\n\n[More information...](https://www.iana.org/domains/example)\n\n\n\n\n"
        },
        "execution_time": 5.58344841003418,
        "is_functional_test": true
      },
      {
        "case_name": "Handle Invalid File Path",
        "purpose": "测试当提供的本地文件路径不存在时是否抛出ValueError",
        "args": {
          "source": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\non_existent_file.html"
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: An error occurred while processing source 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\non_existent_file.html': Security error: File path 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\non_existent_file.html' is outside the allowed directory."
        },
        "execution_time": 0.003000020980834961,
        "is_functional_test": false
      },
      {
        "case_name": "Handle Malformed URL",
        "purpose": "测试当提供无效或无法解析的URL时是否抛出ValueError",
        "args": {
          "source": "htp:/invalid-url.example"
        },
        "response": {
          "result": "htp:/invalid-url.example"
        },
        "execution_time": 0.00400543212890625,
        "is_functional_test": false
      },
      {
        "case_name": "Process Long File Path",
        "purpose": "验证工具能否处理Windows最大路径长度限制下的长路径文件",
        "args": {
          "source": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\very_long_output_filename_that_tests_the_maximum_allowed_length_of_a_file_path_in_windows_new.docx"
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: An error occurred while processing source 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\very_long_output_filename_that_tests_the_maximum_allowed_length_of_a_file_path_in_windows_new.docx': Security error: File path 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\very_long_output_filename_that_tests_the_maximum_allowed_length_of_a_file_path_in_windows_new.docx' is outside the allowed directory."
        },
        "execution_time": 0.007002592086791992,
        "is_functional_test": true
      },
      {
        "case_name": "Handle Special Characters in Source",
        "purpose": "测试工具对特殊字符如空格、中文、符号等构成的文件路径的处理能力",
        "args": {
          "source": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\非标准文件名.html"
        },
        "response": {
          "error": "ToolException: Error executing tool convert_to_markdown: An error occurred while processing source 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\非标准文件名.html': Security error: File path 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\非标准文件名.html' is outside the allowed directory."
        },
        "execution_time": 0.003999471664428711,
        "is_functional_test": false
      }
    ]
  },
  "total_cases": 8
}