{
  "server_name": "server",
  "parent_dir": "refined",
  "report_name": "gpt-4o-mcp_tavily_web_tools",
  "server_path": "workspace/pipeline-output-servers/gpt-4o/mcp_tavily_web_tools/refined/server.py",
  "timestamp": "2025-07-12T20:34:18.049888",
  "tools": [
    {
      "name": "tavily_web_search",
      "description": "\n    Conduct a comprehensive web search using the Tavily API.\n\n    Args:\n        query (str): The search query for retrieving information.\n        search_depth (str, optional): The depth of the search, either 'basic' or 'advanced'. Defaults to 'basic'.\n        include_domains (list of str, optional): Domains to include in the search results.\n        exclude_domains (list of str, optional): Domains to exclude from the search results.\n        max_results (int, optional): Maximum number of search results to return. Defaults to 5.\n\n    Returns:\n        str: A JSON string containing the search results.\n\n    Raises:\n        ValidationError: If input parameters are invalid.\n        httpx.HTTPStatusError: If the API request fails.\n\n    Example:\n        tavily_web_search(query=\"Python documentation\", search_depth=\"basic\", max_results=3)\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "search_depth": {
            "default": "basic",
            "title": "Search Depth",
            "type": "string"
          },
          "include_domains": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Include Domains",
            "type": "array"
          },
          "exclude_domains": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Exclude Domains",
            "type": "array"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_web_searchArguments",
        "type": "object"
      }
    },
    {
      "name": "tavily_answer_search",
      "description": "\n    Retrieve a direct answer to a query using the Tavily API.\n\n    Args:\n        query (str): The question or query to be answered.\n        search_depth (str, optional): The depth of the search, either 'basic' or 'advanced'. Defaults to 'advanced'.\n        max_results (int, optional): Maximum number of results to return. Defaults to 5.\n\n    Returns:\n        str: A JSON string containing the answer and supporting evidence.\n\n    Raises:\n        ValidationError: If input parameters are invalid.\n        httpx.HTTPStatusError: If the API request fails.\n\n    Example:\n        tavily_answer_search(query=\"What is Python?\", max_results=2)\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "search_depth": {
            "default": "advanced",
            "title": "Search Depth",
            "type": "string"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_answer_searchArguments",
        "type": "object"
      }
    },
    {
      "name": "tavily_news_search",
      "description": "\n    Search for recent news articles using the Tavily API.\n\n    Args:\n        query (str): The search query for retrieving news.\n        time_range (int, optional): The number of days to look back for news articles (maximum 365 days). Defaults to 30.\n        include_sources (list of str, optional): News sources to include in the search results.\n        exclude_sources (list of str, optional): News sources to exclude from the search results.\n        max_results (int, optional): Maximum number of news articles to return. Defaults to 5.\n\n    Returns:\n        str: A JSON string containing the news articles.\n\n    Raises:\n        ValidationError: If input parameters are invalid.\n        httpx.HTTPStatusError: If the API request fails.\n\n    Example:\n        tavily_news_search(query=\"AI advancements\", time_range=7, max_results=3)\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "time_range": {
            "default": 30,
            "title": "Time Range",
            "type": "integer"
          },
          "include_sources": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Include Sources",
            "type": "array"
          },
          "exclude_sources": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Exclude Sources",
            "type": "array"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_news_searchArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "tavily_web_search": [
      {
        "case_name": "Basic Web Search",
        "purpose": "验证使用默认参数的基本搜索功能是否正常工作",
        "args": {
          "query": "Python programming"
        },
        "response": {
          "result": "{\"query\": \"Python programming\", \"follow_up_questions\": null, \"answer\": null, \"images\": [], \"results\": [{\"url\": \"https://en.wikipedia.org/wiki/Python_(programming_language)\", \"title\": \"Python (programming language) - Wikipedia\", \"content\": \"Python (programming language) - Wikipedia # Python (programming language) - Cebuano \\\"Python (programming language) \\u2013 Cebuano\\\") - \\u1019\\u103c\\u1014\\u103a\\u1019\\u102c\\u1018\\u102c\\u101e\\u102c \\\"Python (programming language) \\u2013 Burmese\\\") - Simple English \\\"Python (programming language) \\u2013 Simple English\\\") - \\u1010\\u1086\\u1038 \\\"Python (programming language) \\u2013 Shan\\\") - Winaray \\\"Python (programming language) \\u2013 Waray\\\") | Python | | | - Python Programming at Wikibooks | | **Python** is a high-level, general-purpose programming language. Python consistently ranks as one of the most popular programming languages, and it has gained widespread use in the machine learning community. - Media \\\"c:Category:Python (programming language)\\\") from Commons - Python (programming language) \\\"Category:Python (programming language)\\\") - Articles with example Python (programming language) code_code \\\"Category:Articles with example Python (programming language) code\\\") Python (programming language)\", \"score\": 0.8467682, \"raw_content\": null}, {\"url\": \"https://www.youtube.com/watch?v=K5KVEU3aaeQ\", \"title\": \"Python Full Course for Beginners [2025] - YouTube\", \"content\": \"Python Full Course for Beginners [2025]\\nProgramming with Mosh\\n46100...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计5531字符，剩余4031字符"
        },
        "execution_time": 4.679255723953247,
        "is_functional_test": true
      },
      {
        "case_name": "Advanced Search with Max Results",
        "purpose": "验证高级搜索模式并限制返回结果数量的功能",
        "args": {
          "query": "machine learning",
          "search_depth": "advanced",
          "max_results": 3
        },
        "response": {
          "result": "{\"query\": \"machine learning\", \"follow_up_questions\": null, \"answer\": null, \"images\": [], \"results\": [{\"url\": \"https://en.wikipedia.org/wiki/Machine_learning\", \"title\": \"Machine learning - Wikipedia\", \"content\": \"Machine learning (ML) is a field of study in artificial intelligence concerned with the development and study of statistical algorithms that can learn from data and generalise to unseen data, and thus perform tasks \\\"Task (computing)\\\") without explicit instructions.( Within a subdiscipline in machine learning, advances in the field of deep learning have allowed neural networks \\\"Neural network (machine learning)\\\"), a class of statistical algorithms, to surpass many previous machine learning\", \"score\": 0.91023487, \"raw_content\": null}, {\"url\": \"https://mitsloan.mit.edu/ideas-made-to-matter/machine-learning-explained\", \"title\": \"Machine learning, explained | MIT Sloan\", \"content\": \"What is machine learning?\\n-----------------------------\\n\\nMachine learning is a subfield of artificial intelligence, which is broadly defined as the capability of a machine to imitate intelligent human behavior. Artificial intelligence systems are used to perform complex tasks in a way that is similar to how humans solve problems. [...] When companies today deploy artificial intelligence programs, they are most likely using machine learning \\u2014so much so that the terms are often used interchangeably, and sometimes ambiguously. Machine learning is a subfield of artificial intelligence t...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计3086字符，剩余1586字符"
        },
        "execution_time": 6.393681049346924,
        "is_functional_test": true
      },
      {
        "case_name": "Include Specific Domains",
        "purpose": "测试包含特定域名的搜索结果过滤功能",
        "args": {
          "query": "climate change",
          "include_domains": [
            "example.com",
            "test.org"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: "
        },
        "execution_time": 5.411621570587158,
        "is_functional_test": true
      },
      {
        "case_name": "Exclude Specific Domains",
        "purpose": "验证排除特定域名的搜索结果过滤功能",
        "args": {
          "query": "global warming",
          "exclude_domains": [
            "wikipedia.org",
            "news.net"
          ]
        },
        "response": {
          "result": "{\"query\": \"global warming\", \"follow_up_questions\": null, \"answer\": null, \"images\": [], \"results\": [{\"url\": \"https://education.nationalgeographic.org/resource/global-warming/\", \"title\": \"Global Warming - National Geographic Education\", \"content\": \"Global warming refers to Earth's rising average temperature, while climate change refers to changes in weather patterns and growing seasons around the world.\", \"score\": 0.4501424, \"raw_content\": null}, {\"url\": \"https://science.nasa.gov/climate-change/what-is-climate-change/\", \"title\": \"What Is Climate Change?\", \"content\": \"### About NASA Climate change is a long-term change in the average weather patterns that have come to define Earth\\u2019s local, regional and global climates. Changes observed in Earth\\u2019s climate since the mid-20th century are driven by human activities, particularly fossil fuel burning, which increases heat-trapping greenhouse gas levels in Earth\\u2019s atmosphere, raising Earth\\u2019s average surface temperature. Climate data records provide evidence of climate change key indicators, such as global land and ocean temperature increases; rising sea levels; ice loss at Earth\\u2019s poles and in mountain glaciers; frequency and severity changes in extreme weather such as hurricanes, heatwaves, wildfires, droughts, floods, and precipitation; and cloud and vegetation cover changes. ### Find Out More: A Guide to NASA\\u2019s Global Climate Change Website **NASA\\u2019s Earth Observatory.** Satellite imagery, feature a...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计3608字符，剩余2108字符"
        },
        "execution_time": 4.824749231338501,
        "is_functional_test": true
      },
      {
        "case_name": "Combined Include and Exclude Domains",
        "purpose": "测试同时使用包含和排除域名的搜索功能",
        "args": {
          "query": "renewable energy",
          "include_domains": [
            "gov.uk"
          ],
          "exclude_domains": [
            "ads.example"
          ]
        },
        "response": {
          "result": "{\"query\": \"renewable energy\", \"follow_up_questions\": null, \"answer\": null, \"images\": [], \"results\": [{\"url\": \"https://www.gov.uk/government/statistics/energy-trends-section-6-renewables\", \"title\": \"Energy Trends: UK renewables - GOV.UK\", \"content\": \"Data on the UK's renewables sector, including capacity, electricity generation and liquid biofuels consumption.\", \"score\": 0.5012457, \"raw_content\": null}, {\"url\": \"https://www.gov.uk/government/publications/renewable-energy-planning-database-monthly-extract\", \"title\": \"Renewable Energy Planning Database: quarterly extract - GOV.UK\", \"content\": \"The Renewable Energy Planning Database ( REPD ) tracks the progress of UK renewable electricity projects over 150kW through the planning system.\", \"score\": 0.46920466, \"raw_content\": null}, {\"url\": \"https://www.gov.uk/guidance/renewable-and-low-carbon-energy\", \"title\": \"Renewable and low carbon energy - GOV.UK\", \"content\": \"Guidance to help local councils in developing policies for renewable and low carbon energy and identifies the planning considerations.\", \"score\": 0.42835352, \"raw_content\": null}, {\"url\": \"https://www.dover.gov.uk/Environment/Energy-Advice/Renewable-Energy/Home.aspx\", \"title\": \"Renewable Energy - Dover District Council\", \"content\": \"Renewable energy comes from sources which will not run out, for example the sun or the wind. It is clean energy which does not produce harmful greenhouse gases\", \"score\": 0.400703, \"raw_content\": null}, {\"url\": \"https://www.ealing.gov.uk/inf...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计1850字符，剩余350字符"
        },
        "execution_time": 3.913390636444092,
        "is_functional_test": true
      },
      {
        "case_name": "XSS Attempt in Query",
        "purpose": "测试工具对潜在跨站脚本攻击查询的处理能力",
        "args": {
          "query": "<script>alert('xss')</script>"
        },
        "response": {
          "result": "{\"query\": \"<script>alert('xss')</script>\", \"follow_up_questions\": null, \"answer\": null, \"images\": [], \"results\": [{\"url\": \"https://cheatsheetseries.owasp.org/cheatsheets/XSS_Filter_Evasion_Cheat_Sheet.html\", \"title\": \"XSS Filter Evasion - OWASP Cheat Sheet Series\", \"content\": \"*   STYLE Tags that Breaks Up JavaScript for XSS *   STYLE Tags that Breaks Up JavaScript for XSS This test delivers a 'polyglot test XSS payload' that executes in multiple contexts, including HTML, script strings, JavaScript, and URLs: <IMG\\u00a0\\\"\\\"\\\"><SCRIPT>alert(\\\"XSS\\\")</SCRIPT>\\\"\\\\> This attack allows you to rename your JavaScript file to an image as an XSS vector: <META\\u00a0HTTP-EQUIV=\\\"Set-Cookie\\\"\\u00a0Content=\\\"USERID=<SCRIPT>alert('XSS')</SCRIPT>\\\"> <A\\u00a0HREF=\\\"javascript:document.location='http://www.google.com/'\\\">XSS</A> Developers HTML encoded the `title` parameter in the `Content` page to prevent against XSS but for some reasons they didn't URL encoded this parameter to prevent from HTTP Parameter Pollution. *   `<Img src = x onerror = \\\"javascript: window.onerror = alert; throw XSS\\\">` *   `\\\"><img src=\\\"x:x\\\" onerror=\\\"alert(XSS)\\\">` *   `\\\"><iframe src=\\\"javascript:alert(XSS)\\\">` *   `<object data=\\\"javascript:alert(XSS)\\\">` *   `<isindex type=image src=1 onerror=alert(XSS)>`\", \"score\": 0.7361925, \"raw_content\": null}, {\"url\": \"https://www.brightsec.com/blog/cross-site-scripting-xss/\", \"title\": \"The Ultimate Beginners Guide to XSS Vulnerability - Bright Security\", \"content\": \"1. ...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计5023字符，剩余3523字符"
        },
        "execution_time": 4.894814968109131,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Max Results Value",
        "purpose": "验证工具对非法最大结果数参数的错误处理",
        "args": {
          "query": "test query",
          "max_results": -1
        },
        "response": {
          "result": "{\"error\": \"Validation Error\", \"details\": \"1 validation error for TavilyRequest\\nmax_results\\n  Value error, max_results must be a positive integer [type=value_error, input_value=-1, input_type=int]\\n    For further information visit https://errors.pydantic.dev/2.10/v/value_error\"}"
        },
        "execution_time": 0.0039997100830078125,
        "is_functional_test": false
      },
      {
        "case_name": "Empty Query Input",
        "purpose": "测试工具对空查询输入的错误处理",
        "args": {
          "query": ""
        },
        "response": {
          "result": "{\"error\": \"HTTP Request Failed\", \"details\": \"Client error '400 Bad Request' for url 'https://api.tavily.com/search'\\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400\"}"
        },
        "execution_time": 3.6280322074890137,
        "is_functional_test": false
      },
      {
        "case_name": "Search with Special Characters",
        "purpose": "验证工具对特殊字符查询的边界处理能力",
        "args": {
          "query": "!@#$%^&*()_+{}[]|\"':;?/,.<>~`"
        },
        "response": {
          "result": "{\"query\": \"!@#$%^&*()_+{}[]|\\\"':;?/,.<>~`\", \"follow_up_questions\": null, \"answer\": null, \"images\": [], \"results\": [{\"url\": \"https://www.youtube.com/watch?v=NOwnR1v2Fm4\", \"title\": \"!@#$%^&*()_ - YouTube\", \"content\": \"NBA 2K21 FASTEST DRIBBLE MOVES IN NBA 2K21 \\u00b7 NBA 2K21 BECOME A DRIBBLE GOD \\u00b7 NBA 2K21 NEW SECRET BADGE UNLOCKED \\u00b7 NBA 2K21 UNLIMITED STAMINA BAR\", \"score\": 0.42162386, \"raw_content\": null}, {\"url\": \"https://developer.apple.com/documentation/swift/simd16/&*(_:_:)-4zv7c\", \"title\": \"&*(_:_:) | Apple Developer Documentation\", \"content\": \"This page requires JavaScript. \\u00b7 &*(_:_:). The pointwise wrapping product of two vectors. iOS 8.0+iPadOS 8.0+Mac Catalyst 13.0\", \"score\": 0.30068445, \"raw_content\": null}, {\"url\": \"https://www.nrc.gov/docs/ML1822/ML18221A178.pdf\", \"title\": \"[PDF] +_..J\", \"content\": \"I. EXCEPT WHERE ~OTEO OTHERwISE ALL ALARMS &. INDICATING LIGHTS ARE LOCATED ON THE HVAC. CONTROL BOARD (XCP-6211'1-AH) IN THE MAIN CONTROL RM.\", \"score\": 0.12407521, \"raw_content\": null}, {\"url\": \"https://vault.fbi.gov/Taylor%20Caldwell/Taylor%20Caldwell%20Part%206%20of%2011\", \"title\": \"[PDF] 2:_ _!_&#39 - FBI Records: The Vault\", \"content\": \"92. _. Field. FBI. idvised. \\u00a7 *\\u58ef%&#39; recently receivedathis. _inthe.\", \"score\": 0.074722916, \"raw_content\": null}], \"response_time\": 0.95}"
        },
        "execution_time": 3.3545849323272705,
        "is_functional_test": true
      },
      {
        "case_name": "Maximum Allowed Results",
        "purpose": "测试工具对最大允许结果数的边界处理",
        "args": {
          "query": "open source projects",
          "max_results": 100
        },
        "response": {
          "result": "{\"error\": \"Validation Error\", \"details\": \"1 validation error for TavilyRequest\\nmax_results\\n  Value error, max_results cannot exceed 10 [type=value_error, input_value=100, input_type=int]\\n    For further information visit https://errors.pydantic.dev/2.10/v/value_error\"}"
        },
        "execution_time": 0.0028839111328125,
        "is_functional_test": true
      }
    ],
    "tavily_answer_search": [
      {
        "case_name": "Basic Answer Search",
        "purpose": "验证使用默认参数的基本问答搜索功能是否正常工作",
        "args": {
          "query": "What is Python?"
        },
        "response": {
          "result": "{\"query\": \"What is Python?\", \"follow_up_questions\": null, \"answer\": null, \"images\": [], \"results\": [{\"url\": \"https://www.coursera.org/articles/what-is-python-used-for-a-beginners-guide-to-using-python\", \"title\": \"What Is Python Used For? A Beginner's Guide - Coursera\", \"content\": \"What is Python?\\n---------------\\n\\nPython is a computer programming language often used to build websites and software, automate tasks, and conduct data analysis. Python is a general-purpose language, meaning it can be used to create a variety of different programs and isn\\u2019t specialized for any specific problems. This versatility, along with its beginner-friendliness, has made it one of the most-used programming languages today. [...] According to a study by Statista, Python is the third most commonly used programming language among developers worldwide \\\\[1\\\\].\\n\\nDid you know? The name Python comes from Monty Python. When Guido van Rossum was creating Python, he was also reading the scripts from BBC\\u2019s _Monty Python\\u2019s Flying Circus_. He thought the name Python was appropriately short and slightly mysterious.\\n\\nImage 4\\n\\nWhat is Python used for?\\n------------------------ [...] Python is commonly used for developing websites and software, task automation, data analysis, and data visualization. Since it\\u2019s relatively easy to learn, Python has been adopted by many non-programmers, such as accountants and scientists, for a variety of everyday tasks, like organizing finances.\", \"sco...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计7529字符，剩余6029字符"
        },
        "execution_time": 4.434523820877075,
        "is_functional_test": true
      },
      {
        "case_name": "Advanced Answer Search with Max Results",
        "purpose": "验证高级搜索模式并限制返回结果数量的功能",
        "args": {
          "query": "What is machine learning?",
          "search_depth": "advanced",
          "max_results": 3
        },
        "response": {
          "result": "{\"query\": \"What is machine learning?\", \"follow_up_questions\": null, \"answer\": null, \"images\": [], \"results\": [{\"url\": \"https://mitsloan.mit.edu/ideas-made-to-matter/machine-learning-explained\", \"title\": \"Machine learning, explained | MIT Sloan\", \"content\": \"What is machine learning?\\n-----------------------------\\n\\nMachine learning is a subfield of artificial intelligence, which is broadly defined as the capability of a machine to imitate intelligent human behavior. Artificial intelligence systems are used to perform complex tasks in a way that is similar to how humans solve problems. [...] When companies today deploy artificial intelligence programs, they are most likely using machine learning \\u2014so much so that the terms are often used interchangeably, and sometimes ambiguously. Machine learning is a subfield of artificial intelligence that gives computers the ability to learn without explicitly being programmed. [...] Machine learning is one way to use AI. It was defined in the 1950s by AI pioneer Arthur Samuel as \\u201cthe field of study that gives computers the ability to learn without explicitly being programmed.\\u201d\", \"score\": 0.9377661, \"raw_content\": null}, {\"url\": \"https://en.wikipedia.org/wiki/Machine_learning\", \"title\": \"Machine learning - Wikipedia\", \"content\": \"Machine learning (ML) is a field of study in artificial intelligence concerned with the development and study of statistical algorithms that can learn from data and generalise to unseen data, and th...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计3453字符，剩余1953字符"
        },
        "execution_time": 5.035258054733276,
        "is_functional_test": true
      },
      {
        "case_name": "XSS Attempt in Answer Query",
        "purpose": "测试工具对潜在跨站脚本攻击查询的处理能力",
        "args": {
          "query": "<script>alert('xss')</script>"
        },
        "response": {
          "result": "{\"query\": \"<script>alert('xss')</script>\", \"follow_up_questions\": null, \"answer\": null, \"images\": [], \"results\": [{\"url\": \"https://www.invicti.com/learn/cross-site-scripting-xss/\", \"title\": \"Cross-Site Scripting (XSS) Vulnerability Guide - Invicti\", \"content\": \"The `<script>` tag:\\n       `<script src=\\n       `<script> alert(\\\"XSS\\\");</script>`\\n   The `onload` and `onerror` attributes:\\n       `<img src=x onerror=alert(\\\"XSS\\\")>`\\n       `<body onload=alert(\\\"XSS\\\")>`\\n   The `<body>` tag attributes:\\n       `<body background=\\\"javascript:alert(\\\"XSS\\\")\\\">`\\n   The `<img>` tag attributes:\\n       `<img src=\\\"javascript:alert(\\\"XSS\\\");\\\">`\\n       `<img dynsrc=\\\"javascript:alert('XSS')\\\">`\\n       `<img lowsrc=\\\"javascript:alert('XSS')\\\">`\\n   The `<iframe>` tag: [...] `<script>alert(\\\"XSS\\\");</script>` would simply make it to the HTTP response as harmless `scriptalertXSSscript`. [...] Use HTML escaping when you use untrusted data between HTML opening and closing tags. For example, `<td>&lt;script&gt;alert(&quot;XSS&quot;);&lt;/script&gt;</td>`.\\n   Use JavaScript escaping when you use untrusted data in one of your own scripts or in places where it\\u2019s possible to include JavaScript, such as event handlers (_onload_, _onmouseover_, etc.). For example, `<body onload=\\\"\\\\x3Cscript\\\\x3Ealert\\\\x28\\\\x22XSS\\\\x22\\\\x29\\\\x3B\\\\x3C\\\\x2Fscript\\\\x3E\\\">`\", \"score\": 0.8098936, \"raw_content\": null}, {\"url\": \"https://portswigger.net/web-security/cross-site-scripting\", \"title\": \"What is cr...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计5927字符，剩余4427字符"
        },
        "execution_time": 8.238263130187988,
        "is_functional_test": false
      },
      {
        "case_name": "Empty Query Input for Answer Search",
        "purpose": "测试工具对空查询输入的错误处理",
        "args": {
          "query": ""
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: "
        },
        "execution_time": 5.4313178062438965,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Max Results Value for Answer Search",
        "purpose": "验证工具对非法最大结果数参数的错误处理",
        "args": {
          "query": "test query",
          "max_results": -1
        },
        "response": {
          "result": "{\"error\": \"Validation Error\", \"details\": \"1 validation error for TavilyRequest\\nmax_results\\n  Value error, max_results must be a positive integer [type=value_error, input_value=-1, input_type=int]\\n    For further information visit https://errors.pydantic.dev/2.10/v/value_error\"}"
        },
        "execution_time": 0.005997896194458008,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters in Answer Query",
        "purpose": "验证工具对特殊字符查询的边界处理能力",
        "args": {
          "query": "!@#$%^&*()_+{}[]|\":;?/,.<>~`"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: "
        },
        "execution_time": 6.692802667617798,
        "is_functional_test": true
      },
      {
        "case_name": "Maximum Allowed Results for Answer Search",
        "purpose": "测试工具对最大允许结果数的边界处理",
        "args": {
          "query": "open source projects",
          "max_results": 100
        },
        "response": {
          "result": "{\"error\": \"Validation Error\", \"details\": \"1 validation error for TavilyRequest\\nmax_results\\n  Value error, max_results cannot exceed 10 [type=value_error, input_value=100, input_type=int]\\n    For further information visit https://errors.pydantic.dev/2.10/v/value_error\"}"
        },
        "execution_time": 0.004333972930908203,
        "is_functional_test": false
      },
      {
        "case_name": "Answer Search on Specific Domain",
        "purpose": "验证在特定域名范围内进行答案搜索的功能",
        "args": {
          "query": "climate change",
          "include_domains": [
            "gov.uk"
          ]
        },
        "response": {
          "result": "{\"query\": \"climate change\", \"follow_up_questions\": null, \"answer\": null, \"images\": [], \"results\": [{\"url\": \"https://www.un.org/en/climatechange/what-is-climate-change\", \"title\": \"What Is Climate Change? - Welcome to the United Nations\", \"content\": \"Climate change refers to long-term shifts in temperatures and weather patterns. Such shifts can be natural, due to changes in the sun\\u2019s activity or large volcanic eruptions. But since the 1800s, human activities have been the main driver of climate change, primarily due to the burning of fossil fuels like coal, oil and gas.\\n\\nBurning fossil fuels generates greenhouse gas emissions that act like a blanket wrapped around the Earth, trapping the sun\\u2019s heat and raising temperatures. [...] Many people think climate change mainly means warmer temperatures. But temperature rise is only the beginning of the story. Because the Earth is a system, where everything is connected, changes in one area can influence changes in all others.\\n\\nThe consequences of climate change now include, among others, intense droughts, water scarcity, severe fires, rising sea levels, flooding, melting polar ice, catastrophic storms and declining biodiversity.\\n\\nImage 3: The Earth is asking for help.\", \"score\": 0.81204927, \"raw_content\": null}, {\"url\": \"https://climatekids.nasa.gov/climate-change-meaning/\", \"title\": \"What Is Climate Change?\", \"content\": \"Climate change describes a change in the average conditions \\u2014 such as temperature and rainfall...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计7647字符，剩余6147字符"
        },
        "execution_time": 5.298755407333374,
        "is_functional_test": true
      }
    ],
    "tavily_news_search": [
      {
        "case_name": "Basic News Search",
        "purpose": "验证使用默认参数的基本新闻搜索功能是否正常工作",
        "args": {
          "query": "technology trends"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: "
        },
        "execution_time": 5.423135995864868,
        "is_functional_test": true
      },
      {
        "case_name": "News Search with Time Range",
        "purpose": "验证指定时间范围的新闻搜索功能是否正常工作",
        "args": {
          "query": "AI breakthroughs",
          "time_range": 14
        },
        "response": {
          "result": "{\"error\": \"HTTP Request Failed\", \"details\": \"Client error '422 Unprocessable Entity' for url 'https://api.tavily.com/search'\\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/422\"}"
        },
        "execution_time": 4.313558340072632,
        "is_functional_test": true
      },
      {
        "case_name": "News Search with Include Sources",
        "purpose": "验证包含特定新闻来源的搜索结果过滤功能",
        "args": {
          "query": "climate change",
          "include_sources": [
            "nytimes.com",
            "theguardian.com"
          ]
        },
        "response": {
          "result": "{\"error\": \"HTTP Request Failed\", \"details\": \"Client error '422 Unprocessable Entity' for url 'https://api.tavily.com/search'\\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/422\"}"
        },
        "execution_time": 2.743605852127075,
        "is_functional_test": true
      },
      {
        "case_name": "News Search with Exclude Sources",
        "purpose": "验证排除特定新闻来源的搜索结果过滤功能",
        "args": {
          "query": "global economy",
          "exclude_sources": [
            "forbes.com",
            "bloomberg.com"
          ]
        },
        "response": {
          "result": "{\"error\": \"HTTP Request Failed\", \"details\": \"Client error '422 Unprocessable Entity' for url 'https://api.tavily.com/search'\\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/422\"}"
        },
        "execution_time": 2.1100149154663086,
        "is_functional_test": true
      },
      {
        "case_name": "News Search with Max Results",
        "purpose": "验证限制返回新闻结果数量的功能",
        "args": {
          "query": "quantum computing",
          "max_results": 3
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: "
        },
        "execution_time": 5.457249879837036,
        "is_functional_test": true
      },
      {
        "case_name": "Combined Filter News Search",
        "purpose": "测试同时使用包含和排除新闻来源的搜索功能",
        "args": {
          "query": "renewable energy",
          "include_sources": [
            "gov.uk"
          ],
          "exclude_sources": [
            "ads.example"
          ]
        },
        "response": {
          "result": "{\"error\": \"HTTP Request Failed\", \"details\": \"Client error '422 Unprocessable Entity' for url 'https://api.tavily.com/search'\\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/422\"}"
        },
        "execution_time": 1.9889912605285645,
        "is_functional_test": true
      },
      {
        "case_name": "XSS Attempt in News Query",
        "purpose": "测试工具对潜在跨站脚本攻击查询的处理能力",
        "args": {
          "query": "<script>alert('xss')</script>"
        },
        "response": {
          "result": "{\"error\": \"HTTP Request Failed\", \"details\": \"Client error '422 Unprocessable Entity' for url 'https://api.tavily.com/search'\\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/422\"}"
        },
        "execution_time": 2.2993712425231934,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Max Results Value",
        "purpose": "验证工具对非法最大结果数参数的错误处理",
        "args": {
          "query": "test query",
          "max_results": -1
        },
        "response": {
          "result": "{\"error\": \"Validation Error\", \"details\": \"1 validation error for TavilyRequest\\nmax_results\\n  Value error, max_results must be a positive integer [type=value_error, input_value=-1, input_type=int]\\n    For further information visit https://errors.pydantic.dev/2.10/v/value_error\"}"
        },
        "execution_time": 0.003835439682006836,
        "is_functional_test": false
      },
      {
        "case_name": "Empty Query Input",
        "purpose": "测试工具对空查询输入的错误处理",
        "args": {
          "query": ""
        },
        "response": {
          "result": "{\"error\": \"HTTP Request Failed\", \"details\": \"Client error '422 Unprocessable Entity' for url 'https://api.tavily.com/search'\\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/422\"}"
        },
        "execution_time": 2.034061908721924,
        "is_functional_test": false
      },
      {
        "case_name": "Search with Special Characters",
        "purpose": "验证工具对特殊字符查询的边界处理能力",
        "args": {
          "query": "!@#$%^&*()_+{}[]|\":;?/,.<>~`"
        },
        "response": {
          "result": "{\"error\": \"HTTP Request Failed\", \"details\": \"Client error '422 Unprocessable Entity' for url 'https://api.tavily.com/search'\\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/422\"}"
        },
        "execution_time": 2.603792428970337,
        "is_functional_test": true
      },
      {
        "case_name": "Maximum Allowed Results",
        "purpose": "测试工具对最大允许结果数的边界处理",
        "args": {
          "query": "open source projects",
          "max_results": 100
        },
        "response": {
          "result": "{\"error\": \"Validation Error\", \"details\": \"1 validation error for TavilyRequest\\nmax_results\\n  Value error, max_results cannot exceed 10 [type=value_error, input_value=100, input_type=int]\\n    For further information visit https://errors.pydantic.dev/2.10/v/value_error\"}"
        },
        "execution_time": 0.003996610641479492,
        "is_functional_test": false
      }
    ]
  },
  "total_cases": 29
}