{
  "server_name": "server",
  "parent_dir": "refined",
  "report_name": "qwen-plus-mcp_unsplash_photo_searcher",
  "server_path": "workspace/pipeline-output-servers/qwen-plus/mcp_unsplash_photo_searcher/refined/server.py",
  "timestamp": "2025-07-12T20:50:48.357849",
  "tools": [
    {
      "name": "search_photos",
      "description": "\n    在 Unsplash 平台根据关键词、分页、排序、颜色和图片方向等条件搜索图片。\n\n    Args:\n        query (str): 搜索关键词（必填）\n        page (int): 分页编号，默认为 1\n        per_page (int): 每页结果数量，默认为 10，最大不超过 30\n        order_by (str): 排序方式：latest, oldest, relevant，默认为 relevant\n        color (str): 图片颜色过滤，如 red, blue, black 等（可选）\n        orientation (str): 图片方向：landscape, portrait, squarish（可选）\n\n    Returns:\n        dict: 包含以下字段的字典：\n            - results: 包含图片信息的列表，每项包括：\n                - id: 图片ID\n                - description: 图片描述\n                - urls: 包含不同尺寸URL的对象（raw, full, regular, small, thumb）\n                - width: 图片宽度\n                - height: 图片高度\n            - total: 总结果数\n            - page: 当前页码\n            - per_page: 每页结果数\n\n    Raises:\n        ValueError: 如果必填参数缺失或参数值无效\n        httpx.HTTPStatusError: 如果API请求失败\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "page": {
            "default": 1,
            "title": "Page",
            "type": "integer"
          },
          "per_page": {
            "default": 10,
            "title": "Per Page",
            "type": "integer"
          },
          "order_by": {
            "default": "relevant",
            "title": "Order By",
            "type": "string"
          },
          "color": {
            "default": null,
            "title": "Color",
            "type": "string"
          },
          "orientation": {
            "default": null,
            "title": "Orientation",
            "type": "string"
          }
        },
        "required": [
          "query"
        ],
        "title": "search_photosArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "search_photos": [
      {
        "case_name": "基本搜索功能测试",
        "purpose": "验证使用默认参数根据关键词搜索图片的基本功能是否正常",
        "args": {
          "query": "nature"
        },
        "response": {
          "result": "{\n  \"results\": [\n    {\n      \"id\": \"IicyiaPYGGI\",\n      \"description\": \"orange flowers\",\n      \"urls\": {\n        \"raw\": \"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxuYXR1cmV8ZW58MHx8fHwxNzUyMzIzODQwfDA&ixlib=rb-4.1.0\",\n        \"full\": \"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxuYXR1cmV8ZW58MHx8fHwxNzUyMzIzODQwfDA&ixlib=rb-4.1.0&q=85\",\n        \"regular\": \"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxuYXR1cmV8ZW58MHx8fHwxNzUyMzIzODQwfDA&ixlib=rb-4.1.0&q=80&w=1080\",\n        \"small\": \"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxuYXR1cmV8ZW58MHx8fHwxNzUyMzIzODQwfDA&ixlib=rb-4.1.0&q=80&w=400\",\n        \"thumb\": \"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxuYXR1cmV8ZW58MHx8fHwxNzUyMzIzODQwfDA&ixlib=rb-4.1.0&q=80&w=200\",\n        \"small_s3\": \"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1465146344425-f00d5f5c8f07\"\n      },\n      \"width\": 4928,\n      \"height\": 3264\n    },\n    {\n      \"id\": \"EwKXn5CapA4\",\n      \"description\": \"Finding my roots\",\n      \"urls\": {\n        \"raw\": \"https://images.unsplash.com/photo-1518495973542-4542c06a5843?ixid=M3w3NjQwNzV8MHwxfH...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计13645字符，剩余12145字符"
        },
        "execution_time": 1.77268385887146,
        "is_functional_test": true
      },
      {
        "case_name": "指定分页和每页数量的搜索",
        "purpose": "测试分页参数 page 和 per_page 是否能正确控制分页结果",
        "args": {
          "query": "city",
          "page": 2,
          "per_page": 15
        },
        "response": {
          "result": "{\n  \"results\": [\n    {\n      \"id\": \"tnv84LOjes4\",\n      \"description\": \"@sawyerbengtson\",\n      \"urls\": {\n        \"raw\": \"https://images.unsplash.com/photo-1494522855154-9297ac14b55f?ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxNnx8Y2l0eXxlbnwwfHx8fDE3NTIzMjQ2NzZ8MA&ixlib=rb-4.1.0\",\n        \"full\": \"https://images.unsplash.com/photo-1494522855154-9297ac14b55f?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxNnx8Y2l0eXxlbnwwfHx8fDE3NTIzMjQ2NzZ8MA&ixlib=rb-4.1.0&q=85\",\n        \"regular\": \"https://images.unsplash.com/photo-1494522855154-9297ac14b55f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxNnx8Y2l0eXxlbnwwfHx8fDE3NTIzMjQ2NzZ8MA&ixlib=rb-4.1.0&q=80&w=1080\",\n        \"small\": \"https://images.unsplash.com/photo-1494522855154-9297ac14b55f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxNnx8Y2l0eXxlbnwwfHx8fDE3NTIzMjQ2NzZ8MA&ixlib=rb-4.1.0&q=80&w=400\",\n        \"thumb\": \"https://images.unsplash.com/photo-1494522855154-9297ac14b55f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxNnx8Y2l0eXxlbnwwfHx8fDE3NTIzMjQ2NzZ8MA&ixlib=rb-4.1.0&q=80&w=200\",\n        \"small_s3\": \"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1494522855154-9297ac14b55f\"\n      },\n      \"width\": 5472,\n      \"height\": 3648\n    },\n    {\n      \"id\": \"6NmnrAJPq7M\",\n      \"description\": \"This was taken from helicopter I have booked in NYC, it was great experience, highly recommend to book flight with FlyNyon.\",\n      \"urls\":...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计19899字符，剩余18399字符"
        },
        "execution_time": 0.5880115032196045,
        "is_functional_test": true
      },
      {
        "case_name": "按最新排序搜索",
        "purpose": "验证排序方式为 latest 是否生效",
        "args": {
          "query": "technology",
          "order_by": "latest"
        },
        "response": {
          "result": "{\n  \"results\": [\n    {\n      \"id\": \"F4ottWBnCpM\",\n      \"description\": \"a laptop computer sitting on top of a white table\",\n      \"urls\": {\n        \"raw\": \"https://images.unsplash.com/photo-1648737966636-2fc3a5fffc8a?ixid=M3w3NjQwNzV8MXwxfHNlYXJjaHwxfHx0ZWNobm9sb2d5fGVufDB8fDJ8fDE3NTIzMjQyMjd8MA&ixlib=rb-4.1.0\",\n        \"full\": \"https://images.unsplash.com/photo-1648737966636-2fc3a5fffc8a?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NjQwNzV8MXwxfHNlYXJjaHwxfHx0ZWNobm9sb2d5fGVufDB8fDJ8fDE3NTIzMjQyMjd8MA&ixlib=rb-4.1.0&q=85\",\n        \"regular\": \"https://images.unsplash.com/photo-1648737966636-2fc3a5fffc8a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MXwxfHNlYXJjaHwxfHx0ZWNobm9sb2d5fGVufDB8fDJ8fDE3NTIzMjQyMjd8MA&ixlib=rb-4.1.0&q=80&w=1080\",\n        \"small\": \"https://images.unsplash.com/photo-1648737966636-2fc3a5fffc8a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MXwxfHNlYXJjaHwxfHx0ZWNobm9sb2d5fGVufDB8fDJ8fDE3NTIzMjQyMjd8MA&ixlib=rb-4.1.0&q=80&w=400\",\n        \"thumb\": \"https://images.unsplash.com/photo-1648737966636-2fc3a5fffc8a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MXwxfHNlYXJjaHwxfHx0ZWNobm9sb2d5fGVufDB8fDJ8fDE3NTIzMjQyMjd8MA&ixlib=rb-4.1.0&q=80&w=200\",\n        \"small_s3\": \"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1648737966636-2fc3a5fffc8a\"\n      },\n      \"width\": 8256,\n      \"height\": 5504\n    },\n    {\n      \"id\": \"DCq3Lfkkpjo\",\n      \"description\": \"A bullet train waits at a station platform.\",\n      \"urls\": {\n   ...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计14114字符，剩余12614字符"
        },
        "execution_time": 0.22800183296203613,
        "is_functional_test": true
      },
      {
        "case_name": "颜色过滤搜索测试",
        "purpose": "测试 color 参数是否能正确过滤特定颜色的图片",
        "args": {
          "query": "flower",
          "color": "red"
        },
        "response": {
          "result": "{\n  \"results\": [\n    {\n      \"id\": \"KSazKUB4T-Y\",\n      \"description\": \"Red rose in macro\",\n      \"urls\": {\n        \"raw\": \"https://images.unsplash.com/photo-1425253496296-bb04603db783?ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxmbG93ZXJ8ZW58MHx8fHJlZHwxNzUyMzI0Njc3fDA&ixlib=rb-4.1.0\",\n        \"full\": \"https://images.unsplash.com/photo-1425253496296-bb04603db783?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxmbG93ZXJ8ZW58MHx8fHJlZHwxNzUyMzI0Njc3fDA&ixlib=rb-4.1.0&q=85\",\n        \"regular\": \"https://images.unsplash.com/photo-1425253496296-bb04603db783?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxmbG93ZXJ8ZW58MHx8fHJlZHwxNzUyMzI0Njc3fDA&ixlib=rb-4.1.0&q=80&w=1080\",\n        \"small\": \"https://images.unsplash.com/photo-1425253496296-bb04603db783?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxmbG93ZXJ8ZW58MHx8fHJlZHwxNzUyMzI0Njc3fDA&ixlib=rb-4.1.0&q=80&w=400\",\n        \"thumb\": \"https://images.unsplash.com/photo-1425253496296-bb04603db783?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxmbG93ZXJ8ZW58MHx8fHJlZHwxNzUyMzI0Njc3fDA&ixlib=rb-4.1.0&q=80&w=200\",\n        \"small_s3\": \"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1425253496296-bb04603db783\"\n      },\n      \"width\": 4202,\n      \"height\": 2848\n    },\n    {\n      \"id\": \"51RncL_3K7A\",\n      \"description\": \"poppy\",\n      \"urls\": {\n        \"raw\": \"https://images.unsplash.com/photo-1510519123104-03f2bd73ca60?ixid=M3w3Nj...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计13299字符，剩余11799字符"
        },
        "execution_time": 0.7804396152496338,
        "is_functional_test": true
      },
      {
        "case_name": "方向过滤搜索测试",
        "purpose": "验证 orientation 参数是否能正确过滤图片方向",
        "args": {
          "query": "mountain",
          "orientation": "portrait"
        },
        "response": {
          "result": "{\n  \"results\": [\n    {\n      \"id\": \"z8ct_Q3oCqM\",\n      \"description\": \"Road along steep mountains\",\n      \"urls\": {\n        \"raw\": \"https://images.unsplash.com/photo-1478059299873-f047d8c5fe1a?ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxtb3VudGFpbnxlbnwwfDF8fHwxNzUyMzI0Njc4fDA&ixlib=rb-4.1.0\",\n        \"full\": \"https://images.unsplash.com/photo-1478059299873-f047d8c5fe1a?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxtb3VudGFpbnxlbnwwfDF8fHwxNzUyMzI0Njc4fDA&ixlib=rb-4.1.0&q=85\",\n        \"regular\": \"https://images.unsplash.com/photo-1478059299873-f047d8c5fe1a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxtb3VudGFpbnxlbnwwfDF8fHwxNzUyMzI0Njc4fDA&ixlib=rb-4.1.0&q=80&w=1080\",\n        \"small\": \"https://images.unsplash.com/photo-1478059299873-f047d8c5fe1a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxtb3VudGFpbnxlbnwwfDF8fHwxNzUyMzI0Njc4fDA&ixlib=rb-4.1.0&q=80&w=400\",\n        \"thumb\": \"https://images.unsplash.com/photo-1478059299873-f047d8c5fe1a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxtb3VudGFpbnxlbnwwfDF8fHwxNzUyMzI0Njc4fDA&ixlib=rb-4.1.0&q=80&w=200\",\n        \"small_s3\": \"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1478059299873-f047d8c5fe1a\"\n      },\n      \"width\": 3072,\n      \"height\": 4608\n    },\n    {\n      \"id\": \"xfngap_DToE\",\n      \"description\": \"ice-capped mountain at daytime\",\n      \"urls\": {\n        \"raw\": \"https://images.unsplash.com/photo-1554...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计13761字符，剩余12261字符"
        },
        "execution_time": 1.1050951480865479,
        "is_functional_test": true
      },
      {
        "case_name": "组合多条件搜索测试",
        "purpose": "测试多个参数组合使用时是否都能生效",
        "args": {
          "query": "animal",
          "page": 3,
          "per_page": 20,
          "order_by": "oldest",
          "color": "black",
          "orientation": "landscape"
        },
        "response": {
          "result": "{\n  \"results\": [\n    {\n      \"id\": \"LdYXkt5zeL0\",\n      \"description\": \"black hen\",\n      \"urls\": {\n        \"raw\": \"https://images.unsplash.com/photo-1471623963279-63bd05df0421?ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHw0MXx8YW5pbWFsfGVufDB8MHwzfGJsYWNrfDE3NTIzMjQ2Nzl8MA&ixlib=rb-4.1.0\",\n        \"full\": \"https://images.unsplash.com/photo-1471623963279-63bd05df0421?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHw0MXx8YW5pbWFsfGVufDB8MHwzfGJsYWNrfDE3NTIzMjQ2Nzl8MA&ixlib=rb-4.1.0&q=85\",\n        \"regular\": \"https://images.unsplash.com/photo-1471623963279-63bd05df0421?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHw0MXx8YW5pbWFsfGVufDB8MHwzfGJsYWNrfDE3NTIzMjQ2Nzl8MA&ixlib=rb-4.1.0&q=80&w=1080\",\n        \"small\": \"https://images.unsplash.com/photo-1471623963279-63bd05df0421?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHw0MXx8YW5pbWFsfGVufDB8MHwzfGJsYWNrfDE3NTIzMjQ2Nzl8MA&ixlib=rb-4.1.0&q=80&w=400\",\n        \"thumb\": \"https://images.unsplash.com/photo-1471623963279-63bd05df0421?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHw0MXx8YW5pbWFsfGVufDB8MHwzfGJsYWNrfDE3NTIzMjQ2Nzl8MA&ixlib=rb-4.1.0&q=80&w=200\",\n        \"small_s3\": \"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1471623963279-63bd05df0421\"\n      },\n      \"width\": 4000,\n      \"height\": 2667\n    },\n    {\n      \"id\": \"k84eQmrjCPc\",\n      \"description\": \"white bird on black cage\",\n      \"urls\": {\n        \"raw\": \"https://images.unsplash.co...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计27365字符，剩余25865字符"
        },
        "execution_time": 0.7741670608520508,
        "is_functional_test": true
      },
      {
        "case_name": "无效查询参数处理",
        "purpose": "验证当 query 参数为空时是否抛出 ValueError 异常",
        "args": {
          "query": ""
        },
        "response": {
          "error": "ToolException: Error executing tool search_photos: 搜索图片时发生错误: 搜索关键词不能为空"
        },
        "execution_time": 0.006158113479614258,
        "is_functional_test": false
      },
      {
        "case_name": "超出最大 per_page 值测试",
        "purpose": "测试当 per_page 超过最大允许值（30）时是否抛出异常",
        "args": {
          "query": "cars",
          "per_page": 35
        },
        "response": {
          "error": "ToolException: Error executing tool search_photos: 搜索图片时发生错误: 每页结果数量必须在1到30之间"
        },
        "execution_time": 0.0040013790130615234,
        "is_functional_test": false
      }
    ]
  },
  "total_cases": 8
}