{
  "server_name": "server",
  "parent_dir": "refined",
  "report_name": "qwen-plus-mcp_data_exploration_analyzer",
  "server_path": "workspace/pipeline-output-servers/qwen-plus/mcp_data_exploration_analyzer/refined/server.py",
  "timestamp": "2025-07-12T20:47:39.620646",
  "tools": [
    {
      "name": "load_csv",
      "description": "\n    加载 CSV 文件数据并将其存储在内存中，支持多个数据集同时操作。\n\n    Args:\n        file_path: CSV 文件的路径。\n        dataset_name: 用于标识该数据集的名称（可选，默认为文件名）。\n\n    Returns:\n        一个包含状态、消息和数据集名称的 JSON 字符串。\n\n    示例:\n        load_csv(file_path=\"data.csv\", dataset_name=\"my_dataset\")\n    ",
      "args_schema": {
        "properties": {
          "file_path": {
            "title": "File Path",
            "type": "string"
          },
          "dataset_name": {
            "default": null,
            "title": "Dataset Name",
            "type": "string"
          }
        },
        "required": [
          "file_path"
        ],
        "title": "load_csvArguments",
        "type": "object"
      }
    },
    {
      "name": "run_script",
      "description": "\n    执行用户提供的 Python 数据分析脚本，支持使用 pandas、numpy、scipy、sklearn 和 statsmodels 等数据分析库，并将处理结果保存到内存中供后续操作。\n\n    Args:\n        script_code: 要执行的 Python 脚本代码。\n        dataset_name: 指定要使用的数据集名称。\n\n    Returns:\n        一个包含状态、脚本输出和处理后数据集名称的 JSON 字符串。\n\n    示例:\n        run_script(script_code=\"df.describe()\", dataset_name=\"my_dataset\")\n    ",
      "args_schema": {
        "properties": {
          "script_code": {
            "title": "Script Code",
            "type": "string"
          },
          "dataset_name": {
            "title": "Dataset Name",
            "type": "string"
          }
        },
        "required": [
          "script_code",
          "dataset_name"
        ],
        "title": "run_scriptArguments",
        "type": "object"
      }
    },
    {
      "name": "generate_exploration_plan",
      "description": "\n    自动分析数据结构并生成数据探索计划，提供深度洞察的数据可视化建议。\n\n    Args:\n        dataset_name: 需要进行探索的数据集名称。\n\n    Returns:\n        一个包含状态、探索计划和可视化建议的 JSON 字符串。\n\n    示例:\n        generate_exploration_plan(dataset_name=\"my_dataset\")\n    ",
      "args_schema": {
        "properties": {
          "dataset_name": {
            "title": "Dataset Name",
            "type": "string"
          }
        },
        "required": [
          "dataset_name"
        ],
        "title": "generate_exploration_planArguments",
        "type": "object"
      }
    },
    {
      "name": "execute_visualization",
      "description": "\n    根据生成的数据探索计划执行数据可视化任务。\n\n    Args:\n        plan_id: 指定要执行的探索计划 ID。\n\n    Returns:\n        一个包含状态和可视化结果的 JSON 字符串。\n\n    示例:\n        execute_visualization(plan_id=\"exploration_plan_0001\")\n    ",
      "args_schema": {
        "properties": {
          "plan_id": {
            "title": "Plan Id",
            "type": "string"
          }
        },
        "required": [
          "plan_id"
        ],
        "title": "execute_visualizationArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "load_csv": [
      {
        "case_name": "基本CSV加载测试",
        "purpose": "验证工具能够正确加载一个有效的CSV文件并使用默认数据集名称。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\converted_output.pdf"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"加载 CSV 时发生错误: 文件 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\converted_output.pdf' 不存在。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 78, in load_csv\\n    raise FileNotFoundError(f\\\"文件 '{file_path}' 不存在。\\\")\\nFileNotFoundError: 文件 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\converted_output.pdf' 不存在。\\n\"}"
        },
        "execution_time": 0.010001897811889648,
        "is_functional_test": true
      },
      {
        "case_name": "带指定数据集名称的CSV加载",
        "purpose": "验证工具能够加载CSV文件并使用用户指定的数据集名称。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
          "dataset_name": "custom_dataset"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"加载 CSV 时发生错误: 仅支持 CSV 文件格式。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 81, in load_csv\\n    raise ValueError(\\\"仅支持 CSV 文件格式。\\\")\\nValueError: 仅支持 CSV 文件格式。\\n\"}"
        },
        "execution_time": 0.010007619857788086,
        "is_functional_test": true
      },
      {
        "case_name": "加载不存在的CSV文件",
        "purpose": "验证工具在指定路径不存在CSV文件时是否能正确处理错误。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\non_existent.csv"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"加载 CSV 时发生错误: 文件 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\non_existent.csv' 不存在。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 78, in load_csv\\n    raise FileNotFoundError(f\\\"文件 '{file_path}' 不存在。\\\")\\nFileNotFoundError: 文件 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\non_existent.csv' 不存在。\\n\"}"
        },
        "execution_time": 0.009993791580200195,
        "is_functional_test": false
      },
      {
        "case_name": "加载非CSV文件",
        "purpose": "验证工具是否拒绝加载非CSV格式的文件。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nature_cropped.png"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"加载 CSV 时发生错误: 文件 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\nature_cropped.png' 不存在。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 78, in load_csv\\n    raise FileNotFoundError(f\\\"文件 '{file_path}' 不存在。\\\")\\nFileNotFoundError: 文件 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\nature_cropped.png' 不存在。\\n\"}"
        },
        "execution_time": 0.009997844696044922,
        "is_functional_test": false
      },
      {
        "case_name": "特殊字符数据集名称测试",
        "purpose": "验证工具能否接受包含特殊字符的数据集名称。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\rule1.pdf",
          "dataset_name": "dataset@#$_test"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"加载 CSV 时发生错误: 仅支持 CSV 文件格式。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 81, in load_csv\\n    raise ValueError(\\\"仅支持 CSV 文件格式。\\\")\\nValueError: 仅支持 CSV 文件格式。\\n\"}"
        },
        "execution_time": 0.007998228073120117,
        "is_functional_test": true
      },
      {
        "case_name": "长路径和长数据集名测试",
        "purpose": "验证工具在处理最大长度文件路径和数据集名称时的表现。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\very_long_output_filename_that_tests_the_maximum_allowed_length_of_a_file_path_in_windows_converted.pdf",
          "dataset_name": "very_long_dataset_name_that_might_exceed_internal_limits"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"加载 CSV 时发生错误: 文件 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\very_long_output_filename_that_tests_the_maximum_allowed_length_of_a_file_path_in_windows_converted.pdf' 不存在。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 78, in load_csv\\n    raise FileNotFoundError(f\\\"文件 '{file_path}' 不存在。\\\")\\nFileNotFoundError: 文件 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\very_long_output_filename_that_tests_the_maximum_allowed_length_of_a_file_path_in_windows_converted.pdf' 不存在。\\n\"}"
        },
        "execution_time": 0.009001016616821289,
        "is_functional_test": true
      },
      {
        "case_name": "尝试加载隐藏文件夹中的CSV",
        "purpose": "验证工具是否可以安全地处理隐藏系统目录中的文件路径。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\.git\\config"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"加载 CSV 时发生错误: 仅支持 CSV 文件格式。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 81, in load_csv\\n    raise ValueError(\\\"仅支持 CSV 文件格式。\\\")\\nValueError: 仅支持 CSV 文件格式。\\n\"}"
        },
        "execution_time": 0.007006406784057617,
        "is_functional_test": false
      },
      {
        "case_name": "空文件路径输入测试",
        "purpose": "验证工具对空字符串作为文件路径的处理能力。",
        "args": {
          "file_path": ""
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"加载 CSV 时发生错误: 'file_path' 不能为空。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 72, in load_csv\\n    raise ValueError(\\\"'file_path' 不能为空。\\\")\\nValueError: 'file_path' 不能为空。\\n\"}"
        },
        "execution_time": 0.004998683929443359,
        "is_functional_test": false
      }
    ],
    "generate_exploration_plan": [
      {
        "case_name": "基本数据集探索计划生成",
        "purpose": "验证工具能够为一个有效的数据集生成探索计划和可视化建议。",
        "args": {
          "dataset_name": "custom_dataset"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"生成探索计划时发生错误: 数据集 'custom_dataset' 不存在，请先使用 load_csv 加载数据。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 242, in generate_exploration_plan\\n    raise ValueError(f\\\"数据集 '{dataset_name}' 不存在，请先使用 load_csv 加载数据。\\\")\\nValueError: 数据集 'custom_dataset' 不存在，请先使用 load_csv 加载数据。\\n\"}"
        },
        "execution_time": 0.003646373748779297,
        "is_functional_test": true
      },
      {
        "case_name": "空数据集名称测试",
        "purpose": "验证工具在数据集名称为空时是否能正确处理错误。",
        "args": {
          "dataset_name": ""
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"生成探索计划时发生错误: 'dataset_name' 必须是有效的字符串。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 239, in generate_exploration_plan\\n    raise ValueError(\\\"'dataset_name' 必须是有效的字符串。\\\")\\nValueError: 'dataset_name' 必须是有效的字符串。\\n\"}"
        },
        "execution_time": 0.004555225372314453,
        "is_functional_test": false
      },
      {
        "case_name": "特殊字符数据集名称测试",
        "purpose": "验证工具能否接受包含特殊字符的数据集名称。",
        "args": {
          "dataset_name": "dataset@#$_test"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"生成探索计划时发生错误: 数据集 'dataset@#$_test' 不存在，请先使用 load_csv 加载数据。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 242, in generate_exploration_plan\\n    raise ValueError(f\\\"数据集 '{dataset_name}' 不存在，请先使用 load_csv 加载数据。\\\")\\nValueError: 数据集 'dataset@#$_test' 不存在，请先使用 load_csv 加载数据。\\n\"}"
        },
        "execution_time": 0.008003473281860352,
        "is_functional_test": true
      },
      {
        "case_name": "长数据集名称测试",
        "purpose": "验证工具在处理最大长度数据集名称时的表现。",
        "args": {
          "dataset_name": "very_long_dataset_name_that_might_exceed_internal_limits"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"生成探索计划时发生错误: 数据集 'very_long_dataset_name_that_might_exceed_internal_limits' 不存在，请先使用 load_csv 加载数据。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 242, in generate_exploration_plan\\n    raise ValueError(f\\\"数据集 '{dataset_name}' 不存在，请先使用 load_csv 加载数据。\\\")\\nValueError: 数据集 'very_long_dataset_name_that_might_exceed_internal_limits' 不存在，请先使用 load_csv 加载数据。\\n\"}"
        },
        "execution_time": 0.0040013790130615234,
        "is_functional_test": true
      },
      {
        "case_name": "非存在数据集测试",
        "purpose": "验证工具在指定数据集不存在时是否能正确返回错误信息。",
        "args": {
          "dataset_name": "non_existent_dataset"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"生成探索计划时发生错误: 数据集 'non_existent_dataset' 不存在，请先使用 load_csv 加载数据。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 242, in generate_exploration_plan\\n    raise ValueError(f\\\"数据集 '{dataset_name}' 不存在，请先使用 load_csv 加载数据。\\\")\\nValueError: 数据集 'non_existent_dataset' 不存在，请先使用 load_csv 加载数据。\\n\"}"
        },
        "execution_time": 0.0038614273071289062,
        "is_functional_test": false
      },
      {
        "case_name": "SQL注入风格数据集名称测试",
        "purpose": "验证工具是否安全地处理包含潜在SQL注入风险的输入。",
        "args": {
          "dataset_name": "dataset'; DROP TABLE datasets;--"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"生成探索计划时发生错误: 数据集 'dataset'; DROP TABLE datasets;--' 不存在，请先使用 load_csv 加载数据。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 242, in generate_exploration_plan\\n    raise ValueError(f\\\"数据集 '{dataset_name}' 不存在，请先使用 load_csv 加载数据。\\\")\\nValueError: 数据集 'dataset'; DROP TABLE datasets;--' 不存在，请先使用 load_csv 加载数据。\\n\"}"
        },
        "execution_time": 0.007779836654663086,
        "is_functional_test": false
      },
      {
        "case_name": "带路径遍历的数据集名称测试",
        "purpose": "验证工具是否拒绝处理包含路径遍历攻击的数据集名称。",
        "args": {
          "dataset_name": "../../etc/passwd"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"生成探索计划时发生错误: 数据集 '../../etc/passwd' 不存在，请先使用 load_csv 加载数据。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 242, in generate_exploration_plan\\n    raise ValueError(f\\\"数据集 '{dataset_name}' 不存在，请先使用 load_csv 加载数据。\\\")\\nValueError: 数据集 '../../etc/passwd' 不存在，请先使用 load_csv 加载数据。\\n\"}"
        },
        "execution_time": 0.0039980411529541016,
        "is_functional_test": false
      }
    ],
    "execute_visualization": [
      {
        "case_name": "基本可视化执行测试",
        "purpose": "验证工具能够根据有效的探索计划 ID 正确执行数据可视化任务。",
        "args": {
          "plan_id": "exploration_plan_0001"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"执行可视化时发生错误: 找不到 ID 为 'exploration_plan_0001' 的探索计划。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 389, in execute_visualization\\n    raise ValueError(f\\\"找不到 ID 为 '{plan_id}' 的探索计划。\\\")\\nValueError: 找不到 ID 为 'exploration_plan_0001' 的探索计划。\\n\"}"
        },
        "execution_time": 0.004086971282958984,
        "is_functional_test": true
      },
      {
        "case_name": "空计划ID测试",
        "purpose": "验证工具在 plan_id 参数为空时是否能正确处理错误。",
        "args": {
          "plan_id": ""
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"执行可视化时发生错误: 'plan_id' 必须是有效的字符串。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 379, in execute_visualization\\n    raise ValueError(\\\"'plan_id' 必须是有效的字符串。\\\")\\nValueError: 'plan_id' 必须是有效的字符串。\\n\"}"
        },
        "execution_time": 0.00500035285949707,
        "is_functional_test": false
      },
      {
        "case_name": "不存在的计划ID测试",
        "purpose": "验证工具在指定 plan_id 对应的探索计划不存在时是否能正确返回错误信息。",
        "args": {
          "plan_id": "non_existent_plan"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"执行可视化时发生错误: 找不到 ID 为 'non_existent_plan' 的探索计划。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 389, in execute_visualization\\n    raise ValueError(f\\\"找不到 ID 为 '{plan_id}' 的探索计划。\\\")\\nValueError: 找不到 ID 为 'non_existent_plan' 的探索计划。\\n\"}"
        },
        "execution_time": 0.01052093505859375,
        "is_functional_test": false
      },
      {
        "case_name": "特殊字符计划ID测试",
        "purpose": "验证工具能否安全地处理包含特殊字符的 plan_id 输入。",
        "args": {
          "plan_id": "plan@#$_test"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"执行可视化时发生错误: 找不到 ID 为 'plan@#$_test' 的探索计划。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 389, in execute_visualization\\n    raise ValueError(f\\\"找不到 ID 为 '{plan_id}' 的探索计划。\\\")\\nValueError: 找不到 ID 为 'plan@#$_test' 的探索计划。\\n\"}"
        },
        "execution_time": 0.004998445510864258,
        "is_functional_test": true
      },
      {
        "case_name": "长计划ID测试",
        "purpose": "验证工具在处理最大长度 plan_id 时的表现。",
        "args": {
          "plan_id": "very_long_plan_id_that_might_exceed_internal_limits_for_visualization_execution"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"执行可视化时发生错误: 找不到 ID 为 'very_long_plan_id_that_might_exceed_internal_limits_for_visualization_execution' 的探索计划。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 389, in execute_visualization\\n    raise ValueError(f\\\"找不到 ID 为 '{plan_id}' 的探索计划。\\\")\\nValueError: 找不到 ID 为 'very_long_plan_id_that_might_exceed_internal_limits_for_visualization_execution' 的探索计划。\\n\"}"
        },
        "execution_time": 0.007477283477783203,
        "is_functional_test": true
      },
      {
        "case_name": "SQL注入风格计划ID测试",
        "purpose": "验证工具是否安全地处理包含潜在SQL注入风险的 plan_id 输入。",
        "args": {
          "plan_id": "plan'; DROP TABLE plans;--"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"执行可视化时发生错误: 找不到 ID 为 'plan'; DROP TABLE plans;--' 的探索计划。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 389, in execute_visualization\\n    raise ValueError(f\\\"找不到 ID 为 '{plan_id}' 的探索计划。\\\")\\nValueError: 找不到 ID 为 'plan'; DROP TABLE plans;--' 的探索计划。\\n\"}"
        },
        "execution_time": 0.005526304244995117,
        "is_functional_test": false
      },
      {
        "case_name": "带路径遍历的计划ID测试",
        "purpose": "验证工具是否拒绝处理包含路径遍历攻击的 plan_id。",
        "args": {
          "plan_id": "../../etc/passwd"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"执行可视化时发生错误: 找不到 ID 为 '../../etc/passwd' 的探索计划。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 389, in execute_visualization\\n    raise ValueError(f\\\"找不到 ID 为 '{plan_id}' 的探索计划。\\\")\\nValueError: 找不到 ID 为 '../../etc/passwd' 的探索计划。\\n\"}"
        },
        "execution_time": 0.00485992431640625,
        "is_functional_test": false
      },
      {
        "case_name": "边界值计划ID测试",
        "purpose": "验证工具在处理最小和最大长度 plan_id 时的行为。",
        "args": {
          "plan_id": "a"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"执行可视化时发生错误: 找不到 ID 为 'a' 的探索计划。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 389, in execute_visualization\\n    raise ValueError(f\\\"找不到 ID 为 '{plan_id}' 的探索计划。\\\")\\nValueError: 找不到 ID 为 'a' 的探索计划。\\n\"}"
        },
        "execution_time": 0.007686138153076172,
        "is_functional_test": true
      }
    ],
    "run_script": [
      {
        "case_name": "基本脚本执行测试",
        "purpose": "验证工具能够正确执行一个简单的数据分析脚本并返回结果。",
        "args": {
          "script_code": "import pandas as pd\nresult = df.describe()\nresult.to_dict()",
          "dataset_name": "custom_dataset"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"执行脚本时发生错误: 数据集 'custom_dataset' 不存在，请先使用 load_csv 加载数据。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 150, in run_script\\n    raise ValueError(f\\\"数据集 '{dataset_name}' 不存在，请先使用 load_csv 加载数据。\\\")\\nValueError: 数据集 'custom_dataset' 不存在，请先使用 load_csv 加载数据。\\n\"}"
        },
        "execution_time": 0.004495143890380859,
        "is_functional_test": true
      },
      {
        "case_name": "空脚本代码测试",
        "purpose": "验证工具在提供的脚本代码为空时是否能正确处理错误。",
        "args": {
          "script_code": "",
          "dataset_name": "custom_dataset"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"执行脚本时发生错误: 'script_code' 不能为空。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 144, in run_script\\n    raise ValueError(\\\"'script_code' 不能为空。\\\")\\nValueError: 'script_code' 不能为空。\\n\"}"
        },
        "execution_time": 0.0039975643157958984,
        "is_functional_test": false
      },
      {
        "case_name": "无效数据集名称测试",
        "purpose": "验证工具在指定的数据集名称不存在时是否能正确返回错误信息。",
        "args": {
          "script_code": "df.head()",
          "dataset_name": "non_existent_dataset"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"执行脚本时发生错误: 数据集 'non_existent_dataset' 不存在，请先使用 load_csv 加载数据。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 150, in run_script\\n    raise ValueError(f\\\"数据集 '{dataset_name}' 不存在，请先使用 load_csv 加载数据。\\\")\\nValueError: 数据集 'non_existent_dataset' 不存在，请先使用 load_csv 加载数据。\\n\"}"
        },
        "execution_time": 0.0064737796783447266,
        "is_functional_test": false
      },
      {
        "case_name": "使用特殊字符数据集名称执行脚本",
        "purpose": "验证工具能否接受包含特殊字符的数据集名称并成功执行脚本。",
        "args": {
          "script_code": "df.shape",
          "dataset_name": "dataset@#$_test"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"执行脚本时发生错误: 数据集 'dataset@#$_test' 不存在，请先使用 load_csv 加载数据。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 150, in run_script\\n    raise ValueError(f\\\"数据集 '{dataset_name}' 不存在，请先使用 load_csv 加载数据。\\\")\\nValueError: 数据集 'dataset@#$_test' 不存在，请先使用 load_csv 加载数据。\\n\"}"
        },
        "execution_time": 0.005000114440917969,
        "is_functional_test": true
      },
      {
        "case_name": "长脚本执行测试",
        "purpose": "验证工具在执行较长且复杂的脚本时的表现。",
        "args": {
          "script_code": "import pandas as pd\nfrom sklearn.linear_model import LinearRegression\nX = df[['col1']]\ny = df['col2']\nmodel = LinearRegression().fit(X, y)\n{'slope': model.coef_[0], 'intercept': model.intercept_}",
          "dataset_name": "custom_dataset"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"执行脚本时发生错误: 数据集 'custom_dataset' 不存在，请先使用 load_csv 加载数据。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 150, in run_script\\n    raise ValueError(f\\\"数据集 '{dataset_name}' 不存在，请先使用 load_csv 加载数据。\\\")\\nValueError: 数据集 'custom_dataset' 不存在，请先使用 load_csv 加载数据。\\n\"}"
        },
        "execution_time": 0.010997533798217773,
        "is_functional_test": true
      },
      {
        "case_name": "SQL注入风格脚本测试",
        "purpose": "验证工具是否安全地处理潜在恶意脚本输入。",
        "args": {
          "script_code": "import os\nos.system('rm -rf /')",
          "dataset_name": "custom_dataset"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"执行脚本时发生错误: 数据集 'custom_dataset' 不存在，请先使用 load_csv 加载数据。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 150, in run_script\\n    raise ValueError(f\\\"数据集 '{dataset_name}' 不存在，请先使用 load_csv 加载数据。\\\")\\nValueError: 数据集 'custom_dataset' 不存在，请先使用 load_csv 加载数据。\\n\"}"
        },
        "execution_time": 0.006003379821777344,
        "is_functional_test": false
      },
      {
        "case_name": "路径遍历攻击测试",
        "purpose": "验证工具是否拒绝执行包含路径遍历操作的脚本。",
        "args": {
          "script_code": "import pandas as pd\npd.read_csv('../../etc/passwd')",
          "dataset_name": "custom_dataset"
        },
        "response": {
          "result": "{\"status\": \"error\", \"message\": \"执行脚本时发生错误: 数据集 'custom_dataset' 不存在，请先使用 load_csv 加载数据。\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\workspace\\\\pipeline-output-servers\\\\qwen-plus\\\\mcp_data_exploration_analyzer\\\\refined\\\\server.py\\\", line 150, in run_script\\n    raise ValueError(f\\\"数据集 '{dataset_name}' 不存在，请先使用 load_csv 加载数据。\\\")\\nValueError: 数据集 'custom_dataset' 不存在，请先使用 load_csv 加载数据。\\n\"}"
        },
        "execution_time": 0.00500035285949707,
        "is_functional_test": false
      }
    ]
  },
  "total_cases": 30
}