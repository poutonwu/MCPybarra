{
  "server_name": "server",
  "parent_dir": "refined",
  "report_name": "deepseek-v3-mcp_financial_data_processor",
  "server_path": "workspace/pipeline-output-servers/deepseek-v3/mcp_financial_data_processor/refined/server.py",
  "timestamp": "2025-07-16T12:00:44.542438",
  "tools": [
    {
      "name": "get_income_statements",
      "description": "\n    Retrieves income statements for a specified company.\n\n    Args:\n        symbol: Stock ticker symbol (e.g., \"AAPL\").\n        period: Reporting period (\"annual\", \"quarterly\", \"TTM\"). Default: \"annual\".\n        limit: Maximum number of results to return. Default: 5.\n\n    Returns:\n        JSON-structured income statement data (revenue, expenses, net income, etc.).\n\n    Raises:\n        ValueError: If symbol is empty or period is invalid.\n        httpx.HTTPStatusError: If the API request fails.\n    ",
      "args_schema": {
        "properties": {
          "symbol": {
            "title": "Symbol",
            "type": "string"
          },
          "period": {
            "default": "annual",
            "title": "Period",
            "type": "string"
          },
          "limit": {
            "default": 5,
            "title": "Limit",
            "type": "integer"
          }
        },
        "required": [
          "symbol"
        ],
        "title": "get_income_statementsArguments",
        "type": "object"
      }
    },
    {
      "name": "get_balance_sheets",
      "description": "\n    Retrieves balance sheet data for a specified company.\n\n    Args:\n        symbol: Stock ticker symbol.\n        period: Reporting period. Default: \"annual\".\n        limit: Maximum results to return. Default: 5.\n\n    Returns:\n        JSON-structured balance sheet data (assets, liabilities, equity).\n\n    Raises:\n        ValueError: If symbol is empty or period is invalid.\n        httpx.HTTPStatusError: If the API request fails.\n    ",
      "args_schema": {
        "properties": {
          "symbol": {
            "title": "Symbol",
            "type": "string"
          },
          "period": {
            "default": "annual",
            "title": "Period",
            "type": "string"
          },
          "limit": {
            "default": 5,
            "title": "Limit",
            "type": "integer"
          }
        },
        "required": [
          "symbol"
        ],
        "title": "get_balance_sheetsArguments",
        "type": "object"
      }
    },
    {
      "name": "get_cash_flows",
      "description": "\n    Retrieves cash flow statements for a specified company.\n\n    Args:\n        symbol: Stock ticker symbol.\n        period: Reporting period. Default: \"annual\".\n        limit: Maximum results to return. Default: 5.\n\n    Returns:\n        JSON-structured cash flow data (operating, investing, financing activities).\n\n    Raises:\n        ValueError: If symbol is empty or period is invalid.\n        httpx.HTTPStatusError: If the API request fails.\n    ",
      "args_schema": {
        "properties": {
          "symbol": {
            "title": "Symbol",
            "type": "string"
          },
          "period": {
            "default": "annual",
            "title": "Period",
            "type": "string"
          },
          "limit": {
            "default": 5,
            "title": "Limit",
            "type": "integer"
          }
        },
        "required": [
          "symbol"
        ],
        "title": "get_cash_flowsArguments",
        "type": "object"
      }
    },
    {
      "name": "get_stock_prices",
      "description": "\n    Retrieves historical stock price data.\n\n    Args:\n        symbol: Stock ticker symbol.\n        start_date: Start date in YYYY-MM-DD format.\n        end_date: End date in YYYY-MM-DD format.\n\n    Returns:\n        JSON-structured historical price data (date, open, high, low, close, volume).\n\n    Raises:\n        ValueError: If symbol, start_date, or end_date is invalid.\n        httpx.HTTPStatusError: If the API request fails.\n    ",
      "args_schema": {
        "properties": {
          "symbol": {
            "title": "Symbol",
            "type": "string"
          },
          "start_date": {
            "title": "Start Date",
            "type": "string"
          },
          "end_date": {
            "title": "End Date",
            "type": "string"
          }
        },
        "required": [
          "symbol",
          "start_date",
          "end_date"
        ],
        "title": "get_stock_pricesArguments",
        "type": "object"
      }
    },
    {
      "name": "get_market_news",
      "description": "\n    Retrieves financial news related to a company or market.\n\n    Args:\n        symbol: Stock ticker symbol. If omitted, returns general market news.\n        limit: Maximum news items to return. Default: 10.\n\n    Returns:\n        JSON-structured news headlines, sources, and timestamps.\n\n    Raises:\n        httpx.HTTPStatusError: If the API request fails.\n    ",
      "args_schema": {
        "properties": {
          "symbol": {
            "default": null,
            "title": "Symbol",
            "type": "string"
          },
          "limit": {
            "default": 10,
            "title": "Limit",
            "type": "integer"
          }
        },
        "title": "get_market_newsArguments",
        "type": "object"
      }
    },
    {
      "name": "get_company_profile",
      "description": "\n    Retrieves company metadata (industry, location, etc.).\n\n    Args:\n        symbol: Stock ticker symbol.\n\n    Returns:\n        JSON-structured company profile data.\n\n    Raises:\n        ValueError: If symbol is empty.\n        httpx.HTTPStatusError: If the API request fails.\n        ConnectionError: If there's a network issue connecting to the API.\n    ",
      "args_schema": {
        "properties": {
          "symbol": {
            "title": "Symbol",
            "type": "string"
          }
        },
        "required": [
          "symbol"
        ],
        "title": "get_company_profileArguments",
        "type": "object"
      }
    },
    {
      "name": "get_analyst_estimates",
      "description": "\n    Retrieves analyst estimates (target price, earnings forecasts).\n\n    Args:\n        symbol: Stock ticker symbol.\n        limit: Maximum estimates to return. Default: 5.\n\n    Returns:\n        JSON-structured analyst predictions.\n\n    Raises:\n        ValueError: If symbol is empty.\n        httpx.HTTPStatusError: If the API request fails.\n    ",
      "args_schema": {
        "properties": {
          "symbol": {
            "title": "Symbol",
            "type": "string"
          },
          "limit": {
            "default": 5,
            "title": "Limit",
            "type": "integer"
          }
        },
        "required": [
          "symbol"
        ],
        "title": "get_analyst_estimatesArguments",
        "type": "object"
      }
    },
    {
      "name": "get_dividend_history",
      "description": "\n    Retrieves dividend payment history.\n\n    Args:\n        symbol: Stock ticker symbol.\n        limit: Maximum dividends to return. Default: 10.\n\n    Returns:\n        JSON-structured dividend data (date, amount).\n\n    Raises:\n        ValueError: If symbol is empty.\n        httpx.HTTPStatusError: If the API request fails.\n    ",
      "args_schema": {
        "properties": {
          "symbol": {
            "title": "Symbol",
            "type": "string"
          },
          "limit": {
            "default": 10,
            "title": "Limit",
            "type": "integer"
          }
        },
        "required": [
          "symbol"
        ],
        "title": "get_dividend_historyArguments",
        "type": "object"
      }
    },
    {
      "name": "get_splits_history",
      "description": "\n    Retrieves stock split history.\n\n    Args:\n        symbol: Stock ticker symbol.\n\n    Returns:\n        JSON-structured split data (date, ratio).\n\n    Raises:\n        ValueError: If symbol is empty.\n        httpx.HTTPStatusError: If the API request fails.\n    ",
      "args_schema": {
        "properties": {
          "symbol": {
            "title": "Symbol",
            "type": "string"
          }
        },
        "required": [
          "symbol"
        ],
        "title": "get_splits_historyArguments",
        "type": "object"
      }
    },
    {
      "name": "get_earnings_history",
      "description": "\n    Retrieves historical earnings reports (EPS, revenue surprises).\n\n    Args:\n        symbol: Stock ticker symbol.\n        limit: Maximum reports to return. Default: 5.\n\n    Returns:\n        JSON-structured earnings history.\n\n    Raises:\n        ValueError: If symbol is empty.\n        httpx.HTTPStatusError: If the API request fails.\n    ",
      "args_schema": {
        "properties": {
          "symbol": {
            "title": "Symbol",
            "type": "string"
          },
          "limit": {
            "default": 5,
            "title": "Limit",
            "type": "integer"
          }
        },
        "required": [
          "symbol"
        ],
        "title": "get_earnings_historyArguments",
        "type": "object"
      }
    },
    {
      "name": "get_financial_ratios",
      "description": "\n    Retrieves financial ratios (P/E, debt-to-equity, etc.).\n\n    Args:\n        symbol: Stock ticker symbol.\n\n    Returns:\n        JSON-structured financial ratios.\n\n    Raises:\n        ValueError: If symbol is empty.\n        httpx.HTTPStatusError: If the API request fails.\n    ",
      "args_schema": {
        "properties": {
          "symbol": {
            "title": "Symbol",
            "type": "string"
          }
        },
        "required": [
          "symbol"
        ],
        "title": "get_financial_ratiosArguments",
        "type": "object"
      }
    },
    {
      "name": "get_ownership_data",
      "description": "\n    Retrieves institutional ownership data.\n\n    Args:\n        symbol: Stock ticker symbol.\n\n    Returns:\n        JSON-structured ownership data (institutional holders, shares held).\n\n    Raises:\n        ValueError: If symbol is empty.\n        httpx.HTTPStatusError: If the API request fails.\n    ",
      "args_schema": {
        "properties": {
          "symbol": {
            "title": "Symbol",
            "type": "string"
          }
        },
        "required": [
          "symbol"
        ],
        "title": "get_ownership_dataArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "get_company_profile": [
      {
        "case_name": "Basic Company Profile Retrieval",
        "purpose": "验证工具能够成功检索指定股票代码的公司基础信息",
        "args": {
          "symbol": "AAPL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_company_profile: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.3699097633361816,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Symbol Input Handling",
        "purpose": "验证当提供空字符串作为股票代码时，工具是否抛出ValueError",
        "args": {
          "symbol": ""
        },
        "response": {
          "error": "ToolException: Error executing tool get_company_profile: Symbol cannot be empty."
        },
        "execution_time": 0.007081270217895508,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Symbol Format",
        "purpose": "测试无效的股票代码格式（如包含特殊字符）是否会触发错误处理机制",
        "args": {
          "symbol": "A@PL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_company_profile: "
        },
        "execution_time": 5.0276877880096436,
        "is_functional_test": false
      },
      {
        "case_name": "Non-existent Symbol",
        "purpose": "验证工具在请求不存在的股票代码时是否返回适当的API错误",
        "args": {
          "symbol": "XYZABC"
        },
        "response": {
          "error": "ToolException: Error executing tool get_company_profile: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.8400039672851562,
        "is_functional_test": false
      },
      {
        "case_name": "Long Symbol Edge Case",
        "purpose": "测试超长股票代码输入是否会被正确处理或拒绝",
        "args": {
          "symbol": "THISISAREALLYLONGSYMBOLTHATSHOULDNOTEXIST"
        },
        "response": {
          "error": "ToolException: Error executing tool get_company_profile: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.8323571681976318,
        "is_functional_test": false
      },
      {
        "case_name": "Network Failure Simulation",
        "purpose": "模拟网络连接失败场景，验证工具是否抛出ConnectionError",
        "args": {
          "symbol": "AAPL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_company_profile: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.8222181797027588,
        "is_functional_test": false
      },
      {
        "case_name": "Test with Known Valid Symbol from Real Market",
        "purpose": "使用真实存在的股票代码进行功能验证以确保工具能获取有效数据",
        "args": {
          "symbol": "MSFT"
        },
        "response": {
          "error": "ToolException: Error executing tool get_company_profile: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.6191904544830322,
        "is_functional_test": true
      },
      {
        "case_name": "Security Test - Injection Attempt",
        "purpose": "尝试注入攻击向量，验证工具是否安全处理恶意输入",
        "args": {
          "symbol": "; rm -rf /;"
        },
        "response": {
          "error": "ToolException: Error executing tool get_company_profile: "
        },
        "execution_time": 5.022494316101074,
        "is_functional_test": false
      }
    ],
    "get_income_statements": [
      {
        "case_name": "Basic Income Statement Retrieval",
        "purpose": "验证工具能够成功检索指定股票代码的年度收入报表数据",
        "args": {
          "symbol": "AAPL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_income_statements: "
        },
        "execution_time": 5.011127710342407,
        "is_functional_test": true
      },
      {
        "case_name": "Income Statement Retrieval with Quarterly Period",
        "purpose": "验证工具能够成功检索指定股票代码的季度收入报表数据",
        "args": {
          "symbol": "AAPL",
          "period": "quarterly"
        },
        "response": {
          "error": "ToolException: Error executing tool get_income_statements: "
        },
        "execution_time": 5.0132200717926025,
        "is_functional_test": true
      },
      {
        "case_name": "Income Statement Retrieval with TTM Period",
        "purpose": "验证工具能够成功检索指定股票代码的TTM（Trailing Twelve Months）收入报表数据",
        "args": {
          "symbol": "AAPL",
          "period": "TTM"
        },
        "response": {
          "error": "ToolException: Error executing tool get_income_statements: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 5.008346319198608,
        "is_functional_test": true
      },
      {
        "case_name": "Income Statement Retrieval with Custom Limit",
        "purpose": "验证工具能够限制返回的收入报表数据条目数量",
        "args": {
          "symbol": "AAPL",
          "limit": 3
        },
        "response": {
          "error": "ToolException: Error executing tool get_income_statements: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 5.010043382644653,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Symbol Input Handling",
        "purpose": "验证当提供空字符串作为股票代码时，工具是否抛出ValueError",
        "args": {
          "symbol": ""
        },
        "response": {
          "error": "ToolException: Error executing tool get_income_statements: Symbol cannot be empty."
        },
        "execution_time": 0.006006956100463867,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Period Input Handling",
        "purpose": "验证当提供非法period参数时，工具是否抛出ValueError",
        "args": {
          "symbol": "AAPL",
          "period": "monthly"
        },
        "response": {
          "error": "ToolException: Error executing tool get_income_statements: Invalid period. Must be 'annual', 'quarterly', or 'TTM'."
        },
        "execution_time": 0.009773969650268555,
        "is_functional_test": false
      },
      {
        "case_name": "Security Test - Injection Attempt in Symbol",
        "purpose": "尝试注入攻击向量，验证工具是否安全处理恶意输入",
        "args": {
          "symbol": "; rm -rf /;"
        },
        "response": {
          "error": "ToolException: Error executing tool get_income_statements: "
        },
        "execution_time": 5.024442911148071,
        "is_functional_test": false
      },
      {
        "case_name": "Boundary Test - Long Symbol Input",
        "purpose": "测试超长股票代码输入是否会被正确拒绝",
        "args": {
          "symbol": "THISISAREALLYLONGSYMBOLTHATSHOULDNOTEXIST"
        },
        "response": {
          "error": "ToolException: Error executing tool get_income_statements: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.5923731327056885,
        "is_functional_test": false
      }
    ],
    "get_balance_sheets": [
      {
        "case_name": "Basic Balance Sheet Retrieval",
        "purpose": "验证工具能够成功检索指定股票代码的年度资产负债表数据",
        "args": {
          "symbol": "AAPL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_balance_sheets: "
        },
        "execution_time": 5.011441230773926,
        "is_functional_test": true
      },
      {
        "case_name": "Balance Sheet Retrieval with Quarterly Period",
        "purpose": "验证工具能够成功检索指定股票代码的季度资产负债表数据",
        "args": {
          "symbol": "AAPL",
          "period": "quarterly"
        },
        "response": {
          "error": "ToolException: Error executing tool get_balance_sheets: "
        },
        "execution_time": 5.020060300827026,
        "is_functional_test": true
      },
      {
        "case_name": "Balance Sheet Retrieval with Custom Limit",
        "purpose": "验证工具能够限制返回的资产负债表数据条目数量",
        "args": {
          "symbol": "AAPL",
          "limit": 3
        },
        "response": {
          "error": "ToolException: Error executing tool get_balance_sheets: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 2.620600461959839,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Symbol Input Handling",
        "purpose": "验证当提供空字符串作为股票代码时，工具是否抛出ValueError",
        "args": {
          "symbol": ""
        },
        "response": {
          "error": "ToolException: Error executing tool get_balance_sheets: Symbol cannot be empty."
        },
        "execution_time": 0.003997325897216797,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Period Input Handling",
        "purpose": "验证当提供非法period参数时，工具是否抛出ValueError",
        "args": {
          "symbol": "AAPL",
          "period": "monthly"
        },
        "response": {
          "error": "ToolException: Error executing tool get_balance_sheets: Invalid period. Must be 'annual', 'quarterly', or 'TTM'."
        },
        "execution_time": 0.0052759647369384766,
        "is_functional_test": false
      },
      {
        "case_name": "Security Test - Injection Attempt in Symbol",
        "purpose": "尝试注入攻击向量，验证工具是否安全处理恶意输入",
        "args": {
          "symbol": "; rm -rf /;"
        },
        "response": {
          "error": "ToolException: Error executing tool get_balance_sheets: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 3.1352436542510986,
        "is_functional_test": false
      },
      {
        "case_name": "Boundary Test - Long Symbol Input",
        "purpose": "测试超长股票代码输入是否会被正确拒绝",
        "args": {
          "symbol": "THISISAREALLYLONGSYMBOLTHATSHOULDNOTEXIST"
        },
        "response": {
          "error": "ToolException: Error executing tool get_balance_sheets: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.3413057327270508,
        "is_functional_test": false
      }
    ],
    "get_cash_flows": [
      {
        "case_name": "Basic Cash Flow Retrieval",
        "purpose": "验证工具能够成功检索指定股票代码的年度现金流量表数据",
        "args": {
          "symbol": "AAPL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_cash_flows: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.9941349029541016,
        "is_functional_test": true
      },
      {
        "case_name": "Cash Flow Retrieval with Quarterly Period",
        "purpose": "验证工具能够成功检索指定股票代码的季度现金流量表数据",
        "args": {
          "symbol": "AAPL",
          "period": "quarterly"
        },
        "response": {
          "error": "ToolException: Error executing tool get_cash_flows: "
        },
        "execution_time": 5.025733947753906,
        "is_functional_test": true
      },
      {
        "case_name": "Cash Flow Retrieval with Custom Limit",
        "purpose": "验证工具能够限制返回的现金流量表数据条目数量",
        "args": {
          "symbol": "AAPL",
          "limit": 3
        },
        "response": {
          "error": "ToolException: Error executing tool get_cash_flows: "
        },
        "execution_time": 5.012276887893677,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Symbol Input Handling",
        "purpose": "验证当提供空字符串作为股票代码时，工具是否抛出ValueError",
        "args": {
          "symbol": ""
        },
        "response": {
          "error": "ToolException: Error executing tool get_cash_flows: Symbol cannot be empty."
        },
        "execution_time": 0.0030035972595214844,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Period Input Handling",
        "purpose": "验证当提供非法period参数时，工具是否抛出ValueError",
        "args": {
          "symbol": "AAPL",
          "period": "monthly"
        },
        "response": {
          "error": "ToolException: Error executing tool get_cash_flows: Invalid period. Must be 'annual', 'quarterly', or 'TTM'."
        },
        "execution_time": 0.006021261215209961,
        "is_functional_test": false
      },
      {
        "case_name": "Security Test - Injection Attempt in Symbol",
        "purpose": "尝试注入攻击向量，验证工具是否安全处理恶意输入",
        "args": {
          "symbol": "; rm -rf /;"
        },
        "response": {
          "error": "ToolException: Error executing tool get_cash_flows: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.3846628665924072,
        "is_functional_test": false
      },
      {
        "case_name": "Boundary Test - Long Symbol Input",
        "purpose": "测试超长股票代码输入是否会被正确拒绝",
        "args": {
          "symbol": "THISISAREALLYLONGSYMBOLTHATSHOULDNOTEXIST"
        },
        "response": {
          "error": "ToolException: Error executing tool get_cash_flows: "
        },
        "execution_time": 5.009703874588013,
        "is_functional_test": false
      },
      {
        "case_name": "Network Failure Simulation",
        "purpose": "模拟网络连接失败场景，验证工具是否抛出HTTP连接错误",
        "args": {
          "symbol": "AAPL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_cash_flows: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.8299517631530762,
        "is_functional_test": false
      }
    ],
    "get_financial_ratios": [
      {
        "case_name": "Basic Financial Ratios Retrieval",
        "purpose": "验证工具能够成功检索指定股票代码的基本财务比率数据",
        "args": {
          "symbol": "AAPL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_financial_ratios: "
        },
        "execution_time": 5.010998964309692,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Symbol Input Handling",
        "purpose": "验证当提供空字符串作为股票代码时，工具是否抛出ValueError",
        "args": {
          "symbol": ""
        },
        "response": {
          "error": "ToolException: Error executing tool get_financial_ratios: Symbol cannot be empty."
        },
        "execution_time": 0.0044841766357421875,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Symbol Format",
        "purpose": "测试无效的股票代码格式（如包含特殊字符）是否会触发错误处理机制",
        "args": {
          "symbol": "A@PL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_financial_ratios: "
        },
        "execution_time": 5.011906623840332,
        "is_functional_test": false
      },
      {
        "case_name": "Non-existent Symbol",
        "purpose": "验证工具在请求不存在的股票代码时是否返回适当的API错误",
        "args": {
          "symbol": "XYZABC"
        },
        "response": {
          "error": "ToolException: Error executing tool get_financial_ratios: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 2.9485669136047363,
        "is_functional_test": false
      },
      {
        "case_name": "Long Symbol Edge Case",
        "purpose": "测试超长股票代码输入是否会被正确处理或拒绝",
        "args": {
          "symbol": "THISISAREALLYLONGSYMBOLTHATSHOULDNOTEXIST"
        },
        "response": {
          "error": "ToolException: Error executing tool get_financial_ratios: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.9866654872894287,
        "is_functional_test": false
      },
      {
        "case_name": "Network Failure Simulation",
        "purpose": "模拟网络连接失败场景，验证工具是否抛出HTTPStatusError",
        "args": {
          "symbol": "AAPL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_financial_ratios: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.4005048274993896,
        "is_functional_test": false
      },
      {
        "case_name": "Security Test - Injection Attempt in Symbol",
        "purpose": "尝试注入攻击向量，验证工具是否安全处理恶意输入",
        "args": {
          "symbol": "; rm -rf /;"
        },
        "response": {
          "error": "ToolException: Error executing tool get_financial_ratios: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.4164166450500488,
        "is_functional_test": false
      },
      {
        "case_name": "Test with Known Valid Symbol from Real Market",
        "purpose": "使用真实存在的股票代码进行功能验证以确保工具能获取有效数据",
        "args": {
          "symbol": "MSFT"
        },
        "response": {
          "error": "ToolException: Error executing tool get_financial_ratios: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.941551923751831,
        "is_functional_test": true
      }
    ],
    "get_earnings_history": [
      {
        "case_name": "Basic Earnings History Retrieval",
        "purpose": "验证工具能够成功检索指定股票代码的默认数量（5）的历史财报数据",
        "args": {
          "symbol": "AAPL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_earnings_history: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 5.009165048599243,
        "is_functional_test": true
      },
      {
        "case_name": "Earnings History Retrieval with Custom Limit",
        "purpose": "验证工具能够根据指定的limit参数返回相应数量的历史财报数据",
        "args": {
          "symbol": "AAPL",
          "limit": 3
        },
        "response": {
          "error": "ToolException: Error executing tool get_earnings_history: "
        },
        "execution_time": 5.008061408996582,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Symbol Input Handling",
        "purpose": "验证当提供空字符串作为股票代码时，工具是否抛出ValueError",
        "args": {
          "symbol": ""
        },
        "response": {
          "error": "ToolException: Error executing tool get_earnings_history: Symbol cannot be empty."
        },
        "execution_time": 0.004999399185180664,
        "is_functional_test": false
      },
      {
        "case_name": "Non-existent Symbol",
        "purpose": "验证工具在请求不存在的股票代码时是否返回适当的API错误",
        "args": {
          "symbol": "XYZABC"
        },
        "response": {
          "error": "ToolException: Error executing tool get_earnings_history: "
        },
        "execution_time": 5.020073175430298,
        "is_functional_test": false
      },
      {
        "case_name": "Boundary Test - Long Symbol Input",
        "purpose": "测试超长股票代码输入是否会被正确拒绝",
        "args": {
          "symbol": "THISISAREALLYLONGSYMBOLTHATSHOULDNOTEXIST"
        },
        "response": {
          "error": "ToolException: Error executing tool get_earnings_history: "
        },
        "execution_time": 5.019348621368408,
        "is_functional_test": false
      },
      {
        "case_name": "Security Test - Injection Attempt in Symbol",
        "purpose": "尝试注入攻击向量，验证工具是否安全处理恶意输入",
        "args": {
          "symbol": "; rm -rf /;"
        },
        "response": {
          "error": "ToolException: Error executing tool get_earnings_history: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.411689043045044,
        "is_functional_test": false
      },
      {
        "case_name": "Test with Known Valid Symbol from Real Market",
        "purpose": "使用真实存在的股票代码进行功能验证以确保工具能获取有效数据",
        "args": {
          "symbol": "MSFT"
        },
        "response": {
          "error": "ToolException: Error executing tool get_earnings_history: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 5.006850719451904,
        "is_functional_test": true
      },
      {
        "case_name": "Boundary Test - Minimum Limit Value",
        "purpose": "验证工具能否正确处理最小合法limit值（1）",
        "args": {
          "symbol": "AAPL",
          "limit": 1
        },
        "response": {
          "error": "ToolException: Error executing tool get_earnings_history: "
        },
        "execution_time": 5.019896030426025,
        "is_functional_test": true
      }
    ],
    "get_analyst_estimates": [
      {
        "case_name": "Basic Analyst Estimates Retrieval",
        "purpose": "验证工具能够成功检索指定股票代码的分析师预测（使用默认limit=5）",
        "args": {
          "symbol": "AAPL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_analyst_estimates: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 5.00988507270813,
        "is_functional_test": true
      },
      {
        "case_name": "Analyst Estimates Retrieval with Custom Limit",
        "purpose": "验证工具能够限制返回的分析师预测数量",
        "args": {
          "symbol": "AAPL",
          "limit": 3
        },
        "response": {
          "error": "ToolException: Error executing tool get_analyst_estimates: "
        },
        "execution_time": 5.0240395069122314,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Symbol Input Handling",
        "purpose": "验证当提供空字符串作为股票代码时，工具是否抛出ValueError",
        "args": {
          "symbol": ""
        },
        "response": {
          "error": "ToolException: Error executing tool get_analyst_estimates: Symbol cannot be empty."
        },
        "execution_time": 0.007021903991699219,
        "is_functional_test": false
      },
      {
        "case_name": "Non-existent Symbol Handling",
        "purpose": "验证工具在请求不存在的股票代码时是否能正确处理API错误",
        "args": {
          "symbol": "XYZABC"
        },
        "response": {
          "error": "ToolException: Error executing tool get_analyst_estimates: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.3337621688842773,
        "is_functional_test": false
      },
      {
        "case_name": "Security Test - Injection Attempt in Symbol",
        "purpose": "尝试注入攻击向量，验证工具是否安全处理恶意输入",
        "args": {
          "symbol": "; rm -rf /;"
        },
        "response": {
          "error": "ToolException: Error executing tool get_analyst_estimates: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.3841536045074463,
        "is_functional_test": false
      },
      {
        "case_name": "Boundary Test - Long Symbol Input",
        "purpose": "测试超长股票代码输入是否会被正确拒绝",
        "args": {
          "symbol": "THISISAREALLYLONGSYMBOLTHATSHOULDNOTEXIST"
        },
        "response": {
          "error": "ToolException: Error executing tool get_analyst_estimates: "
        },
        "execution_time": 5.0082948207855225,
        "is_functional_test": false
      },
      {
        "case_name": "Negative Limit Handling",
        "purpose": "验证当提供负数作为limit参数时，工具是否抛出异常或自动修正",
        "args": {
          "symbol": "AAPL",
          "limit": -2
        },
        "response": {
          "error": "ToolException: Error executing tool get_analyst_estimates: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 5.0080344676971436,
        "is_functional_test": false
      }
    ],
    "get_stock_prices": [
      {
        "case_name": "Basic Stock Price Retrieval",
        "purpose": "验证工具能够成功检索指定股票代码和日期范围的历史股价数据",
        "args": {
          "symbol": "AAPL",
          "start_date": "2023-01-01",
          "end_date": "2023-01-10"
        },
        "response": {
          "error": "ToolException: Error executing tool get_stock_prices: "
        },
        "execution_time": 5.0228986740112305,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Symbol Input Handling",
        "purpose": "验证当提供空字符串作为股票代码时，工具是否抛出ValueError",
        "args": {
          "symbol": "",
          "start_date": "2023-01-01",
          "end_date": "2023-01-10"
        },
        "response": {
          "error": "ToolException: Error executing tool get_stock_prices: Symbol cannot be empty."
        },
        "execution_time": 0.005999565124511719,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Date Format Handling",
        "purpose": "测试非法日期格式（如MM-DD-YYYY）是否会触发参数验证错误",
        "args": {
          "symbol": "AAPL",
          "start_date": "01-01-2023",
          "end_date": "01-10-2023"
        },
        "response": {
          "error": "ToolException: Error executing tool get_stock_prices: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.5512440204620361,
        "is_functional_test": false
      },
      {
        "case_name": "Start Date After End Date",
        "purpose": "验证起始日期晚于结束日期时是否能正确处理并返回错误",
        "args": {
          "symbol": "AAPL",
          "start_date": "2023-01-10",
          "end_date": "2023-01-01"
        },
        "response": {
          "error": "ToolException: Error executing tool get_stock_prices: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.5825698375701904,
        "is_functional_test": false
      },
      {
        "case_name": "Test with Known Valid Symbol and Real Date Range",
        "purpose": "使用真实存在的股票代码和合理日期范围进行功能验证以确保工具能获取有效数据",
        "args": {
          "symbol": "MSFT",
          "start_date": "2022-12-01",
          "end_date": "2022-12-31"
        },
        "response": {
          "error": "ToolException: Error executing tool get_stock_prices: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.6017038822174072,
        "is_functional_test": true
      },
      {
        "case_name": "Security Test - Injection Attempt in Symbol",
        "purpose": "尝试注入攻击向量（如shell命令），验证工具是否安全处理恶意输入",
        "args": {
          "symbol": "; rm -rf /;",
          "start_date": "2023-01-01",
          "end_date": "2023-01-10"
        },
        "response": {
          "error": "ToolException: Error executing tool get_stock_prices: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.7162234783172607,
        "is_functional_test": false
      },
      {
        "case_name": "Boundary Test - Long Symbol Input",
        "purpose": "测试超长股票代码输入是否会被正确拒绝",
        "args": {
          "symbol": "THISISAREALLYLONGSYMBOLTHATSHOULDNOTEXIST",
          "start_date": "2023-01-01",
          "end_date": "2023-01-10"
        },
        "response": {
          "error": "ToolException: Error executing tool get_stock_prices: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.7141218185424805,
        "is_functional_test": false
      },
      {
        "case_name": "Network Failure Simulation",
        "purpose": "模拟网络连接失败场景，验证工具是否抛出HTTP异常或连接错误",
        "args": {
          "symbol": "AAPL",
          "start_date": "2023-01-01",
          "end_date": "2023-01-10"
        },
        "response": {
          "error": "ToolException: Error executing tool get_stock_prices: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.5292370319366455,
        "is_functional_test": false
      }
    ],
    "get_dividend_history": [
      {
        "case_name": "Basic Dividend History Retrieval",
        "purpose": "验证工具能够成功检索指定股票代码的股息支付历史（使用默认limit=10）",
        "args": {
          "symbol": "AAPL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_dividend_history: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.7509219646453857,
        "is_functional_test": true
      },
      {
        "case_name": "Dividend History Retrieval with Custom Limit",
        "purpose": "验证工具能够限制返回的股息记录数量",
        "args": {
          "symbol": "AAPL",
          "limit": 5
        },
        "response": {
          "error": "ToolException: Error executing tool get_dividend_history: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.5610876083374023,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Symbol Input Handling",
        "purpose": "验证当提供空字符串作为股票代码时，工具是否抛出ValueError",
        "args": {
          "symbol": ""
        },
        "response": {
          "error": "ToolException: Error executing tool get_dividend_history: Symbol cannot be empty."
        },
        "execution_time": 0.0066051483154296875,
        "is_functional_test": false
      },
      {
        "case_name": "Non-existent Symbol",
        "purpose": "验证工具在请求不存在的股票代码时是否返回适当的API错误",
        "args": {
          "symbol": "XYZABC"
        },
        "response": {
          "error": "ToolException: Error executing tool get_dividend_history: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.6628270149230957,
        "is_functional_test": false
      },
      {
        "case_name": "Boundary Test - Maximum Limit",
        "purpose": "测试最大允许limit值的边界情况",
        "args": {
          "symbol": "AAPL",
          "limit": 1000
        },
        "response": {
          "error": "ToolException: Error executing tool get_dividend_history: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 2.037466049194336,
        "is_functional_test": false
      },
      {
        "case_name": "Security Test - Injection Attempt in Symbol",
        "purpose": "尝试注入攻击向量，验证工具是否安全处理恶意输入",
        "args": {
          "symbol": "; rm -rf /;"
        },
        "response": {
          "error": "ToolException: Error executing tool get_dividend_history: "
        },
        "execution_time": 5.0091471672058105,
        "is_functional_test": false
      },
      {
        "case_name": "Boundary Test - Long Symbol Input",
        "purpose": "测试超长股票代码输入是否会被正确拒绝",
        "args": {
          "symbol": "THISISAREALLYLONGSYMBOLTHATSHOULDNOTEXIST"
        },
        "response": {
          "error": "ToolException: Error executing tool get_dividend_history: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.6134040355682373,
        "is_functional_test": false
      },
      {
        "case_name": "Network Failure Simulation",
        "purpose": "模拟网络连接失败场景，验证工具是否抛出HTTPStatusError",
        "args": {
          "symbol": "AAPL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_dividend_history: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.7450695037841797,
        "is_functional_test": false
      }
    ],
    "get_splits_history": [
      {
        "case_name": "Basic Splits History Retrieval",
        "purpose": "验证工具能够成功检索指定股票代码的拆股历史数据",
        "args": {
          "symbol": "AAPL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_splits_history: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.368345022201538,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Symbol Input Handling",
        "purpose": "验证当提供空字符串作为股票代码时，工具是否抛出ValueError",
        "args": {
          "symbol": ""
        },
        "response": {
          "error": "ToolException: Error executing tool get_splits_history: Symbol cannot be empty."
        },
        "execution_time": 0.0029990673065185547,
        "is_functional_test": false
      },
      {
        "case_name": "Security Test - Injection Attempt in Symbol",
        "purpose": "尝试注入攻击向量（如特殊字符或命令），验证工具是否安全处理恶意输入",
        "args": {
          "symbol": "; rm -rf /;"
        },
        "response": {
          "error": "ToolException: Error executing tool get_splits_history: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.4781012535095215,
        "is_functional_test": false
      },
      {
        "case_name": "Non-existent Symbol",
        "purpose": "验证工具在请求不存在的股票代码时是否返回适当的API错误",
        "args": {
          "symbol": "XYZABC"
        },
        "response": {
          "error": "ToolException: Error executing tool get_splits_history: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.4705970287322998,
        "is_functional_test": false
      },
      {
        "case_name": "Boundary Test - Long Symbol Input",
        "purpose": "测试超长股票代码输入是否会被正确拒绝",
        "args": {
          "symbol": "THISISAREALLYLONGSYMBOLTHATSHOULDNOTEXIST"
        },
        "response": {
          "error": "ToolException: Error executing tool get_splits_history: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.7639243602752686,
        "is_functional_test": false
      },
      {
        "case_name": "Test with Known Valid Symbol from Real Market",
        "purpose": "使用真实存在的股票代码进行功能验证以确保工具能获取有效数据",
        "args": {
          "symbol": "MSFT"
        },
        "response": {
          "error": "ToolException: Error executing tool get_splits_history: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 2.1901750564575195,
        "is_functional_test": true
      },
      {
        "case_name": "Network Failure Simulation",
        "purpose": "模拟网络连接失败场景，验证工具是否抛出httpx.HTTPStatusError",
        "args": {
          "symbol": "AAPL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_splits_history: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.644822359085083,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Symbol Format",
        "purpose": "测试无效的股票代码格式（如包含特殊字符）是否会触发错误处理机制",
        "args": {
          "symbol": "A@PL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_splits_history: "
        },
        "execution_time": 5.01886773109436,
        "is_functional_test": false
      }
    ],
    "get_ownership_data": [
      {
        "case_name": "Basic Institutional Ownership Retrieval",
        "purpose": "验证工具能够成功检索指定股票代码的机构持股数据",
        "args": {
          "symbol": "AAPL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_ownership_data: "
        },
        "execution_time": 5.018718719482422,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Symbol Input Handling",
        "purpose": "验证当提供空字符串作为股票代码时，工具是否抛出ValueError",
        "args": {
          "symbol": ""
        },
        "response": {
          "error": "ToolException: Error executing tool get_ownership_data: Symbol cannot be empty."
        },
        "execution_time": 0.016652584075927734,
        "is_functional_test": false
      },
      {
        "case_name": "Security Test - Injection Attempt in Symbol",
        "purpose": "尝试注入攻击向量，验证工具是否安全处理恶意输入",
        "args": {
          "symbol": "; rm -rf /;"
        },
        "response": {
          "error": "ToolException: Error executing tool get_ownership_data: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.621906042098999,
        "is_functional_test": false
      },
      {
        "case_name": "Non-existent Symbol Handling",
        "purpose": "验证工具在请求不存在的股票代码时是否能正确返回API错误",
        "args": {
          "symbol": "XYZABC"
        },
        "response": {
          "error": "ToolException: Error executing tool get_ownership_data: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.9608278274536133,
        "is_functional_test": false
      },
      {
        "case_name": "Boundary Test - Long Symbol Input",
        "purpose": "测试超长股票代码输入是否会被正确拒绝",
        "args": {
          "symbol": "THISISAREALLYLONGSYMBOLTHATSHOULDNOTEXIST"
        },
        "response": {
          "error": "ToolException: Error executing tool get_ownership_data: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.4193012714385986,
        "is_functional_test": false
      },
      {
        "case_name": "Special Character Symbol Handling",
        "purpose": "测试包含特殊字符的股票代码是否被安全拒绝",
        "args": {
          "symbol": "A@PL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_ownership_data: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.5886011123657227,
        "is_functional_test": false
      },
      {
        "case_name": "Network Failure Simulation",
        "purpose": "模拟网络连接失败场景，验证工具是否能优雅处理API异常",
        "args": {
          "symbol": "AAPL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_ownership_data: "
        },
        "execution_time": 5.021714925765991,
        "is_functional_test": false
      },
      {
        "case_name": "Test with Known Valid Symbol from Real Market",
        "purpose": "使用真实存在的股票代码进行功能验证以确保工具能获取有效数据",
        "args": {
          "symbol": "MSFT"
        },
        "response": {
          "error": "ToolException: Error executing tool get_ownership_data: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.4923112392425537,
        "is_functional_test": true
      }
    ],
    "get_market_news": [
      {
        "case_name": "Basic Market News Retrieval Without Symbol",
        "purpose": "验证在未提供symbol参数时，工具能够成功获取默认的市场新闻（使用默认limit=10）",
        "args": {},
        "response": {
          "error": "ToolException: Error executing tool get_market_news: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.6412394046783447,
        "is_functional_test": true
      },
      {
        "case_name": "Market News Retrieval for Valid Company Symbol",
        "purpose": "验证工具能为有效的股票代码（如AAPL）获取相关新闻",
        "args": {
          "symbol": "AAPL"
        },
        "response": {
          "error": "ToolException: Error executing tool get_market_news: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.5823142528533936,
        "is_functional_test": true
      },
      {
        "case_name": "Custom Limit Market News Retrieval",
        "purpose": "验证工具能正确限制返回的新闻条目数量",
        "args": {
          "limit": 5
        },
        "response": {
          "error": "ToolException: Error executing tool get_market_news: "
        },
        "execution_time": 5.017619371414185,
        "is_functional_test": true
      },
      {
        "case_name": "Combined Symbol and Limit Test",
        "purpose": "验证工具能同时处理symbol和limit参数",
        "args": {
          "symbol": "TSLA",
          "limit": 3
        },
        "response": {
          "error": "ToolException: Error executing tool get_market_news: "
        },
        "execution_time": 5.00725531578064,
        "is_functional_test": true
      },
      {
        "case_name": "Security Test - Special Characters in Symbol",
        "purpose": "测试包含特殊字符的symbol输入是否被安全处理",
        "args": {
          "symbol": "!@#$%^&*()"
        },
        "response": {
          "error": "ToolException: Error executing tool get_market_news: "
        },
        "execution_time": 5.012088298797607,
        "is_functional_test": false
      },
      {
        "case_name": "Negative Limit Value Handling",
        "purpose": "验证负数作为limit参数时是否被正确拒绝",
        "args": {
          "limit": -5
        },
        "response": {
          "error": "ToolException: Error executing tool get_market_news: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.36629319190979,
        "is_functional_test": false
      },
      {
        "case_name": "Empty Symbol with Default Market News",
        "purpose": "验证当symbol为空字符串时是否仍能获取默认市场新闻",
        "args": {
          "symbol": ""
        },
        "response": {
          "error": "ToolException: Error executing tool get_market_news: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.3565354347229004,
        "is_functional_test": true
      },
      {
        "case_name": "Boundary Test - Maximum Limit Allowed",
        "purpose": "测试工具对最大允许的limit值（如100）的处理能力",
        "args": {
          "limit": 100
        },
        "response": {
          "error": "ToolException: Error executing tool get_market_news: Failed to connect to financial datasets API. Please verify network connectivity and API availability."
        },
        "execution_time": 1.3457679748535156,
        "is_functional_test": true
      }
    ]
  },
  "total_cases": 94
}