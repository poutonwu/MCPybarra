{
  "server_name": "server",
  "parent_dir": "refined",
  "report_name": "deepseek-v3-mcp_tavily_web_search_api",
  "server_path": "workspace/pipeline-output-servers/deepseek-v3/mcp_tavily_web_search_api/refined/server.py",
  "timestamp": "2025-07-16T12:00:55.548620",
  "tools": [
    {
      "name": "tavily_web_search",
      "description": "\n    Perform a comprehensive web search using the Tavily API.\n\n    Args:\n        query: The search query for technical information, APIs, or code examples.\n        search_depth: Search depth; 'basic' for quick results, 'advanced' for more comprehensive analysis. Defaults to 'basic'.\n        include_domains: A list of domains to specifically include in the search results.\n        exclude_domains: A list of domains to specifically exclude from the search results.\n        max_results: Maximum number of search results to return. Defaults to 5, maximum 10.\n\n    Returns:\n        A JSON string containing a list of search results, each with 'title', 'url', and 'summary'.\n\n    Raises:\n        ValueError: If the query is empty or invalid.\n        httpx.HTTPStatusError: If the API request fails.\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "search_depth": {
            "default": "basic",
            "title": "Search Depth",
            "type": "string"
          },
          "include_domains": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Include Domains"
          },
          "exclude_domains": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Exclude Domains"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_web_searchArguments",
        "type": "object"
      }
    },
    {
      "name": "tavily_answer_search",
      "description": "\n    Generate direct answers to queries using the Tavily API, including supporting evidence.\n\n    Args:\n        query: The query for which a direct answer is needed.\n        max_results: Maximum number of supporting evidence items to return. Defaults to 5, maximum 10.\n\n    Returns:\n        A JSON string containing 'answer' and 'evidence' (a list of dictionaries with 'title', 'url', and 'summary').\n\n    Raises:\n        ValueError: If the query is empty or invalid.\n        httpx.HTTPStatusError: If the API request fails.\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_answer_searchArguments",
        "type": "object"
      }
    },
    {
      "name": "tavily_news_search",
      "description": "\n    Search for recent news articles using the Tavily API.\n\n    Args:\n        query: The search query for news articles.\n        time_limit_days: Maximum age of news articles in days. Defaults to 30, maximum 365.\n        include_sources: A list of news sources to specifically include in the search results.\n        exclude_sources: A list of news sources to specifically exclude from the search results.\n        max_results: Maximum number of news articles to return. Defaults to 5, maximum 10.\n\n    Returns:\n        A JSON string containing a list of news articles, each with 'title', 'url', 'summary', and 'published_date'.\n\n    Raises:\n        ValueError: If the query is empty or invalid.\n        httpx.HTTPStatusError: If the API request fails.\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "time_limit_days": {
            "default": 30,
            "title": "Time Limit Days",
            "type": "integer"
          },
          "include_sources": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Include Sources"
          },
          "exclude_sources": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Exclude Sources"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_news_searchArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "tavily_web_search": [
      {
        "case_name": "Basic Web Search with Default Parameters",
        "purpose": "验证使用默认参数的基本网页搜索功能是否正常工作",
        "args": {
          "query": "artificial intelligence"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 1.0536725521087646,
        "is_functional_test": true
      },
      {
        "case_name": "Advanced Search with Increased Result Count",
        "purpose": "测试高级搜索模式和最大结果数限制（10）的功能是否正常",
        "args": {
          "query": "machine learning applications",
          "search_depth": "advanced",
          "max_results": 10
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 0.27988553047180176,
        "is_functional_test": true
      },
      {
        "case_name": "Search Including Specific Domains",
        "purpose": "验证 include_domains 参数是否能正确过滤搜索结果来源",
        "args": {
          "query": "blockchain technology",
          "include_domains": [
            "example.com",
            "techcrunch.com"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 0.27837228775024414,
        "is_functional_test": true
      },
      {
        "case_name": "Search Excluding Specific Domains",
        "purpose": "验证 exclude_domains 参数是否能正确排除特定域的搜索结果",
        "args": {
          "query": "climate change research",
          "exclude_domains": [
            "wikipedia.org",
            "reddit.com"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 0.2773017883300781,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Query Input Test",
        "purpose": "测试空查询输入时是否抛出适当的 ValueError 异常",
        "args": {
          "query": ""
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: Query cannot be empty or contain only whitespace."
        },
        "execution_time": 0.003999233245849609,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Domain Format Handling",
        "purpose": "验证工具对无效域名格式的处理能力",
        "args": {
          "query": "quantum computing",
          "include_domains": [
            "invalid-domain!.com",
            "https://google.com"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 0.819390058517456,
        "is_functional_test": false
      },
      {
        "case_name": "Max Results Boundary Value Test",
        "purpose": "测试 max_results 边界值，包括最小值（1）和最大值（10）",
        "args": {
          "query": "robotics trends",
          "max_results": 1
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 1.0629923343658447,
        "is_functional_test": true
      },
      {
        "case_name": "Special Characters in Search Query",
        "purpose": "验证工具能否正确处理包含特殊字符的搜索查询",
        "args": {
          "query": "API@2025! How to use?"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: API request failed with status 401: {\n    \"detail\": {\n        \"error\": \"Unauthorized: missing or invalid API key.\"\n    }\n}\n"
        },
        "execution_time": 0.2777419090270996,
        "is_functional_test": true
      }
    ],
    "tavily_answer_search": [
      {
        "case_name": "Basic Answer Generation with Default Parameters",
        "purpose": "验证使用默认参数的基本问答功能是否正常工作",
        "args": {
          "query": "What is artificial intelligence?",
          "max_results": 5
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed: "
        },
        "execution_time": 5.032288312911987,
        "is_functional_test": true
      },
      {
        "case_name": "Answer Generation for Complex Technical Question",
        "purpose": "测试复杂技术问题的回答生成能力并获取支持证据",
        "args": {
          "query": "Explain the differences between supervised and unsupervised machine learning.",
          "max_results": 5
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed: "
        },
        "execution_time": 5.0123138427734375,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Query Input Test",
        "purpose": "测试空查询输入时是否抛出适当的 ValueError 异常",
        "args": {
          "query": ""
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: Query cannot be empty or contain only whitespace."
        },
        "execution_time": 0.00789022445678711,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid API Key Handling",
        "purpose": "验证工具在提供无效API密钥时的错误处理能力",
        "args": {
          "query": "What is quantum computing?",
          "max_results": 5
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed: "
        },
        "execution_time": 5.0183656215667725,
        "is_functional_test": false
      },
      {
        "case_name": "Max Results Boundary Value Test - Minimum",
        "purpose": "测试 max_results 最小值（1）是否正常工作",
        "args": {
          "query": "What are current trends in robotics?",
          "max_results": 1
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed: "
        },
        "execution_time": 5.0175793170928955,
        "is_functional_test": true
      },
      {
        "case_name": "Max Results Boundary Value Test - Maximum",
        "purpose": "测试 max_results 最大值（10）是否正常工作",
        "args": {
          "query": "What are recent developments in blockchain technology?",
          "max_results": 10
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 1.264740228652954,
        "is_functional_test": true
      },
      {
        "case_name": "Special Characters in Search Query",
        "purpose": "验证工具能否正确处理包含特殊字符的搜索查询",
        "args": {
          "query": "How to use Tavily's API@2025? What about \"quotes\" and /slashes?"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.34284019470214844,
        "is_functional_test": true
      },
      {
        "case_name": "Network Failure Simulation",
        "purpose": "测试网络连接失败时的错误处理机制",
        "args": {
          "query": "What is the latest research on climate change?",
          "max_results": 5
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.34381556510925293,
        "is_functional_test": false
      }
    ],
    "tavily_news_search": [
      {
        "case_name": "Basic News Search with Default Parameters",
        "purpose": "验证使用默认参数的基本新闻搜索功能是否正常工作",
        "args": {
          "query": "latest technology news"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed: "
        },
        "execution_time": 5.011946439743042,
        "is_functional_test": true
      },
      {
        "case_name": "News Search with Time Limit Filter",
        "purpose": "测试时间限制过滤器（7天）是否能正确返回最近的新闻文章",
        "args": {
          "query": "climate change",
          "time_limit_days": 7
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 1.0232069492340088,
        "is_functional_test": true
      },
      {
        "case_name": "News Search Including Specific Sources",
        "purpose": "验证 include_sources 参数是否能正确限制新闻来源",
        "args": {
          "query": "global economy",
          "include_sources": [
            "nytimes.com",
            "theguardian.com"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.27874231338500977,
        "is_functional_test": true
      },
      {
        "case_name": "News Search Excluding Specific Sources",
        "purpose": "验证 exclude_sources 参数是否能正确排除特定新闻来源",
        "args": {
          "query": "political updates",
          "exclude_sources": [
            "foxnews.com",
            "cnn.com"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.2827441692352295,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Query Input Test",
        "purpose": "测试空查询输入时是否抛出适当的 ValueError 异常",
        "args": {
          "query": ""
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: Query cannot be empty or contain only whitespace."
        },
        "execution_time": 0.0049631595611572266,
        "is_functional_test": false
      },
      {
        "case_name": "Max Results Boundary Value - Minimum",
        "purpose": "测试 max_results 最小值（1）是否正常工作",
        "args": {
          "query": "sports highlights",
          "max_results": 1
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.27828311920166016,
        "is_functional_test": true
      },
      {
        "case_name": "Max Results Boundary Value - Maximum",
        "purpose": "测试 max_results 最大值（10）是否正常工作",
        "args": {
          "query": "health research",
          "max_results": 10
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.27951693534851074,
        "is_functional_test": true
      },
      {
        "case_name": "Special Characters in Search Query",
        "purpose": "验证工具能否正确处理包含特殊字符的搜索查询",
        "args": {
          "query": "AI@2025! What's new?"
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: API request failed with status 404: {\"detail\":\"Not Found\"}"
        },
        "execution_time": 0.28121423721313477,
        "is_functional_test": true
      }
    ]
  },
  "total_cases": 24
}