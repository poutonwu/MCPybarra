{
  "server_name": "server",
  "parent_dir": "refined",
  "report_name": "deepseek-v3-mcp_image_search_download_icon",
  "server_path": "workspace/pipeline-output-servers/deepseek-v3/mcp_image_search_download_icon/refined/server.py",
  "timestamp": "2025-07-16T12:03:50.673046",
  "tools": [
    {
      "name": "search_images",
      "description": "\n    Searches for images based on user-provided keywords across popular image sources.\n\n    Args:\n        keywords: The search query for images.\n        source: Specify the image source (e.g., \"unsplash\", \"pexels\", \"pixabay\"). Defaults to searching all sources.\n        max_results: Maximum number of results to return. Defaults to 5.\n\n    Returns:\n        A JSON string containing a list of dictionaries with image details.\n\n    Raises:\n        ValueError: If no API keys are configured for the specified source.\n        httpx.HTTPStatusError: If the API request fails.\n    ",
      "args_schema": {
        "properties": {
          "keywords": {
            "title": "Keywords",
            "type": "string"
          },
          "source": {
            "default": null,
            "title": "Source",
            "type": "string"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "keywords"
        ],
        "title": "search_imagesArguments",
        "type": "object"
      }
    },
    {
      "name": "download_image",
      "description": "\n    Downloads an image from a given URL and saves it to a specified directory.\n\n    Args:\n        image_url: URL of the image to download.\n        filename: Name to save the file as (excluding extension).\n        save_dir: Directory path to save the image. Defaults to \"./downloads\".\n\n    Returns:\n        A JSON string containing the save status and path information.\n\n    Raises:\n        httpx.HTTPStatusError: If the download request fails.\n        IOError: If the file cannot be saved.\n    ",
      "args_schema": {
        "properties": {
          "image_url": {
            "title": "Image Url",
            "type": "string"
          },
          "filename": {
            "title": "Filename",
            "type": "string"
          },
          "save_dir": {
            "default": "./downloads",
            "title": "Save Dir",
            "type": "string"
          }
        },
        "required": [
          "image_url",
          "filename"
        ],
        "title": "download_imageArguments",
        "type": "object"
      }
    },
    {
      "name": "generate_icon",
      "description": "\n    Generates an icon based on a user-provided description and saves it to a specified directory.\n\n    Args:\n        description: Text description of the desired icon.\n        size: Dimensions of the icon (e.g., \"64x64\"). Defaults to \"32x32\".\n        save_dir: Directory path to save the icon. Defaults to \"./icons\".\n\n    Returns:\n        A JSON string containing the save status and path information.\n\n    Raises:\n        IOError: If the file cannot be saved.\n    ",
      "args_schema": {
        "properties": {
          "description": {
            "title": "Description",
            "type": "string"
          },
          "size": {
            "default": "32x32",
            "title": "Size",
            "type": "string"
          },
          "save_dir": {
            "default": "./icons",
            "title": "Save Dir",
            "type": "string"
          }
        },
        "required": [
          "description"
        ],
        "title": "generate_iconArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "search_images": [
      {
        "case_name": "Basic Image Search with Default Parameters",
        "purpose": "验证使用默认参数的基本图像搜索功能是否正常工作",
        "args": {
          "keywords": "nature landscape"
        },
        "response": {
          "error": "ToolException: Error executing tool search_images: "
        },
        "execution_time": 5.010672092437744,
        "is_functional_test": true
      },
      {
        "case_name": "Image Search from Specific Source",
        "purpose": "验证指定特定图像来源的搜索功能是否正常",
        "args": {
          "keywords": "technology",
          "source": "unsplash"
        },
        "response": {
          "error": "ToolException: Error executing tool search_images: "
        },
        "execution_time": 5.011118650436401,
        "is_functional_test": true
      },
      {
        "case_name": "Search with Custom Result Limit",
        "purpose": "验证可以正确返回自定义数量的最大结果数",
        "args": {
          "keywords": "animals",
          "max_results": 10
        },
        "response": {
          "result": "[{\"url\": \"https://images.unsplash.com/photo-1529778873920-4da4926a72c2?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxhbmltYWxzfGVufDB8fHx8MTc1MjYzNDcyNXww&ixlib=rb-4.1.0&q=80&w=1080\", \"author\": \"Edgar\", \"source\": \"unsplash\", \"license\": \"https://unsplash.com/@e_d_g_a_r\"}, {\"url\": \"https://images.unsplash.com/photo-1535268647677-300dbf3d78d1?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwyfHxhbmltYWxzfGVufDB8fHx8MTc1MjYzNDcyNXww&ixlib=rb-4.1.0&q=80&w=1080\", \"author\": \"Daniel Octavian\", \"source\": \"unsplash\", \"license\": \"https://unsplash.com/@danieloctavian\"}, {\"url\": \"https://images.unsplash.com/photo-1589656966895-2f33e7653819?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwzfHxhbmltYWxzfGVufDB8fHx8MTc1MjYzNDcyNXww&ixlib=rb-4.1.0&q=80&w=1080\", \"author\": \"Hans-Jurgen Mager\", \"source\": \"unsplash\", \"license\": \"https://unsplash.com/@hansjurgen007\"}, {\"url\": \"https://images.unsplash.com/photo-1591824438708-ce405f36ba3d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHw0fHxhbmltYWxzfGVufDB8fHx8MTc1MjYzNDcyNXww&ixlib=rb-4.1.0&q=80&w=1080\", \"author\": \"Hans-Jurgen Mager\", \"source\": \"unsplash\", \"license\": \"https://unsplash.com/@hansjurgen007\"}, {\"url\": \"https://images.unsplash.com/photo-1574870111867-089730e5a72b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHw1fHxhb...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计7959字符，剩余6559字符"
        },
        "execution_time": 2.7399141788482666,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Keywords Input",
        "purpose": "验证输入空关键词时的行为是否符合预期（应抛出错误或合理提示）",
        "args": {
          "keywords": ""
        },
        "response": {
          "error": "ToolException: Error executing tool search_images: Client error '400 Bad Request' for url 'https://api.unsplash.com/search/photos?query=&per_page=5'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400"
        },
        "execution_time": 0.2930161952972412,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Source Test",
        "purpose": "验证指定无效图像来源时是否能正确处理错误",
        "args": {
          "keywords": "cars",
          "source": "invalid_source"
        },
        "response": {
          "result": "[]"
        },
        "execution_time": 0.0039997100830078125,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters in Keywords",
        "purpose": "验证包含特殊字符的搜索词是否能被正确处理",
        "args": {
          "keywords": "café !@#$%^&*()_+{}[]<>?/\\\"':;|`~"
        },
        "response": {
          "result": "[{\"url\": \"https://images.unsplash.com/photo-1556742517-fde6c2abbe11?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MXwxfHNlYXJjaHwxfHxjYWYlQzMlQTklMjAlMjElNDB8ZW58MHx8fHwxNzUyNjM0NzI5fDA&ixlib=rb-4.1.0&q=80&w=1080\", \"author\": \"Nathan Dumlao\", \"source\": \"unsplash\", \"license\": \"https://unsplash.com/@nate_dumlao\"}, {\"url\": \"https://images.unsplash.com/photo-1658879627289-8aa97ff47359?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwyfHxjYWYlQzMlQTklMjAlMjElNDB8ZW58MHx8fHwxNzUyNjM0NzI5fDA&ixlib=rb-4.1.0&q=80&w=1080\", \"author\": \"Arthur A\", \"source\": \"unsplash\", \"license\": \"https://unsplash.com/@americanaez225\"}, {\"url\": \"https://images.unsplash.com/photo-1652583055028-321a87a71855?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwzfHxjYWYlQzMlQTklMjAlMjElNDB8ZW58MHx8fHwxNzUyNjM0NzI5fDA&ixlib=rb-4.1.0&q=80&w=1080\", \"author\": \"Bunly Hort\", \"source\": \"unsplash\", \"license\": \"https://unsplash.com/@bunly1998\"}, {\"url\": \"https://images.unsplash.com/photo-1633073623899-476ecaec59c4?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHw0fHxjYWYlQzMlQTklMjAlMjElNDB8ZW58MHx8fHwxNzUyNjM0NzI5fDA&ixlib=rb-4.1.0&q=80&w=1080\", \"author\": \"Takafumi Yamashita\", \"source\": \"unsplash\", \"license\": \"https://unsplash.com/@yamashita0129\"}, {\"url\": \"https://images.unsplash.com/photo-1616925648221-304fbc356503?crop=entropy&cs=tinysrgb&fit...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计12079字符，剩余10679字符"
        },
        "execution_time": 1.1029479503631592,
        "is_functional_test": true
      },
      {
        "case_name": "Zero Max Results",
        "purpose": "验证最大结果数为0时的行为是否符合预期",
        "args": {
          "keywords": "flowers",
          "max_results": 0
        },
        "response": {
          "error": "ToolException: Error executing tool search_images: Client error '400 Bad Request' for url 'https://pixabay.com/api/?key=REDACTED_SECRET&q=flowers&per_page=0'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400"
        },
        "execution_time": 1.6294543743133545,
        "is_functional_test": false
      },
      {
        "case_name": "Large Max Results Boundary",
        "purpose": "验证最大结果数达到边界值时的行为是否稳定",
        "args": {
          "keywords": "cities",
          "max_results": 100
        },
        "response": {
          "result": "[{\"url\": \"https://images.unsplash.com/photo-1525095240410-9645dea911e4?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxjaXRpZXN8ZW58MHx8fHwxNzUyNjM4NjY2fDA&ixlib=rb-4.1.0&q=80&w=1080\", \"author\": \"Jorge Vasconez\", \"source\": \"unsplash\", \"license\": \"https://unsplash.com/@jorgeluis\"}, {\"url\": \"https://images.unsplash.com/photo-1555397430-57791c75748a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwyfHxjaXRpZXN8ZW58MHx8fHwxNzUyNjM4NjY2fDA&ixlib=rb-4.1.0&q=80&w=1080\", \"author\": \"Koukichi Takahashi\", \"source\": \"unsplash\", \"license\": \"https://unsplash.com/@koukichi_t\"}, {\"url\": \"https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwzfHxjaXRpZXN8ZW58MHx8fHwxNzUyNjM4NjY2fDA&ixlib=rb-4.1.0&q=80&w=1080\", \"author\": \"Pedro Lastra\", \"source\": \"unsplash\", \"license\": \"https://unsplash.com/@peterlaster\"}, {\"url\": \"https://images.unsplash.com/photo-1561488111-5d800fd56b8a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHw0fHxjaXRpZXN8ZW58MHx8fHwxNzUyNjM4NjY2fDA&ixlib=rb-4.1.0&q=80&w=1080\", \"author\": \"Cl\\u00e9ment Falize\", \"source\": \"unsplash\", \"license\": \"https://unsplash.com/@centelm\"}, {\"url\": \"https://images.unsplash.com/photo-1518563172008-e56c5dfbaef6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHw1fHxjaXRpZXN8ZW58MH...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计47178字符，剩余45778字符"
        },
        "execution_time": 3.3452415466308594,
        "is_functional_test": true
      }
    ],
    "download_image": [
      {
        "case_name": "Basic Image Download with Default Directory",
        "purpose": "验证使用默认目录下载图像的基本功能是否正常工作",
        "args": {},
        "response": {
          "error": "ToolException: Error executing tool download_image: 2 validation errors for download_imageArguments\nimage_url\n  Field required [type=missing, input_value={}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing\nfilename\n  Field required [type=missing, input_value={}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing"
        },
        "execution_time": 0.004000663757324219,
        "is_functional_test": false
      },
      {
        "case_name": "Image Download to Custom Directory",
        "purpose": "验证指定自定义目录时图像能否被正确下载和保存",
        "args": {},
        "response": {
          "error": "ToolException: Error executing tool download_image: 2 validation errors for download_imageArguments\nimage_url\n  Field required [type=missing, input_value={}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing\nfilename\n  Field required [type=missing, input_value={}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing"
        },
        "execution_time": 0.004988431930541992,
        "is_functional_test": false
      },
      {
        "case_name": "Download from Invalid URL",
        "purpose": "验证无效的URL是否能被正确处理并抛出HTTP错误",
        "args": {},
        "response": {
          "error": "ToolException: Error executing tool download_image: 2 validation errors for download_imageArguments\nimage_url\n  Field required [type=missing, input_value={}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing\nfilename\n  Field required [type=missing, input_value={}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing"
        },
        "execution_time": 0.01041102409362793,
        "is_functional_test": false
      },
      {
        "case_name": "Download to Non-Writable Directory",
        "purpose": "验证尝试将文件保存到不可写目录时是否能正确处理IO错误",
        "args": {},
        "response": {
          "error": "ToolException: Error executing tool download_image: 2 validation errors for download_imageArguments\nimage_url\n  Field required [type=missing, input_value={}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing\nfilename\n  Field required [type=missing, input_value={}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing"
        },
        "execution_time": 0.007024288177490234,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters in Filename",
        "purpose": "验证包含特殊字符的文件名是否能被正确处理",
        "args": {},
        "response": {
          "error": "ToolException: Error executing tool download_image: 2 validation errors for download_imageArguments\nimage_url\n  Field required [type=missing, input_value={}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing\nfilename\n  Field required [type=missing, input_value={}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing"
        },
        "execution_time": 0.009552717208862305,
        "is_functional_test": false
      },
      {
        "case_name": "Zero Length Filename Test",
        "purpose": "验证空文件名输入时的行为是否符合预期（应抛出错误）",
        "args": {},
        "response": {
          "error": "ToolException: Error executing tool download_image: 2 validation errors for download_imageArguments\nimage_url\n  Field required [type=missing, input_value={}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing\nfilename\n  Field required [type=missing, input_value={}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing"
        },
        "execution_time": 0.010969161987304688,
        "is_functional_test": false
      },
      {
        "case_name": "Very Long Filename Boundary",
        "purpose": "验证超长文件名边界情况是否能被系统正确处理",
        "args": {},
        "response": {
          "error": "ToolException: Error executing tool download_image: 2 validation errors for download_imageArguments\nimage_url\n  Field required [type=missing, input_value={}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing\nfilename\n  Field required [type=missing, input_value={}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing"
        },
        "execution_time": 0.0091705322265625,
        "is_functional_test": false
      },
      {
        "case_name": "Download and Overwrite Existing File",
        "purpose": "验证下载相同文件名时是否能覆盖已存在的文件",
        "args": {},
        "response": {
          "error": "ToolException: Error executing tool download_image: 2 validation errors for download_imageArguments\nimage_url\n  Field required [type=missing, input_value={}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing\nfilename\n  Field required [type=missing, input_value={}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing"
        },
        "execution_time": 0.010347366333007812,
        "is_functional_test": false
      }
    ],
    "generate_icon": [
      {
        "case_name": "Basic Icon Generation with Default Parameters",
        "purpose": "验证使用默认参数的基本图标生成功能是否正常工作",
        "args": {
          "description": "a red apple icon"
        },
        "response": {
          "result": "{\"status\": \"success\", \"path\": \"./icons\\\\icon_a_red_apple_icon.png\"}"
        },
        "execution_time": 0.021361351013183594,
        "is_functional_test": true
      },
      {
        "case_name": "Icon Generation with Custom Size",
        "purpose": "验证指定自定义尺寸时图标能否被正确生成",
        "args": {
          "description": "a blue cloud icon",
          "size": "64x64"
        },
        "response": {
          "result": "{\"status\": \"success\", \"path\": \"./icons\\\\icon_a_blue_cloud_icon.png\"}"
        },
        "execution_time": 0.008016824722290039,
        "is_functional_test": true
      },
      {
        "case_name": "Icon Generation to Custom Directory",
        "purpose": "验证指定自定义保存目录时图标能否被正确保存",
        "args": {
          "description": "a green checkmark icon",
          "save_dir": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles"
        },
        "response": {
          "result": "{\"status\": \"success\", \"path\": \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\icon_a_green_checkmark_icon.png\"}"
        },
        "execution_time": 0.00714874267578125,
        "is_functional_test": true
      },
      {
        "case_name": "Icon Generation with All Custom Parameters",
        "purpose": "验证同时使用所有自定义参数（描述、尺寸、保存目录）时图标能否被正确生成和保存",
        "args": {
          "description": "a yellow star icon",
          "size": "128x128",
          "save_dir": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles"
        },
        "response": {
          "result": "{\"status\": \"success\", \"path\": \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\icon_a_yellow_star_icon.png\"}"
        },
        "execution_time": 0.00957942008972168,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Description Input",
        "purpose": "验证空描述输入时的行为是否符合预期（应抛出错误或合理提示）",
        "args": {
          "description": ""
        },
        "response": {
          "result": "{\"status\": \"success\", \"path\": \"./icons\\\\icon_.png\"}"
        },
        "execution_time": 0.003999471664428711,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters in Description",
        "purpose": "验证包含特殊字符的描述是否能被正确处理",
        "args": {
          "description": "a @special# icon! <with> \"quotes\" & symbols"
        },
        "response": {
          "result": "{\"status\": \"success\", \"path\": \"./icons\\\\icon_a_special_icon_with_quotes__symbols.png\"}"
        },
        "execution_time": 0.007407188415527344,
        "is_functional_test": true
      },
      {
        "case_name": "Zero Size Dimensions",
        "purpose": "验证尺寸为0x0时的行为是否符合预期（应使用默认值或合理处理）",
        "args": {
          "description": "a minimal icon",
          "size": "0x0"
        },
        "response": {
          "error": "ToolException: Error executing tool generate_icon: tile cannot extend outside image"
        },
        "execution_time": 0.008516311645507812,
        "is_functional_test": false
      },
      {
        "case_name": "Very Large Size Boundary",
        "purpose": "验证超大尺寸边界情况是否能被系统正确处理",
        "args": {
          "description": "a high-resolution logo",
          "size": "1024x1024"
        },
        "response": {
          "result": "{\"status\": \"success\", \"path\": \"./icons\\\\icon_a_highresolution_logo.png\"}"
        },
        "execution_time": 0.02416849136352539,
        "is_functional_test": false
      }
    ]
  },
  "total_cases": 24
}