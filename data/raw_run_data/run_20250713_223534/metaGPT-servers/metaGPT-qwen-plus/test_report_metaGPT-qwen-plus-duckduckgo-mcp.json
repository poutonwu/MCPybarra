{
  "server_name": "duckduckgo-mcp",
  "parent_dir": "metaGPT-qwen-plus",
  "report_name": "metaGPT-qwen-plus-duckduckgo-mcp",
  "server_path": "workspace\\metaGPT-servers\\metaGPT-qwen-plus\\duckduckgo-mcp.py",
  "timestamp": "2025-07-13T22:35:36.876538",
  "tools": [
    {
      "name": "duckduckgo_search",
      "description": "\n    在 DuckDuckGo 搜索引擎上检索相关信息。\n\n    Args:\n        query: 用户输入的查询内容 (字符串类型，必填)。\n\n    Returns:\n        一个包含搜索结果的 JSON 格式字符串。\n\n    Raises:\n        ValueError: 如果查询为空或仅包含空白字符。\n        httpx.HTTPStatusError: 如果 API 请求失败。\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          }
        },
        "required": [
          "query"
        ],
        "title": "duckduckgo_searchArguments",
        "type": "object"
      }
    },
    {
      "name": "fetch_content",
      "description": "\n    根据用户提供的网页 URL 抓取并解析主要文本内容。\n\n    Args:\n        url: 用户输入的网页 URL (字符串类型，必填)。\n\n    Returns:\n        一个包含清理后的网页主要内容的字符串。\n\n    Raises:\n        ValueError: 如果 URL 无效。\n        httpx.HTTPStatusError: 如果 网页请求失败。\n    ",
      "args_schema": {
        "properties": {
          "url": {
            "title": "Url",
            "type": "string"
          }
        },
        "required": [
          "url"
        ],
        "title": "fetch_contentArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "duckduckgo_search": [
      {
        "case_name": "Basic DuckDuckGo Search",
        "purpose": "验证 duckduckgo_search 工具在正常查询下是否能返回有效的搜索结果。",
        "args": {
          "query": "artificial intelligence"
        },
        "response": {
          "result": "{\"Abstract\":\"\",\"AbstractSource\":\"Wikipedia\",\"AbstractText\":\"\",\"AbstractURL\":\"https://en.wikipedia.org/wiki/The_Search_(disambiguation)\",\"Answer\":\"\",\"AnswerType\":\"\",\"Definition\":\"\",\"DefinitionSource\":\"\",\"DefinitionURL\":\"\",\"Entity\":\"\",\"Heading\":\"The Search\",\"Image\":\"\",\"ImageHeight\":0,\"ImageIsLogo\":0,\"ImageWidth\":0,\"Infobox\":\"\",\"Redirect\":\"\",\"RelatedTopics\":[{\"FirstURL\":\"https://duckduckgo.com/The_Search\",\"Icon\":{\"Height\":\"\",\"URL\":\"/i/f70b8a45.jpg\",\"Width\":\"\"},\"Result\":\"<a href=\\\"https://duckduckgo.com/The_Search\\\">The Search</a> A 1948 American film directed by Fred Zinnemann that tells the story of a young Auschwitz...\",\"Text\":\"The Search A 1948 American film directed by Fred Zinnemann that tells the story of a young Auschwitz...\"},{\"FirstURL\":\"https://duckduckgo.com/The_Search_(NF_album)\",\"Icon\":{\"Height\":\"\",\"URL\":\"\",\"Width\":\"\"},\"Result\":\"<a href=\\\"https://duckduckgo.com/The_Search_(NF_album)\\\">The Search (NF album)</a>The fourth studio album by American rapper NF. It was released on July 26, 2019, through NF Real...\",\"Text\":\"The Search (NF album) The fourth studio album by American rapper NF. It was released on July 26, 2019, through NF Real...\"},{\"FirstURL\":\"https://duckduckgo.com/The_Search_(Star_Trek%3A_Deep_Space_Nine)\",\"Icon\":{\"Height\":\"\",\"URL\":\"\",\"Width\":\"\"},\"Result\":\"<a href=\\\"https://duckduckgo.com/The_Search_(Star_Trek%3A_Deep_Space_Nine)\\\">\\\"The Search\\\" (Star Trek: Deep Space Nine)</a> The 47th and 48th episode of the science fiction television show Star Trek: Dee...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计12854字符，剩余11354字符"
        },
        "execution_time": 1.520334005355835,
        "is_functional_test": true
      },
      {
        "case_name": "Search with Specific Year Filter",
        "purpose": "测试工具是否支持带年份范围的搜索查询并正确返回结果。",
        "args": {
          "query": "climate change site:gov 2020..2023"
        },
        "response": {
          "result": "{\"Abstract\":\"\",\"AbstractSource\":\"Wikipedia\",\"AbstractText\":\"\",\"AbstractURL\":\"https://en.wikipedia.org/wiki/The_Search_(disambiguation)\",\"Answer\":\"\",\"AnswerType\":\"\",\"Definition\":\"\",\"DefinitionSource\":\"\",\"DefinitionURL\":\"\",\"Entity\":\"\",\"Heading\":\"The Search\",\"Image\":\"\",\"ImageHeight\":0,\"ImageIsLogo\":0,\"ImageWidth\":0,\"Infobox\":\"\",\"Redirect\":\"\",\"RelatedTopics\":[{\"FirstURL\":\"https://duckduckgo.com/The_Search\",\"Icon\":{\"Height\":\"\",\"URL\":\"/i/f70b8a45.jpg\",\"Width\":\"\"},\"Result\":\"<a href=\\\"https://duckduckgo.com/The_Search\\\">The Search</a> A 1948 American film directed by Fred Zinnemann that tells the story of a young Auschwitz...\",\"Text\":\"The Search A 1948 American film directed by Fred Zinnemann that tells the story of a young Auschwitz...\"},{\"FirstURL\":\"https://duckduckgo.com/The_Search_(NF_album)\",\"Icon\":{\"Height\":\"\",\"URL\":\"\",\"Width\":\"\"},\"Result\":\"<a href=\\\"https://duckduckgo.com/The_Search_(NF_album)\\\">The Search (NF album)</a>The fourth studio album by American rapper NF. It was released on July 26, 2019, through NF Real...\",\"Text\":\"The Search (NF album) The fourth studio album by American rapper NF. It was released on July 26, 2019, through NF Real...\"},{\"FirstURL\":\"https://duckduckgo.com/The_Search_(Star_Trek%3A_Deep_Space_Nine)\",\"Icon\":{\"Height\":\"\",\"URL\":\"\",\"Width\":\"\"},\"Result\":\"<a href=\\\"https://duckduckgo.com/The_Search_(Star_Trek%3A_Deep_Space_Nine)\\\">\\\"The Search\\\" (Star Trek: Deep Space Nine)</a> The 47th and 48th episode of the science fiction television show Star Trek: Dee...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计12854字符，剩余11354字符"
        },
        "execution_time": 2.2117738723754883,
        "is_functional_test": true
      },
      {
        "case_name": "Empty Query Input",
        "purpose": "验证当用户输入空查询时，工具是否抛出 ValueError 异常。",
        "args": {
          "query": ""
        },
        "response": {
          "error": "ToolException: Error executing tool duckduckgo_search: 'query' 不能为空。"
        },
        "execution_time": 0.007006406784057617,
        "is_functional_test": false
      },
      {
        "case_name": "Whitespace Only Query",
        "purpose": "验证当查询参数仅包含空白字符时，工具是否抛出 ValueError 异常。",
        "args": {
          "query": "   "
        },
        "response": {
          "error": "ToolException: Error executing tool duckduckgo_search: 'query' 不能为空。"
        },
        "execution_time": 0.0029969215393066406,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters in Query",
        "purpose": "测试工具是否能够处理包含特殊字符（如!@#$%^&*）的查询字符串。",
        "args": {
          "query": "!@#$%^&* search test"
        },
        "response": {
          "result": "{\"Abstract\":\"\",\"AbstractSource\":\"Wikipedia\",\"AbstractText\":\"\",\"AbstractURL\":\"https://en.wikipedia.org/wiki/The_Search_(disambiguation)\",\"Answer\":\"\",\"AnswerType\":\"\",\"Definition\":\"\",\"DefinitionSource\":\"\",\"DefinitionURL\":\"\",\"Entity\":\"\",\"Heading\":\"The Search\",\"Image\":\"\",\"ImageHeight\":0,\"ImageIsLogo\":0,\"ImageWidth\":0,\"Infobox\":\"\",\"Redirect\":\"\",\"RelatedTopics\":[{\"FirstURL\":\"https://duckduckgo.com/The_Search\",\"Icon\":{\"Height\":\"\",\"URL\":\"/i/f70b8a45.jpg\",\"Width\":\"\"},\"Result\":\"<a href=\\\"https://duckduckgo.com/The_Search\\\">The Search</a> A 1948 American film directed by Fred Zinnemann that tells the story of a young Auschwitz...\",\"Text\":\"The Search A 1948 American film directed by Fred Zinnemann that tells the story of a young Auschwitz...\"},{\"FirstURL\":\"https://duckduckgo.com/The_Search_(NF_album)\",\"Icon\":{\"Height\":\"\",\"URL\":\"\",\"Width\":\"\"},\"Result\":\"<a href=\\\"https://duckduckgo.com/The_Search_(NF_album)\\\">The Search (NF album)</a>The fourth studio album by American rapper NF. It was released on July 26, 2019, through NF Real...\",\"Text\":\"The Search (NF album) The fourth studio album by American rapper NF. It was released on July 26, 2019, through NF Real...\"},{\"FirstURL\":\"https://duckduckgo.com/The_Search_(Star_Trek%3A_Deep_Space_Nine)\",\"Icon\":{\"Height\":\"\",\"URL\":\"\",\"Width\":\"\"},\"Result\":\"<a href=\\\"https://duckduckgo.com/The_Search_(Star_Trek%3A_Deep_Space_Nine)\\\">\\\"The Search\\\" (Star Trek: Deep Space Nine)</a> The 47th and 48th episode of the science fiction television show Star Trek: Dee...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计12854字符，剩余11354字符"
        },
        "execution_time": 1.5306932926177979,
        "is_functional_test": true
      },
      {
        "case_name": "XSS Attempt Simulation",
        "purpose": "模拟跨站脚本攻击尝试，验证工具是否对特殊HTML内容进行安全过滤。",
        "args": {
          "query": "<script>alert('xss')</script>"
        },
        "response": {
          "result": "{\"Abstract\":\"\",\"AbstractSource\":\"Wikipedia\",\"AbstractText\":\"\",\"AbstractURL\":\"https://en.wikipedia.org/wiki/The_Search_(disambiguation)\",\"Answer\":\"\",\"AnswerType\":\"\",\"Definition\":\"\",\"DefinitionSource\":\"\",\"DefinitionURL\":\"\",\"Entity\":\"\",\"Heading\":\"The Search\",\"Image\":\"\",\"ImageHeight\":0,\"ImageIsLogo\":0,\"ImageWidth\":0,\"Infobox\":\"\",\"Redirect\":\"\",\"RelatedTopics\":[{\"FirstURL\":\"https://duckduckgo.com/The_Search\",\"Icon\":{\"Height\":\"\",\"URL\":\"/i/f70b8a45.jpg\",\"Width\":\"\"},\"Result\":\"<a href=\\\"https://duckduckgo.com/The_Search\\\">The Search</a> A 1948 American film directed by Fred Zinnemann that tells the story of a young Auschwitz...\",\"Text\":\"The Search A 1948 American film directed by Fred Zinnemann that tells the story of a young Auschwitz...\"},{\"FirstURL\":\"https://duckduckgo.com/The_Search_(NF_album)\",\"Icon\":{\"Height\":\"\",\"URL\":\"\",\"Width\":\"\"},\"Result\":\"<a href=\\\"https://duckduckgo.com/The_Search_(NF_album)\\\">The Search (NF album)</a>The fourth studio album by American rapper NF. It was released on July 26, 2019, through NF Real...\",\"Text\":\"The Search (NF album) The fourth studio album by American rapper NF. It was released on July 26, 2019, through NF Real...\"},{\"FirstURL\":\"https://duckduckgo.com/The_Search_(Star_Trek%3A_Deep_Space_Nine)\",\"Icon\":{\"Height\":\"\",\"URL\":\"\",\"Width\":\"\"},\"Result\":\"<a href=\\\"https://duckduckgo.com/The_Search_(Star_Trek%3A_Deep_Space_Nine)\\\">\\\"The Search\\\" (Star Trek: Deep Space Nine)</a> The 47th and 48th episode of the science fiction television show Star Trek: Dee...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计12854字符，剩余11354字符"
        },
        "execution_time": 1.5015895366668701,
        "is_functional_test": false
      },
      {
        "case_name": "File Name Based Search",
        "purpose": "使用测试文件名作为关键词进行搜索，验证工具是否能识别相关内容。",
        "args": {
          "query": "paper1.pdf"
        },
        "response": {
          "result": "{\"Abstract\":\"\",\"AbstractSource\":\"Wikipedia\",\"AbstractText\":\"\",\"AbstractURL\":\"https://en.wikipedia.org/wiki/The_Search_(disambiguation)\",\"Answer\":\"\",\"AnswerType\":\"\",\"Definition\":\"\",\"DefinitionSource\":\"\",\"DefinitionURL\":\"\",\"Entity\":\"\",\"Heading\":\"The Search\",\"Image\":\"\",\"ImageHeight\":0,\"ImageIsLogo\":0,\"ImageWidth\":0,\"Infobox\":\"\",\"Redirect\":\"\",\"RelatedTopics\":[{\"FirstURL\":\"https://duckduckgo.com/The_Search\",\"Icon\":{\"Height\":\"\",\"URL\":\"/i/f70b8a45.jpg\",\"Width\":\"\"},\"Result\":\"<a href=\\\"https://duckduckgo.com/The_Search\\\">The Search</a> A 1948 American film directed by Fred Zinnemann that tells the story of a young Auschwitz...\",\"Text\":\"The Search A 1948 American film directed by Fred Zinnemann that tells the story of a young Auschwitz...\"},{\"FirstURL\":\"https://duckduckgo.com/The_Search_(NF_album)\",\"Icon\":{\"Height\":\"\",\"URL\":\"\",\"Width\":\"\"},\"Result\":\"<a href=\\\"https://duckduckgo.com/The_Search_(NF_album)\\\">The Search (NF album)</a>The fourth studio album by American rapper NF. It was released on July 26, 2019, through NF Real...\",\"Text\":\"The Search (NF album) The fourth studio album by American rapper NF. It was released on July 26, 2019, through NF Real...\"},{\"FirstURL\":\"https://duckduckgo.com/The_Search_(Star_Trek%3A_Deep_Space_Nine)\",\"Icon\":{\"Height\":\"\",\"URL\":\"\",\"Width\":\"\"},\"Result\":\"<a href=\\\"https://duckduckgo.com/The_Search_(Star_Trek%3A_Deep_Space_Nine)\\\">\\\"The Search\\\" (Star Trek: Deep Space Nine)</a> The 47th and 48th episode of the science fiction television show Star Trek: Dee...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计12854字符，剩余11354字符"
        },
        "execution_time": 1.6187269687652588,
        "is_functional_test": true
      }
    ],
    "fetch_content": [
      {
        "case_name": "Basic URL Content Fetch",
        "purpose": "验证 fetch_content 工具在正常URL输入下是否能成功抓取并解析网页主要内容。",
        "args": {
          "url": "https://example.com"
        },
        "response": {
          "result": "This domain is for use in illustrative examples in documents. You may use this\n    domain in literature without prior coordination or asking for permission.\nMore information..."
        },
        "execution_time": 1.6468191146850586,
        "is_functional_test": true
      },
      {
        "case_name": "Fetch Content from HTTPS Site",
        "purpose": "测试工具是否支持从使用HTTPS协议的网站抓取内容。",
        "args": {
          "url": "https://www.wikipedia.org"
        },
        "response": {
          "result": "Save your favorite articles to read offline, sync your reading lists across devices and customize your reading experience with the official Wikipedia app.\nThis page is available under theCreative Commons Attribution-ShareAlike LicenseTerms of UsePrivacy Policy"
        },
        "execution_time": 1.519493818283081,
        "is_functional_test": true
      },
      {
        "case_name": "Invalid URL Format",
        "purpose": "验证当用户提供格式错误的URL时，工具是否抛出 ValueError 异常。",
        "args": {
          "url": "htp:/invalid.url"
        },
        "response": {
          "error": "ToolException: Error executing tool fetch_content: Request URL is missing an 'http://' or 'https://' protocol."
        },
        "execution_time": 0.4665074348449707,
        "is_functional_test": false
      },
      {
        "case_name": "Empty URL Input",
        "purpose": "验证当用户输入空字符串作为URL时，工具是否抛出 ValueError 异常。",
        "args": {
          "url": ""
        },
        "response": {
          "error": "ToolException: Error executing tool fetch_content: 'url' 不能为空。"
        },
        "execution_time": 0.004576444625854492,
        "is_functional_test": false
      },
      {
        "case_name": "Whitespace Only URL",
        "purpose": "验证当用户输入仅包含空白字符的URL时，工具是否抛出 ValueError 异常。",
        "args": {
          "url": "   "
        },
        "response": {
          "error": "ToolException: Error executing tool fetch_content: 'url' 不能为空。"
        },
        "execution_time": 0.00599980354309082,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters in URL",
        "purpose": "测试工具是否能够正确处理包含特殊字符（如!@#$%^&*）的URL。",
        "args": {
          "url": "https://example.com/!@#$%^&*"
        },
        "response": {
          "error": "ToolException: Error executing tool fetch_content: Client error '404 Not Found' for url 'https://example.com/!@#$%^&*'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"
        },
        "execution_time": 1.8043415546417236,
        "is_functional_test": true
      },
      {
        "case_name": "XSS Attempt in URL",
        "purpose": "模拟跨站脚本攻击尝试，验证工具是否对恶意URL进行安全过滤或拒绝执行。",
        "args": {
          "url": "https://example.com/<script>alert('xss')</script>"
        },
        "response": {
          "error": "ToolException: Error executing tool fetch_content: Client error '404 Not Found' for url 'https://example.com/%3Cscript%3Ealert('xss')%3C/script%3E'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"
        },
        "execution_time": 2.3163063526153564,
        "is_functional_test": false
      },
      {
        "case_name": "Non-Existent Domain",
        "purpose": "测试工具在请求不存在的域名时是否抛出 httpx.HTTPStatusError 或连接异常。",
        "args": {
          "url": "https://nonexistentdomain1234567890.com"
        },
        "response": {
          "error": "ToolException: Error executing tool fetch_content: "
        },
        "execution_time": 2.6858463287353516,
        "is_functional_test": false
      }
    ]
  },
  "total_cases": 15
}