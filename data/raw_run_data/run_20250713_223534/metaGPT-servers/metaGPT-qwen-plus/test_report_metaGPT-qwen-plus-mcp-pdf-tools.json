{
  "server_name": "mcp-pdf-tools",
  "parent_dir": "metaGPT-qwen-plus",
  "report_name": "metaGPT-qwen-plus-mcp-pdf-tools",
  "server_path": "workspace\\metaGPT-servers\\metaGPT-qwen-plus\\mcp-pdf-tools.py",
  "timestamp": "2025-07-13T22:35:40.406473",
  "tools": [
    {
      "name": "merge_pdfs",
      "description": "\n    将多个PDF文件合并为一个PDF文件。\n\n    Args:\n        input_files: 要合并的PDF文件路径列表。\n        output_file: 合并后的输出文件路径。\n\n    Returns:\n        一个字符串，表示操作结果。\n\n    Raises:\n        ValueError: 如果输入文件列表为空或输出文件路径无效。\n        FileNotFoundError: 如果任一输入文件不存在。\n    ",
      "args_schema": {
        "properties": {
          "input_files": {
            "items": {
              "type": "string"
            },
            "title": "Input Files",
            "type": "array"
          },
          "output_file": {
            "title": "Output File",
            "type": "string"
          }
        },
        "required": [
          "input_files",
          "output_file"
        ],
        "title": "merge_pdfsArguments",
        "type": "object"
      }
    },
    {
      "name": "extract_pages",
      "description": "\n    从PDF文件中提取特定页面并保存为新文件。\n\n    Args:\n        input_file: 输入PDF文件路径。\n        pages: 要提取的页码列表（从1开始）。\n        output_file: 提取后的输出文件路径。\n\n    Returns:\n        一个字符串，表示操作结果。\n\n    Raises:\n        ValueError: 如果输入文件或输出文件路径无效。\n        FileNotFoundError: 如果输入文件不存在。\n        IndexError: 如果页码超出范围。\n    ",
      "args_schema": {
        "properties": {
          "input_file": {
            "title": "Input File",
            "type": "string"
          },
          "pages": {
            "items": {
              "type": "integer"
            },
            "title": "Pages",
            "type": "array"
          },
          "output_file": {
            "title": "Output File",
            "type": "string"
          }
        },
        "required": [
          "input_file",
          "pages",
          "output_file"
        ],
        "title": "extract_pagesArguments",
        "type": "object"
      }
    },
    {
      "name": "search_pdfs",
      "description": "\n    在指定目录中搜索匹配特定模式的PDF文件。\n\n    Args:\n        directory: 要搜索的目录路径。\n        pattern: 正则表达式模式。\n\n    Returns:\n        匹配的PDF文件路径列表。\n\n    Raises:\n        ValueError: 如果目录或模式无效。\n        NotADirectoryError: 如果指定的目录不是有效目录。\n    ",
      "args_schema": {
        "properties": {
          "directory": {
            "title": "Directory",
            "type": "string"
          },
          "pattern": {
            "title": "Pattern",
            "type": "string"
          }
        },
        "required": [
          "directory",
          "pattern"
        ],
        "title": "search_pdfsArguments",
        "type": "object"
      }
    },
    {
      "name": "merge_pdfs_ordered",
      "description": "\n    按照指定的顺序模式合并PDF文件。\n\n    Args:\n        directory: 要搜索的目录路径。\n        pattern: 文件名正则表达式模式。\n        output_file: 合并后的输出文件路径。\n        fuzzy_match: 是否使用模糊匹配（默认：False）。\n\n    Returns:\n        一个字符串，表示操作结果。\n\n    Raises:\n        ValueError: 如果目录或输出文件路径无效。\n        NotADirectoryError: 如果指定的目录不是有效目录。\n    ",
      "args_schema": {
        "properties": {
          "directory": {
            "title": "Directory",
            "type": "string"
          },
          "pattern": {
            "title": "Pattern",
            "type": "string"
          },
          "output_file": {
            "title": "Output File",
            "type": "string"
          },
          "fuzzy_match": {
            "default": false,
            "title": "Fuzzy Match",
            "type": "boolean"
          }
        },
        "required": [
          "directory",
          "pattern",
          "output_file"
        ],
        "title": "merge_pdfs_orderedArguments",
        "type": "object"
      }
    },
    {
      "name": "find_related_pdfs",
      "description": "\n    根据目标PDF文件内容查找相关的PDF文件。\n\n    Args:\n        target_file: 目标PDF文件路径。\n        directory: 要搜索的目录路径（默认：目标文件所在目录）。\n\n    Returns:\n        相关PDF文件路径列表。\n\n    Raises:\n        ValueError: 如果目标文件路径无效。\n        FileNotFoundError: 如果目标文件不存在。\n        NotADirectoryError: 如果指定的目录不是有效目录。\n    ",
      "args_schema": {
        "properties": {
          "target_file": {
            "title": "Target File",
            "type": "string"
          },
          "directory": {
            "default": null,
            "title": "Directory",
            "type": "string"
          }
        },
        "required": [
          "target_file"
        ],
        "title": "find_related_pdfsArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "merge_pdfs": [
      {
        "case_name": "基本功能合并PDF",
        "purpose": "验证工具能够正常将两个存在的PDF文件合并为一个输出文件。",
        "args": {
          "input_files": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\rule1.pdf"
          ],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\merged_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: EOF marker not found"
        },
        "execution_time": 0.05142021179199219,
        "is_functional_test": true
      },
      {
        "case_name": "输入文件为空列表",
        "purpose": "验证当输入文件列表为空时，是否抛出ValueError。",
        "args": {
          "input_files": [],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\merged_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: 输入文件列表和输出文件路径都不能为空。"
        },
        "execution_time": 0.005997657775878906,
        "is_functional_test": false
      },
      {
        "case_name": "输入文件不存在",
        "purpose": "验证当其中一个输入文件路径无效或不存在时，是否抛出FileNotFoundError。",
        "args": {
          "input_files": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.pdf",
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\rule1.pdf"
          ],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\merged_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: 文件 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.pdf' 不存在。"
        },
        "execution_time": 0.0035185813903808594,
        "is_functional_test": false
      },
      {
        "case_name": "输出文件路径无效",
        "purpose": "验证当输出文件路径不合法时是否抛出ValueError。",
        "args": {
          "input_files": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\rule1.pdf"
          ],
          "output_file": ""
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: 输入文件列表和输出文件路径都不能为空。"
        },
        "execution_time": 0.0030012130737304688,
        "is_functional_test": false
      },
      {
        "case_name": "仅一个输入文件合并",
        "purpose": "测试工具在只提供一个输入文件时是否仍能正确生成输出文件。",
        "args": {
          "input_files": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf"
          ],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\single_merged_output.pdf"
        },
        "response": {
          "result": "成功合并 1 个文件到 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\single_merged_output.pdf'。"
        },
        "execution_time": 0.059012651443481445,
        "is_functional_test": true
      },
      {
        "case_name": "包含特殊字符的输出路径",
        "purpose": "验证工具是否支持包含特殊字符的输出文件路径。",
        "args": {
          "input_files": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\rule1.pdf"
          ],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\merged_@#$.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: EOF marker not found"
        },
        "execution_time": 0.04690885543823242,
        "is_functional_test": true
      },
      {
        "case_name": "尝试合并非PDF文件",
        "purpose": "验证工具是否能检测到非PDF文件并抛出错误。",
        "args": {
          "input_files": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nature.jpeg",
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf"
          ],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\invalid_merge.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: EOF marker not found"
        },
        "execution_time": 0.011023998260498047,
        "is_functional_test": false
      },
      {
        "case_name": "安全测试 - 非法文件路径注入",
        "purpose": "测试工具是否对非法路径进行有效校验，防止路径穿越攻击。",
        "args": {
          "input_files": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\..\\..\\..\\..\\etc\\passwd"
          ],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\malicious_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs: 文件 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\..\\..\\..\\..\\etc\\passwd' 不存在。"
        },
        "execution_time": 0.007037162780761719,
        "is_functional_test": false
      }
    ],
    "extract_pages": [
      {
        "case_name": "基本功能提取单页",
        "purpose": "验证工具能够正常从存在的PDF文件中提取指定页面并保存为新文件。",
        "args": {
          "input_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
          "pages": [
            2
          ],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\extracted_page2.pdf"
        },
        "response": {
          "result": "成功从 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf' 提取 1 页到 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\extracted_page2.pdf'。"
        },
        "execution_time": 0.07296299934387207,
        "is_functional_test": true
      },
      {
        "case_name": "基本功能提取多页",
        "purpose": "验证工具能够正确从PDF中提取多个指定页面并合并为一个输出文件。",
        "args": {
          "input_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\rule1.pdf",
          "pages": [
            1,
            3,
            5
          ],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\extracted_pages_1_3_5.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: EOF marker not found"
        },
        "execution_time": 0.010381460189819336,
        "is_functional_test": true
      },
      {
        "case_name": "输入文件路径为空",
        "purpose": "验证当输入文件路径为空时是否抛出ValueError。",
        "args": {
          "input_file": "",
          "pages": [
            1
          ],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 输入文件和输出文件路径都不能为空。"
        },
        "execution_time": 0.0046422481536865234,
        "is_functional_test": false
      },
      {
        "case_name": "输出文件路径无效",
        "purpose": "验证当输出文件路径无效或为空时是否抛出ValueError。",
        "args": {
          "input_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
          "pages": [
            1
          ],
          "output_file": ""
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 输入文件和输出文件路径都不能为空。"
        },
        "execution_time": 0.007909774780273438,
        "is_functional_test": false
      },
      {
        "case_name": "输入文件不存在",
        "purpose": "验证当输入文件路径存在但实际文件不存在时是否抛出FileNotFoundError。",
        "args": {
          "input_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.pdf",
          "pages": [
            1
          ],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 文件 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.pdf' 不存在。"
        },
        "execution_time": 0.003627300262451172,
        "is_functional_test": false
      },
      {
        "case_name": "提取页码超出范围",
        "purpose": "验证当提供的页码超出PDF总页数时是否抛出IndexError。",
        "args": {
          "input_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
          "pages": [
            999
          ],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 页码 999 超出范围 (1-7)。"
        },
        "execution_time": 0.011076211929321289,
        "is_functional_test": false
      },
      {
        "case_name": "安全测试 - 路径穿越尝试",
        "purpose": "测试工具是否对非法路径进行有效校验，防止路径穿越攻击。",
        "args": {
          "input_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\..\\..\\..\\..\\etc\\passwd",
          "pages": [
            1
          ],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\malicious_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: 文件 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\..\\..\\..\\..\\etc\\passwd' 不存在。"
        },
        "execution_time": 0.003888368606567383,
        "is_functional_test": false
      },
      {
        "case_name": "边界条件 - 提取第一页",
        "purpose": "验证工具能正确处理最小有效页码（第一页）。",
        "args": {
          "input_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\rule1.pdf",
          "pages": [
            1
          ],
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\first_page.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool extract_pages: EOF marker not found"
        },
        "execution_time": 0.004012346267700195,
        "is_functional_test": true
      }
    ],
    "search_pdfs": [
      {
        "case_name": "基本功能 - 搜索所有PDF文件",
        "purpose": "验证工具能正确搜索指定目录中所有PDF文件。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": "\\.pdf$"
        },
        "response": [
          "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\extracted_page2.pdf",
          "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
          "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\rule1.pdf",
          "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\single_merged_output.pdf"
        ],
        "execution_time": 0.019001245498657227,
        "is_functional_test": true
      },
      {
        "case_name": "基本功能 - 搜索特定命名模式的PDF",
        "purpose": "验证工具能正确匹配指定命名规则的PDF文件，例如以'paper'开头的PDF。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": "^paper.*\\.pdf$"
        },
        "response": {
          "result": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf"
        },
        "execution_time": 0.017358779907226562,
        "is_functional_test": true
      },
      {
        "case_name": "基本功能 - 搜索包含特殊字符的PDF文件名",
        "purpose": "验证工具能否正确识别包含特殊字符（如@、#、_）的PDF文件名。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": ".*@.*\\.pdf"
        },
        "response": {
          "result": ""
        },
        "execution_time": 0.01651144027709961,
        "is_functional_test": true
      },
      {
        "case_name": "基本功能 - 子目录递归搜索PDF",
        "purpose": "验证工具是否支持递归搜索子目录中的PDF文件。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\test_@_dir#1",
          "pattern": "\\.pdf$"
        },
        "response": {
          "result": ""
        },
        "execution_time": 0.014999151229858398,
        "is_functional_test": true
      },
      {
        "case_name": "错误处理 - 无效目录路径",
        "purpose": "验证当提供一个不存在的目录路径时，是否抛出NotADirectoryError。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_dir",
          "pattern": "\\.pdf$"
        },
        "response": {
          "error": "ToolException: Error executing tool search_pdfs: 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent_dir' 不是有效的目录。"
        },
        "execution_time": 0.015003681182861328,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理 - 非法正则表达式",
        "purpose": "验证当提供的正则表达式模式非法时是否抛出ValueError。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": "*invalid_regex"
        },
        "response": {
          "error": "ToolException: Error executing tool search_pdfs: nothing to repeat at position 0"
        },
        "execution_time": 0.013995170593261719,
        "is_functional_test": false
      },
      {
        "case_name": "安全性测试 - 路径穿越尝试",
        "purpose": "测试工具是否对非法路径进行有效校验，防止路径穿越攻击。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\..\\..\\..\\..\\etc",
          "pattern": "\\.pdf$"
        },
        "response": {
          "error": "ToolException: Error executing tool search_pdfs: 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\..\\..\\..\\..\\etc' 不是有效的目录。"
        },
        "execution_time": 0.012011528015136719,
        "is_functional_test": false
      },
      {
        "case_name": "边界条件 - 空目录路径",
        "purpose": "验证当目录路径为空字符串时是否抛出ValueError。",
        "args": {
          "directory": "",
          "pattern": "\\.pdf$"
        },
        "response": {
          "error": "ToolException: Error executing tool search_pdfs: 目录和搜索模式都不能为空。"
        },
        "execution_time": 0.013079404830932617,
        "is_functional_test": false
      }
    ],
    "merge_pdfs_ordered": [
      {
        "case_name": "基本功能合并PDF按顺序",
        "purpose": "验证工具能够正常将目录中符合正则表达式模式的PDF文件按照指定顺序合并为一个输出文件。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": "paper.*\\.pdf",
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\merged_basic_output.pdf",
          "fuzzy_match": false
        },
        "response": {
          "result": "成功按模式 'paper.*\\.pdf' 合并 1 个文件到 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\merged_basic_output.pdf'。"
        },
        "execution_time": 0.060007333755493164,
        "is_functional_test": true
      },
      {
        "case_name": "默认参数模糊匹配合并PDF",
        "purpose": "验证使用默认参数（fuzzy_match=True）时，是否能模糊匹配并合并PDF文件。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": "rule",
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\merged_fuzzy_output.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: EOF marker not found"
        },
        "execution_time": 0.008997201919555664,
        "is_functional_test": true
      },
      {
        "case_name": "无效目录路径",
        "purpose": "验证当提供的目录路径不存在或无效时是否抛出NotADirectoryError。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\nonexistent_dir",
          "pattern": ".*\\.pdf",
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\output.pdf",
          "fuzzy_match": false
        },
        "response": {
          "result": "在 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\nonexistent_dir' 中未找到匹配模式 '.*\\.pdf' 的PDF文件。"
        },
        "execution_time": 0.009512186050415039,
        "is_functional_test": false
      },
      {
        "case_name": "输出文件路径为空",
        "purpose": "验证当输出文件路径为空字符串时是否抛出ValueError。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": ".*\\.pdf",
          "output_file": "",
          "fuzzy_match": false
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: 目录和输出文件路径都不能为空。"
        },
        "execution_time": 0.00957036018371582,
        "is_functional_test": false
      },
      {
        "case_name": "安全测试 - 路径穿越尝试",
        "purpose": "测试工具是否对非法路径进行有效校验，防止路径穿越攻击。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\..\\..\\..\\..\\etc",
          "pattern": ".*\\.pdf",
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\malicious_output.pdf",
          "fuzzy_match": false
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\..\\..\\..\\..\\etc' 不是有效的目录。"
        },
        "execution_time": 0.01023411750793457,
        "is_functional_test": false
      },
      {
        "case_name": "无匹配文件导致失败",
        "purpose": "验证当没有文件匹配给定的正则表达式时，工具是否正确处理。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles",
          "pattern": "nonexistentfile_\\d+\\.pdf",
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\no_match_output.pdf",
          "fuzzy_match": false
        },
        "response": {
          "result": "在 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles' 中未找到匹配模式 'nonexistentfile_\\d+\\.pdf' 的PDF文件。"
        },
        "execution_time": 0.012280941009521484,
        "is_functional_test": false
      },
      {
        "case_name": "最大长度路径测试",
        "purpose": "验证工具是否能正确处理非常长的目录路径。",
        "args": {
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\very_long_directory_name_1234567890_abcdefghijklmnopqrstuvwxyz",
          "pattern": ".*\\.pdf",
          "output_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\long_path_output.pdf",
          "fuzzy_match": false
        },
        "response": {
          "error": "ToolException: Error executing tool merge_pdfs_ordered: 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\very_long_directory_name_1234567890_abcdefghijklmnopqrstuvwxyz' 不是有效的目录。"
        },
        "execution_time": 0.012556076049804688,
        "is_functional_test": true
      }
    ],
    "find_related_pdfs": [
      {
        "case_name": "基本功能查找相关PDF",
        "purpose": "验证工具能够根据目标PDF文件内容在默认目录中找到相关的PDF文件。",
        "args": {
          "target_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf"
        },
        "response": {
          "result": ""
        },
        "execution_time": 0.02450394630432129,
        "is_functional_test": true
      },
      {
        "case_name": "指定目录查找相关PDF",
        "purpose": "验证工具能够在指定的目录中，根据目标PDF内容正确查找相关PDF文件。",
        "args": {
          "target_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\rule1.pdf",
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles"
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: Failed to open file 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\rule1.pdf'."
        },
        "execution_time": 0.012000322341918945,
        "is_functional_test": true
      },
      {
        "case_name": "安全测试 - 路径穿越尝试",
        "purpose": "测试工具是否对非法路径进行有效校验，防止路径穿越攻击。",
        "args": {
          "target_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\..\\..\\..\\..\\etc\\passwd"
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 文件 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\..\\..\\..\\..\\etc\\passwd' 不存在。"
        },
        "execution_time": 0.020000696182250977,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理 - 目标文件路径为空",
        "purpose": "验证当目标文件路径为空时是否抛出ValueError。",
        "args": {
          "target_file": ""
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 目标文件路径不能为空。"
        },
        "execution_time": 0.008992433547973633,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理 - 目标文件不存在",
        "purpose": "验证当目标文件路径存在但实际文件不存在时是否抛出FileNotFoundError。",
        "args": {
          "target_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 文件 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.pdf' 不存在。"
        },
        "execution_time": 0.00500035285949707,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理 - 指定目录无效",
        "purpose": "验证当指定的搜索目录不是有效目录时是否抛出NotADirectoryError。",
        "args": {
          "target_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf"
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf' 不是有效的目录。"
        },
        "execution_time": 0.005003213882446289,
        "is_functional_test": false
      },
      {
        "case_name": "边界条件 - 特殊字符目录名",
        "purpose": "验证工具是否能正确处理包含特殊字符的目录路径。",
        "args": {
          "target_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\@#$_dir"
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\@#$_dir' 不是有效的目录。"
        },
        "execution_time": 0.00599980354309082,
        "is_functional_test": true
      },
      {
        "case_name": "边界条件 - 空目录查找",
        "purpose": "验证工具在空目录中执行查找时是否返回空列表。",
        "args": {
          "target_file": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\paper1.pdf",
          "directory": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_dir"
        },
        "response": {
          "error": "ToolException: Error executing tool find_related_pdfs: 'D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_dir' 不是有效的目录。"
        },
        "execution_time": 0.007999420166015625,
        "is_functional_test": true
      }
    ]
  },
  "total_cases": 39
}