{
  "server_name": "text_file_mcp_server",
  "parent_dir": "metaGPT-qwen-plus",
  "report_name": "metaGPT-qwen-plus-text_file_mcp_server",
  "server_path": "workspace\\metaGPT-servers\\metaGPT-qwen-plus\\text_file_mcp_server.py",
  "timestamp": "2025-07-13T22:38:30.349479",
  "tools": [
    {
      "name": "get_text_file_contents",
      "description": "\n    读取多个文本文件内容，支持按行范围读取并返回文件哈希值。\n\n    Args:\n        file_paths: 要读取的文件路径列表。\n        start_line: 开始行号（可选）。如果指定，则必须同时指定 end_line。\n        end_line: 结束行号（可选）。如果指定，则必须同时指定 start_line。\n\n    Returns:\n        一个包含文件内容和哈希值的字典。\n\n    Raises:\n        ValueError: 如果文件不存在或行号范围无效。\n        RuntimeError: 如果读取文件时发生错误。\n    ",
      "args_schema": {
        "properties": {
          "file_paths": {
            "items": {},
            "title": "File Paths",
            "type": "array"
          },
          "start_line": {
            "default": null,
            "title": "Start Line",
            "type": "integer"
          },
          "end_line": {
            "default": null,
            "title": "End Line",
            "type": "integer"
          }
        },
        "required": [
          "file_paths"
        ],
        "title": "get_text_file_contentsArguments",
        "type": "object"
      }
    },
    {
      "name": "create_text_file",
      "description": "\n    创建新文本文件并写入内容。\n\n    Args:\n        file_path: 要创建的文件路径。\n        content: 要写入的内容。\n\n    Returns:\n        一个包含操作结果和文件哈希值的字典。\n\n    Raises:\n        ValueError: 如果文件已经存在。\n        RuntimeError: 如果创建文件时发生错误。\n    ",
      "args_schema": {
        "properties": {
          "file_path": {
            "title": "File Path",
            "type": "string"
          },
          "content": {
            "title": "Content",
            "type": "string"
          }
        },
        "required": [
          "file_path",
          "content"
        ],
        "title": "create_text_fileArguments",
        "type": "object"
      }
    },
    {
      "name": "append_text_file_contents",
      "description": "\n    向现有文本文件追加内容。\n\n    Args:\n        file_path: 要追加内容的文件路径。\n        content: 要追加的内容。\n        expected_hash: 文件的预期哈希值（可选）。如果提供，将验证文件内容与哈希值匹配。\n\n    Returns:\n        一个包含操作结果和新文件哈希值的字典。\n\n    Raises:\n        ValueError: 如果文件不存在或哈希验证失败。\n        RuntimeError: 如果追加内容时发生错误。\n    ",
      "args_schema": {
        "properties": {
          "file_path": {
            "title": "File Path",
            "type": "string"
          },
          "content": {
            "title": "Content",
            "type": "string"
          },
          "expected_hash": {
            "default": null,
            "title": "Expected Hash",
            "type": "string"
          }
        },
        "required": [
          "file_path",
          "content"
        ],
        "title": "append_text_file_contentsArguments",
        "type": "object"
      }
    },
    {
      "name": "delete_text_file_contents",
      "description": "\n    删除文本文件中特定范围的内容。\n\n    Args:\n        file_path: 要修改的文件路径。\n        start_line: 开始行号（包括）。\n        end_line: 结束行号（包括）。\n        expected_hash: 文件的预期哈希值（可选）。如果提供，将验证文件内容与哈希值匹配。\n\n    Returns:\n        一个包含操作结果和新文件哈希值的字典。\n\n    Raises:\n        ValueError: 如果文件不存在、行号范围无效或哈希验证失败。\n        RuntimeError: 如果删除内容时发生错误。\n    ",
      "args_schema": {
        "properties": {
          "file_path": {
            "title": "File Path",
            "type": "string"
          },
          "start_line": {
            "title": "Start Line",
            "type": "integer"
          },
          "end_line": {
            "title": "End Line",
            "type": "integer"
          },
          "expected_hash": {
            "default": null,
            "title": "Expected Hash",
            "type": "string"
          }
        },
        "required": [
          "file_path",
          "start_line",
          "end_line"
        ],
        "title": "delete_text_file_contentsArguments",
        "type": "object"
      }
    },
    {
      "name": "insert_text_file_contents",
      "description": "\n    在文本文件的指定位置插入内容。\n\n    Args:\n        file_path: 要修改的文件路径。\n        line_number: 插入位置的行号（从1开始计数）。\n        content: 要插入的内容。\n        expected_hash: 文件的预期哈希值（可选）。如果提供，将验证文件内容与哈希值匹配。\n\n    Returns:\n        一个包含操作结果和新文件哈希值的字典。\n\n    Raises:\n        ValueError: 如果文件不存在、行号无效或哈希验证失败。\n        RuntimeError: 如果插入内容时发生错误。\n    ",
      "args_schema": {
        "properties": {
          "file_path": {
            "title": "File Path",
            "type": "string"
          },
          "line_number": {
            "title": "Line Number",
            "type": "integer"
          },
          "content": {
            "title": "Content",
            "type": "string"
          },
          "expected_hash": {
            "default": null,
            "title": "Expected Hash",
            "type": "string"
          }
        },
        "required": [
          "file_path",
          "line_number",
          "content"
        ],
        "title": "insert_text_file_contentsArguments",
        "type": "object"
      }
    },
    {
      "name": "patch_text_file_contents",
      "description": "\n    应用精确修改到文本文件，并支持哈希验证。\n\n    Args:\n        file_path: 要修改的文件路径。\n        old_content: 需要被替换的旧内容。\n        new_content: 替换的新内容。\n        expected_hash: 文件的预期哈希值（可选）。如果提供，将验证文件内容与哈希值匹配。\n\n    Returns:\n        一个包含操作结果和新文件哈希值的字典。\n\n    Raises:\n        ValueError: 如果文件不存在、旧内容不匹配或哈希验证失败。\n        RuntimeError: 如果修改文件时发生错误。\n    ",
      "args_schema": {
        "properties": {
          "file_path": {
            "title": "File Path",
            "type": "string"
          },
          "old_content": {
            "title": "Old Content",
            "type": "string"
          },
          "new_content": {
            "title": "New Content",
            "type": "string"
          },
          "expected_hash": {
            "default": null,
            "title": "Expected Hash",
            "type": "string"
          }
        },
        "required": [
          "file_path",
          "old_content",
          "new_content"
        ],
        "title": "patch_text_file_contentsArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "create_text_file": [
      {
        "case_name": "基本功能-创建新文本文件并写入默认内容",
        "purpose": "验证工具能正确创建一个新文本文件，并写入指定内容。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt",
          "content": "This is a test content."
        },
        "response": {
          "result": "{\n  \"message\": \"文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\new_test_file.txt 创建成功\",\n  \"hash\": \"f74d46f5c58d6d0fac6e1dd341dc44e8881cc40fc2c08daec80ec75b902a42db\"\n}"
        },
        "execution_time": 0.00699925422668457,
        "is_functional_test": true
      },
      {
        "case_name": "安全性测试-尝试在受保护目录中创建文件",
        "purpose": "验证工具是否能在系统或权限受限的路径下被拒绝操作，防止安全漏洞。",
        "args": {
          "file_path": "C:\\Windows\\system32\\new_test_file.txt",
          "content": "This should not be allowed."
        },
        "response": {
          "error": "ToolException: Error executing tool create_text_file: 创建文件时发生错误: [Errno 13] Permission denied: 'C:\\\\Windows\\\\system32\\\\new_test_file.txt'"
        },
        "execution_time": 0.00600433349609375,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理-文件已存在时抛出ValueError",
        "purpose": "验证当目标文件已存在时，工具是否正确抛出ValueError异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nature.jpeg",
          "content": "Overwrite attempt should fail."
        },
        "response": {
          "error": "ToolException: Error executing tool create_text_file: 创建文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nature.jpeg 已经存在"
        },
        "execution_time": 0.004997730255126953,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理-无效路径格式",
        "purpose": "验证工具对非法路径格式的参数校验机制。",
        "args": {
          "file_path": "invalid/<path>:name.txt",
          "content": "Invalid path should be rejected."
        },
        "response": {
          "error": "ToolException: Error executing tool create_text_file: 创建文件时发生错误: [Errno 22] Invalid argument: 'invalid/<path>:name.txt'"
        },
        "execution_time": 0.006157636642456055,
        "is_functional_test": false
      },
      {
        "case_name": "边界条件-特殊字符文件名和内容",
        "purpose": "验证工具是否能正确处理包含特殊字符的文件名和内容。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special@#$.txt",
          "content": "Special chars: `~!@#$%^&*()-_=+[]{}|;':\",./<>?"
        },
        "response": {
          "result": "{\n  \"message\": \"文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\special@#$.txt 创建成功\",\n  \"hash\": \"dc9d4f6d0cd0e46cfa3418cb055179e23113d8015cabae414d9fc89c43c194db\"\n}"
        },
        "execution_time": 0.011000394821166992,
        "is_functional_test": false
      },
      {
        "case_name": "基本功能-使用空内容创建文件",
        "purpose": "验证工具可以接受空内容参数并成功创建空文件。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content_file.txt",
          "content": ""
        },
        "response": {
          "result": "{\n  \"message\": \"文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\empty_content_file.txt 创建成功\",\n  \"hash\": \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\"\n}"
        },
        "execution_time": 0.03151822090148926,
        "is_functional_test": true
      },
      {
        "case_name": "错误处理-无写入权限路径",
        "purpose": "验证工具在没有写权限的路径上是否能正确抛出RuntimeError。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\readonly\\locked_file.txt",
          "content": "Should fail due to permission denied."
        },
        "response": {
          "error": "ToolException: Error executing tool create_text_file: 创建文件时发生错误: [Errno 2] No such file or directory: 'D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\readonly\\\\locked_file.txt'"
        },
        "execution_time": 0.00900411605834961,
        "is_functional_test": false
      }
    ],
    "get_text_file_contents": [
      {
        "case_name": "基本功能-读取单个文件全部内容",
        "purpose": "验证工具能正确读取单个文本文件的全部内容并返回哈希值。",
        "args": {
          "file_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt"
          ]
        },
        "response": {
          "result": "{\n  \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\new_test_file.txt\": {\n    \"content\": \"This is a test content.\",\n    \"hash\": \"f74d46f5c58d6d0fac6e1dd341dc44e8881cc40fc2c08daec80ec75b902a42db\"\n  }\n}"
        },
        "execution_time": 0.003923177719116211,
        "is_functional_test": true
      },
      {
        "case_name": "基本功能-读取多个文件全部内容",
        "purpose": "验证工具能同时读取多个文本文件的全部内容并分别返回哈希值。",
        "args": {
          "file_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt",
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content_file.txt"
          ]
        },
        "response": {
          "result": "{\n  \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\new_test_file.txt\": {\n    \"content\": \"This is a test content.\",\n    \"hash\": \"f74d46f5c58d6d0fac6e1dd341dc44e8881cc40fc2c08daec80ec75b902a42db\"\n  },\n  \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\empty_content_file.txt\": {\n    \"content\": \"\",\n    \"hash\": \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\"\n  }\n}"
        },
        "execution_time": 0.008027076721191406,
        "is_functional_test": true
      },
      {
        "case_name": "基本功能-按行范围读取文件内容",
        "purpose": "验证工具支持指定行号范围读取部分文件内容。",
        "args": {
          "file_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special@#$.txt"
          ],
          "start_line": 1,
          "end_line": 2
        },
        "response": {
          "error": "ToolException: Error executing tool get_text_file_contents: 读取文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special@#$.txt 的行号范围无效"
        },
        "execution_time": 0.006004810333251953,
        "is_functional_test": true
      },
      {
        "case_name": "安全性测试-尝试读取受保护目录中的文件",
        "purpose": "验证工具是否拒绝读取系统或权限受限路径下的文件，防止安全漏洞。",
        "args": {
          "file_paths": [
            "C:\\Windows\\system32\\drivers\\etc\\hosts"
          ]
        },
        "response": {
          "result": "{\n  \"C:\\\\Windows\\\\system32\\\\drivers\\\\etc\\\\hosts\": {\n    \"content\": \"﻿# Copyright (c) 1993-2009 Microsoft Corp.\\n#\\n# This is a sample HOSTS file used by Microsoft TCP/IP for Windows.\\n#\\n# This file contains the mappings of IP addresses to host names. Each\\n# entry should be kept on an individual line. The IP address should\\n# be placed in the first column followed by the corresponding host name.\\n# The IP address and the host name should be separated by at least one\\n# space.\\n#\\n# Additionally, comments (such as these) may be inserted on individual\\n# lines or following the machine name denoted by a '#' symbol.\\n#\\n# For example:\\n#\\n#      102.54.94.97     rhino.acme.com          # source server\\n#       38.25.63.10     x.acme.com              # x client host\\n\\n# localhost name resolution is handled within DNS itself.\\n#\\t127.0.0.1       localhost\\n#\\t::1             localhost\\n# Added by Docker Desktop\\n10.68.38.165 host.docker.internal\\n10.68.38.165 gateway.docker.internal\\n# To allow the same kube context to work on the host and the container:\\n127.0.0.1 kubernetes.docker.internal\\n# End of section\\n\",\n    \"hash\": \"1ca3fc1f7f0fdf7b1b28234e1672c6ddee6baf721be63e8eee76f2f98021c91a\"\n  }\n}"
        },
        "execution_time": 0.004000186920166016,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理-文件不存在",
        "purpose": "验证当指定文件不存在时，工具是否抛出ValueError异常。",
        "args": {
          "file_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.txt"
          ]
        },
        "response": {
          "error": "ToolException: Error executing tool get_text_file_contents: 读取文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.txt 不存在"
        },
        "execution_time": 0.00800180435180664,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理-无效行号范围",
        "purpose": "验证当提供的行号范围无效（如负数、起始大于结束）时是否抛出ValueError。",
        "args": {
          "file_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt"
          ],
          "start_line": 5,
          "end_line": 2
        },
        "response": {
          "error": "ToolException: Error executing tool get_text_file_contents: 读取文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt 的行号范围无效"
        },
        "execution_time": 0.0039975643157958984,
        "is_functional_test": false
      },
      {
        "case_name": "边界条件-只指定start_line未指定end_line",
        "purpose": "验证工具是否正确校验start_line和end_line必须成对出现。",
        "args": {
          "file_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt"
          ],
          "start_line": 3
        },
        "response": {
          "result": "{\n  \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\new_test_file.txt\": {\n    \"content\": \"This is a test content.\",\n    \"hash\": \"f74d46f5c58d6d0fac6e1dd341dc44e8881cc40fc2c08daec80ec75b902a42db\"\n  }\n}"
        },
        "execution_time": 0.006006479263305664,
        "is_functional_test": false
      },
      {
        "case_name": "边界条件-特殊字符文件名",
        "purpose": "验证工具是否能正确处理包含特殊字符的文件名进行读取。",
        "args": {
          "file_paths": [
            "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special@#$.txt"
          ]
        },
        "response": {
          "result": "{\n  \"D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\special@#$.txt\": {\n    \"content\": \"Special chars: `~!@#$%^&*()-_=+[]{}|;':\\\",./<>?\",\n    \"hash\": \"dc9d4f6d0cd0e46cfa3418cb055179e23113d8015cabae414d9fc89c43c194db\"\n  }\n}"
        },
        "execution_time": 0.008998632431030273,
        "is_functional_test": true
      }
    ],
    "append_text_file_contents": [
      {
        "case_name": "基本功能-向现有文件追加内容并验证新哈希",
        "purpose": "验证工具能正确向已有文本文件追加内容，并返回操作结果和新的哈希值。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt",
          "content": " Additional content appended.",
          "expected_hash": "f74d46f5c58d6d0fac6e1dd341dc44e8881cc40fc2c08daec80ec75b902a42db"
        },
        "response": {
          "result": "{\n  \"message\": \"内容已成功追加到文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\new_test_file.txt\",\n  \"hash\": \"09cc009030bb42a20edb5efb93b5741a1794a93894f7eac6ef1721f5e81c1ee5\"\n}"
        },
        "execution_time": 0.003999471664428711,
        "is_functional_test": true
      },
      {
        "case_name": "安全性测试-尝试在受保护目录中追加内容",
        "purpose": "验证工具是否拒绝在系统或权限受限的路径下执行写入操作，防止安全漏洞。",
        "args": {
          "file_path": "C:\\Windows\\system32\\append_attempt.txt",
          "content": "This should not be allowed."
        },
        "response": {
          "error": "ToolException: Error executing tool append_text_file_contents: 追加内容到文件时发生错误: 文件 C:\\Windows\\system32\\append_attempt.txt 不存在"
        },
        "execution_time": 0.0039997100830078125,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理-目标文件不存在",
        "purpose": "验证当指定的文件不存在时，工具是否抛出ValueError异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.txt",
          "content": "This file does not exist."
        },
        "response": {
          "error": "ToolException: Error executing tool append_text_file_contents: 追加内容到文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.txt 不存在"
        },
        "execution_time": 0.007002115249633789,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理-无写权限路径",
        "purpose": "验证工具在没有写权限的路径上是否能正确抛出RuntimeError。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\readonly\\locked_file.txt",
          "content": "Should fail due to permission denied."
        },
        "response": {
          "error": "ToolException: Error executing tool append_text_file_contents: 追加内容到文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\readonly\\locked_file.txt 不存在"
        },
        "execution_time": 0.003998279571533203,
        "is_functional_test": false
      },
      {
        "case_name": "边界条件-特殊字符文件名和内容",
        "purpose": "验证工具是否能正确处理包含特殊字符的文件名和追加内容。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special@#$.txt",
          "content": "Appending special chars: `~!@#$%^&*()-_=+[]{}|;':\",./<>?"
        },
        "response": {
          "result": "{\n  \"message\": \"内容已成功追加到文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\special@#$.txt\",\n  \"hash\": \"3433cd44bdca31a1d926a5a2d0291d74ec6f83d1d89fabe1026973684d951db4\"\n}"
        },
        "execution_time": 0.00699925422668457,
        "is_functional_test": true
      },
      {
        "case_name": "边界条件-空内容追加",
        "purpose": "验证工具可以接受空内容参数并成功追加到文件。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content_file.txt",
          "content": ""
        },
        "response": {
          "result": "{\n  \"message\": \"内容已成功追加到文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\empty_content_file.txt\",\n  \"hash\": \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\"\n}"
        },
        "execution_time": 0.0039997100830078125,
        "is_functional_test": true
      },
      {
        "case_name": "错误处理-哈希验证失败",
        "purpose": "验证当提供错误的expected_hash时，工具是否抛出ValueError异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt",
          "content": "Another line of text.",
          "expected_hash": "0000000000000000000000000000000000000000000000000000000000000000"
        },
        "response": {
          "error": "ToolException: Error executing tool append_text_file_contents: 追加内容到文件时发生错误: 哈希验证失败。当前文件哈希: 09cc009030bb42a20edb5efb93b5741a1794a93894f7eac6ef1721f5e81c1ee5, 预期哈希: 0000000000000000000000000000000000000000000000000000000000000000"
        },
        "execution_time": 0.004000425338745117,
        "is_functional_test": false
      },
      {
        "case_name": "基本功能-追加内容后读取验证",
        "purpose": "验证工具追加内容后，通过get_text_file_contents读取确认内容已正确添加。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt",
          "content": " Final line added for validation."
        },
        "response": {
          "result": "{\n  \"message\": \"内容已成功追加到文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\new_test_file.txt\",\n  \"hash\": \"a253677940544d70e17edcb9745ec85a4ed5a72e706a30b5c5eccc28b64e2c8d\"\n}"
        },
        "execution_time": 0.006998777389526367,
        "is_functional_test": true
      }
    ],
    "insert_text_file_contents": [
      {
        "case_name": "基本功能-在有效文件中插入内容到指定行",
        "purpose": "验证工具可以在指定的文本文件中，在指定行号位置正确插入内容，并返回操作结果和新哈希值。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt",
          "line_number": 1,
          "content": "Inserted line at the beginning."
        },
        "response": {
          "result": "{\n  \"message\": \"内容已成功插入到文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\new_test_file.txt\",\n  \"hash\": \"9c787686494897d0982b048f9940d4884f0031b6719f1bf712df71d37d00faac\"\n}"
        },
        "execution_time": 0.004000663757324219,
        "is_functional_test": true
      },
      {
        "case_name": "基本功能-在空文件中插入内容",
        "purpose": "验证工具能够在原本为空的文件中插入内容并生成正确的哈希值。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content_file.txt",
          "line_number": 1,
          "content": "This is the first line in an empty file."
        },
        "response": {
          "result": "{\n  \"message\": \"内容已成功插入到文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\empty_content_file.txt\",\n  \"hash\": \"92cb45364863255c0876136b3a335a13c5b33d9e0b9afc929a5a2f3a619656f9\"\n}"
        },
        "execution_time": 0.0050008296966552734,
        "is_functional_test": true
      },
      {
        "case_name": "基本功能-在多行文件中间插入内容",
        "purpose": "验证工具可以将内容插入到一个多行文件的中间位置，且不会破坏原有内容。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special@#$.txt",
          "line_number": 2,
          "content": "Middle insertion line."
        },
        "response": {
          "result": "{\n  \"message\": \"内容已成功插入到文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\special@#$.txt\",\n  \"hash\": \"d4f99ef98b3b9ba7cd653cf2259c40c905a342e2bba1e5afc3bed67cac92d506\"\n}"
        },
        "execution_time": 0.010010957717895508,
        "is_functional_test": true
      },
      {
        "case_name": "基本功能-插入内容后校验哈希值",
        "purpose": "验证工具在插入内容后能够计算文件的新哈希值，并与预期哈希进行比对。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt",
          "line_number": 2,
          "content": "Hash verification test line.",
          "expected_hash": "d7ab7d0d0e1f8a9b0c6d5e4f3a2c1b0d9e8f7a6c5d4e3f2a1b8c7d0e9f"
        },
        "response": {
          "error": "ToolException: Error executing tool insert_text_file_contents: 插入内容到文件时发生错误: 哈希验证失败。当前文件哈希: 9c787686494897d0982b048f9940d4884f0031b6719f1bf712df71d37d00faac, 预期哈希: d7ab7d0d0e1f8a9b0c6d5e4f3a2c1b0d9e8f7a6c5d4e3f2a1b8c7d0e9f"
        },
        "execution_time": 0.0049953460693359375,
        "is_functional_test": true
      },
      {
        "case_name": "安全性测试-尝试在受保护目录中插入内容",
        "purpose": "验证工具是否拒绝向系统或权限受限路径下的文件插入内容，防止安全漏洞。",
        "args": {
          "file_path": "C:\\Windows\\system32\\drivers\\etc\\hosts",
          "line_number": 1,
          "content": "Malicious insertion attempt."
        },
        "response": {
          "error": "ToolException: Error executing tool insert_text_file_contents: 插入内容到文件时发生错误: [Errno 13] Permission denied: 'C:\\\\Windows\\\\system32\\\\drivers\\\\etc\\\\hosts'"
        },
        "execution_time": 0.005000114440917969,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理-文件不存在时抛出异常",
        "purpose": "验证当目标文件不存在时，工具是否抛出ValueError异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.txt",
          "line_number": 1,
          "content": "Should fail because file does not exist."
        },
        "response": {
          "error": "ToolException: Error executing tool insert_text_file_contents: 插入内容到文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.txt 不存在"
        },
        "execution_time": 0.00451207160949707,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理-无效行号（负数）",
        "purpose": "验证当提供负数行号时，工具是否抛出ValueError异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt",
          "line_number": -1,
          "content": "Invalid line number test."
        },
        "response": {
          "error": "ToolException: Error executing tool insert_text_file_contents: 插入内容到文件时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt 的行号无效"
        },
        "execution_time": 0.008090496063232422,
        "is_functional_test": false
      },
      {
        "case_name": "边界条件-特殊字符文件名和内容",
        "purpose": "验证工具是否能正确处理包含特殊字符的文件名和插入内容。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special@#$.txt",
          "line_number": 1,
          "content": "Special chars: `~!@#$%^&*()-_=+[]{}|;':\",./<>?"
        },
        "response": {
          "result": "{\n  \"message\": \"内容已成功插入到文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\special@#$.txt\",\n  \"hash\": \"56b691e8ee00c387fcdff021bbccb362f515e79654a213f77464469f4afda702\"\n}"
        },
        "execution_time": 0.005511045455932617,
        "is_functional_test": true
      }
    ],
    "patch_text_file_contents": [
      {
        "case_name": "基本功能-成功替换文件内容并验证哈希",
        "purpose": "验证工具能正确修改文本文件的指定内容，并返回操作结果和新哈希值。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt",
          "old_content": "This is a test content.",
          "new_content": "This is the updated content.",
          "expected_hash": "f74d46f5c58d6d0fac6e1dd341dc44e8881cc40fc2c08daec80ec75b902a42db"
        },
        "response": {
          "error": "ToolException: Error executing tool patch_text_file_contents: 修改文件内容时发生错误: 哈希验证失败。当前文件哈希: 9c787686494897d0982b048f9940d4884f0031b6719f1bf712df71d37d00faac, 预期哈希: f74d46f5c58d6d0fac6e1dd341dc44e8881cc40fc2c08daec80ec75b902a42db"
        },
        "execution_time": 0.0050008296966552734,
        "is_functional_test": true
      },
      {
        "case_name": "安全性测试-尝试在受保护目录中修改文件",
        "purpose": "验证工具是否拒绝在系统或权限受限路径下的文件修改，防止安全漏洞。",
        "args": {
          "file_path": "C:\\Windows\\system32\\notepad.exe",
          "old_content": "some content",
          "new_content": "modified content"
        },
        "response": {
          "error": "ToolException: Error executing tool patch_text_file_contents: 修改文件内容时发生错误: 'utf-8' codec can't decode byte 0x90 in position 2: invalid start byte"
        },
        "execution_time": 0.005000114440917969,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理-文件不存在",
        "purpose": "验证当目标文件不存在时，工具是否抛出ValueError异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.txt",
          "old_content": "old text",
          "new_content": "new text"
        },
        "response": {
          "error": "ToolException: Error executing tool patch_text_file_contents: 修改文件内容时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.txt 不存在"
        },
        "execution_time": 0.007385730743408203,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理-旧内容不匹配导致失败",
        "purpose": "验证当提供的旧内容与文件实际内容不一致时，工具是否抛出ValueError。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt",
          "old_content": "wrong old content",
          "new_content": "new content"
        },
        "response": {
          "error": "ToolException: Error executing tool patch_text_file_contents: 修改文件内容时发生错误: 未找到需要替换的旧内容: wrong old content"
        },
        "execution_time": 0.00899648666381836,
        "is_functional_test": false
      },
      {
        "case_name": "边界条件-空内容替换",
        "purpose": "验证工具是否能处理空字符串作为旧内容或新内容的情况。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\empty_content_file.txt",
          "old_content": "",
          "new_content": "This file was empty before."
        },
        "response": {
          "result": "{\n  \"message\": \"文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\empty_content_file.txt 内容修改成功\",\n  \"hash\": \"b98a04e8ca6dee338c769a72f9fa6cc68fc880f878fda49efaad7790394e2040\"\n}"
        },
        "execution_time": 0.0039997100830078125,
        "is_functional_test": true
      },
      {
        "case_name": "边界条件-特殊字符内容替换",
        "purpose": "验证工具是否能正确处理包含特殊字符的内容替换。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special@#$.txt",
          "old_content": "Special chars: `~!@#$%^&*()-_=+[]{}|;':\",./<>?",
          "new_content": "Updated special characters content."
        },
        "response": {
          "result": "{\n  \"message\": \"文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\special@#$.txt 内容修改成功\",\n  \"hash\": \"450fc1de36bb0d6b3b9f3f464db7cf66ac36354b932dcea9dce008ce3539f33a\"\n}"
        },
        "execution_time": 0.00400090217590332,
        "is_functional_test": true
      },
      {
        "case_name": "错误处理-无写入权限路径",
        "purpose": "验证工具在没有写权限的路径上是否能正确抛出RuntimeError。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\readonly\\locked_file.txt",
          "old_content": "should not be modified",
          "new_content": "attempt to modify"
        },
        "response": {
          "error": "ToolException: Error executing tool patch_text_file_contents: 修改文件内容时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\readonly\\locked_file.txt 不存在"
        },
        "execution_time": 0.004999637603759766,
        "is_functional_test": false
      },
      {
        "case_name": "哈希验证-提供预期哈希并验证一致性",
        "purpose": "验证工具在提供expected_hash参数时是否正确进行哈希校验并拒绝非法修改。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt",
          "old_content": "This is a test content.",
          "new_content": "This is the updated content.",
          "expected_hash": "invalid_hash_value_1234567890abcdef"
        },
        "response": {
          "error": "ToolException: Error executing tool patch_text_file_contents: 修改文件内容时发生错误: 哈希验证失败。当前文件哈希: 9c787686494897d0982b048f9940d4884f0031b6719f1bf712df71d37d00faac, 预期哈希: invalid_hash_value_1234567890abcdef"
        },
        "execution_time": 0.008006811141967773,
        "is_functional_test": false
      }
    ],
    "delete_text_file_contents": [
      {
        "case_name": "基本功能-删除指定行范围内容并验证结果",
        "purpose": "验证工具能正确删除文本文件中指定行号范围的内容，并返回操作结果和新哈希值。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt",
          "start_line": 1,
          "end_line": 1
        },
        "response": {
          "result": "{\n  \"message\": \"文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\new_test_file.txt 的内容删除成功\",\n  \"hash\": \"a253677940544d70e17edcb9745ec85a4ed5a72e706a30b5c5eccc28b64e2c8d\"\n}"
        },
        "execution_time": 0.004513263702392578,
        "is_functional_test": true
      },
      {
        "case_name": "基本功能-删除多行内容并使用expected_hash验证",
        "purpose": "验证工具在删除多行内容后，能够通过提供的expected_hash进行校验。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special@#$.txt",
          "start_line": 1,
          "end_line": 2,
          "expected_hash": "dc9d4f6d0cd0e46cfa3418cb055179e23113d8015cabae414d9fc89c43c194db"
        },
        "response": {
          "error": "ToolException: Error executing tool delete_text_file_contents: 删除文件内容时发生错误: 哈希验证失败。当前文件哈希: 450fc1de36bb0d6b3b9f3f464db7cf66ac36354b932dcea9dce008ce3539f33a, 预期哈希: dc9d4f6d0cd0e46cfa3418cb055179e23113d8015cabae414d9fc89c43c194db"
        },
        "execution_time": 0.00800013542175293,
        "is_functional_test": true
      },
      {
        "case_name": "安全性测试-尝试在受保护目录中删除内容",
        "purpose": "验证工具是否拒绝在系统或权限受限的路径下执行删除操作，防止安全漏洞。",
        "args": {
          "file_path": "C:\\Windows\\system32\\notepad.exe",
          "start_line": 1,
          "end_line": 1
        },
        "response": {
          "error": "ToolException: Error executing tool delete_text_file_contents: 删除文件内容时发生错误: 'utf-8' codec can't decode byte 0x90 in position 2: invalid start byte"
        },
        "execution_time": 0.005000591278076172,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理-文件不存在时抛出异常",
        "purpose": "验证当目标文件不存在时，工具是否正确抛出ValueError异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.txt",
          "start_line": 1,
          "end_line": 1
        },
        "response": {
          "error": "ToolException: Error executing tool delete_text_file_contents: 删除文件内容时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\nonexistent.txt 不存在"
        },
        "execution_time": 0.016000986099243164,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理-无效行号范围（负数）",
        "purpose": "验证当提供负数行号时，工具是否正确抛出ValueError异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt",
          "start_line": -1,
          "end_line": 1
        },
        "response": {
          "error": "ToolException: Error executing tool delete_text_file_contents: 删除文件内容时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt 的行号范围无效"
        },
        "execution_time": 0.009001731872558594,
        "is_functional_test": false
      },
      {
        "case_name": "错误处理-起始行大于结束行",
        "purpose": "验证当start_line大于end_line时，工具是否正确抛出ValueError异常。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt",
          "start_line": 5,
          "end_line": 2
        },
        "response": {
          "error": "ToolException: Error executing tool delete_text_file_contents: 删除文件内容时发生错误: 文件 D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt 的行号范围无效"
        },
        "execution_time": 0.010993480682373047,
        "is_functional_test": false
      },
      {
        "case_name": "边界条件-删除第一行内容",
        "purpose": "验证工具能否正确处理仅删除第一行内容的情况。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\new_test_file.txt",
          "start_line": 1,
          "end_line": 1
        },
        "response": {
          "result": "{\n  \"message\": \"文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\new_test_file.txt 的内容删除成功\",\n  \"hash\": \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\"\n}"
        },
        "execution_time": 0.012000799179077148,
        "is_functional_test": true
      },
      {
        "case_name": "边界条件-删除最后一行内容",
        "purpose": "验证工具能否正确处理删除文件最后一行内容的情况。",
        "args": {
          "file_path": "D:\\devWorkspace\\MCPServer-Generator\\testSystem\\testFiles\\special@#$.txt",
          "start_line": 2,
          "end_line": 2
        },
        "response": {
          "result": "{\n  \"message\": \"文件 D:\\\\devWorkspace\\\\MCPServer-Generator\\\\testSystem\\\\testFiles\\\\special@#$.txt 的内容删除成功\",\n  \"hash\": \"8d204063ee079badf3522b1d1d64a0827be12759efbb252deba817938d2c6fad\"\n}"
        },
        "execution_time": 0.004997730255126953,
        "is_functional_test": true
      }
    ]
  },
  "total_cases": 47
}