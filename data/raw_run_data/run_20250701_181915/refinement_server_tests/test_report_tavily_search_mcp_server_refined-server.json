{
  "server_name": "server",
  "parent_dir": "tavily_search_mcp_server_refined",
  "report_name": "tavily_search_mcp_server_refined-server",
  "server_path": "workspace\\refinement\\tavily_search_mcp_server_refined\\server.py",
  "timestamp": "2025-07-01T18:40:07.987229",
  "tools": [
    {
      "name": "tavily_web_search",
      "description": "\n    通过 Tavily API 执行全面的网络搜索。\n\n    Args:\n        query: 搜索查询内容（必填）。\n        include_domains: 包含的域名列表（可选）。\n        exclude_domains: 排除的域名列表（可选）。\n        search_depth: 搜索深度，'basic' 或 'advanced'（默认为 'basic'）。\n        max_results: 返回的最大结果数（默认为 5，最大支持 10）。\n\n    Returns:\n        包含搜索结果的 JSON 字符串。\n\n    Raises:\n        ValueError: 如果参数无效。\n        RuntimeError: 如果搜索请求失败。\n    \n    示例:\n        tavily_web_search(query=\"Python最佳实践\", include_domains=[\"github.com\"], max_results=3)\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "include_domains": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Include Domains"
          },
          "exclude_domains": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Exclude Domains"
          },
          "search_depth": {
            "default": "basic",
            "title": "Search Depth",
            "type": "string"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_web_searchArguments",
        "type": "object"
      }
    },
    {
      "name": "tavily_answer_search",
      "description": "\n    根据查询内容直接生成回答并附带支持证据。\n\n    Args:\n        query: 查询内容（必填）。\n        search_depth: 搜索深度，'basic' 或 'advanced'（默认为 'advanced'）。\n        max_results: 返回的最大结果数（默认为 5，最大支持 10）。\n\n    Returns:\n        包含答案和相关证据的 JSON 字符串。\n\n    Raises:\n        ValueError: 如果参数无效。\n        RuntimeError: 如果搜索请求失败。\n    \n    示例:\n        tavily_answer_search(query=\"地球的卫星是什么？\")\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "search_depth": {
            "default": "advanced",
            "title": "Search Depth",
            "type": "string"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_answer_searchArguments",
        "type": "object"
      }
    },
    {
      "name": "tavily_news_search",
      "description": "\n    专门搜索近期新闻文章。\n\n    Args:\n        query: 新闻查询内容（必填）。\n        days: 查询时效性（最多可追溯 365 天，默认为 7 天）。\n        include_domains: 包含的新闻源列表（可选）。\n        exclude_domains: 排除的新闻源列表（可选）。\n        max_results: 返回的最大结果数（默认为 5，最大支持 10）。\n\n    Returns:\n        包含新闻搜索结果的 JSON 字符串。\n\n    Raises:\n        ValueError: 如果参数无效。\n        RuntimeError: 如果搜索请求失败。\n    \n    示例:\n        tavily_news_search(query=\"人工智能最新进展\", days=30, include_domains=[\"techcrunch.com\"], max_results=3)\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "days": {
            "default": 7,
            "title": "Days",
            "type": "integer"
          },
          "include_domains": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Include Domains"
          },
          "exclude_domains": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Exclude Domains"
          },
          "max_results": {
            "default": 5,
            "title": "Max Results",
            "type": "integer"
          }
        },
        "required": [
          "query"
        ],
        "title": "tavily_news_searchArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "tavily_web_search": [
      {
        "case_name": "Basic Search Test",
        "purpose": "验证使用默认参数的基本搜索功能是否正常工作",
        "args": {
          "query": "Python programming"
        },
        "response": {
          "result": "{\n  \"query\": \"Python programming\",\n  \"follow_up_questions\": null,\n  \"answer\": null,\n  \"images\": [],\n  \"results\": [\n    {\n      \"title\": \"Welcome to Python.org\",\n      \"url\": \"https://www.python.org/\",\n      \"content\": \"*   Python *   Python Brochure Learn more about Python. *   ### Python Source Python 3.13.5 Python 3.13.5 Python 3.13.5 #### Download Python for Any OS *   Python Books *   Python Essays Python Docs *   Python Logo *   Python Wiki *   #### The Python Community *   Python News *   Python Events *   Python Events Archive *   Find events from the Python Community around the world! More about defining functions in Python 3  # Python 3: List comprehensions More about lists in Python 3  Python Hi, Python. Latest: Python 3.13.5 *   2025-06-17Python 3.14.0 beta 3 is here! *   Python...[截断]，共计5123字符，剩余4323字符"
        },
        "execution_time": 2.7091588973999023,
        "is_functional_test": true
      },
      {
        "case_name": "Search With Include Domains",
        "purpose": "测试指定包含域名的搜索功能",
        "args": {
          "query": "machine learning",
          "include_domains": [
            "github.com",
            "arxiv.org"
          ]
        },
        "response": {
          "result": "{\n  \"query\": \"machine learning\",\n  \"follow_up_questions\": null,\n  \"answer\": null,\n  \"images\": [],\n  \"results\": [\n    {\n      \"title\": \"[1201.0490] Scikit-learn: Machine Learning in Python - arXiv.org\",\n      \"url\": \"https://arxiv.org/abs/1201.0490\",\n      \"content\": \"Scikit-learn is a Python module integrating a wide range of state-of-the-art machine learning algorithms for medium-scale supervised and unsupervised problems. This package focuses on bringing machine learning to non-specialists using a general-purpose high-level language. Emphasis is put on ease of use, performance, documentation, and API consistency. It has minimal dependencies and is\",\n      \"score\": 0.9856,\n      \"raw_content\": null\n    },\n    {\n      \"title\": \"jxareas/Machine-Learning-Notebooks - GitHub\",\n      \"url\": \"ht...[截断]，共计3787字符，剩余2987字符"
        },
        "execution_time": 3.943296194076538,
        "is_functional_test": true
      },
      {
        "case_name": "Search With Exclude Domains",
        "purpose": "测试排除特定域名的搜索功能",
        "args": {
          "query": "climate change",
          "exclude_domains": [
            "wikipedia.org",
            "news.yahoo.com"
          ]
        },
        "response": {
          "result": "{\n  \"query\": \"climate change\",\n  \"follow_up_questions\": null,\n  \"answer\": null,\n  \"images\": [],\n  \"results\": [\n    {\n      \"title\": \"Climate change | Definition, Causes, Effects, & Facts | Britannica\",\n      \"url\": \"https://www.britannica.com/science/climate-change\",\n      \"content\": \"climate change Abrupt climate changes in Earth history  Climate Change climate change What is climate change? How does climate change affect the Earth’s temperature? climate change, periodic modification of Earth’s climate brought about as a result of changes in the atmosphere as well as interactions between the atmosphere and various other geologic, chemical, biological, and geographic factors within the Earth system. This article addresses the concept of climatic variation and change within the set of integ...[截断]，共计5295字符，剩余4495字符"
        },
        "execution_time": 2.730968475341797,
        "is_functional_test": true
      },
      {
        "case_name": "Advanced Search Depth Test",
        "purpose": "测试高级搜索深度选项是否能正确执行",
        "args": {
          "query": "quantum computing",
          "search_depth": "advanced"
        },
        "response": {
          "result": "{\n  \"query\": \"quantum computing\",\n  \"follow_up_questions\": null,\n  \"answer\": null,\n  \"images\": [],\n  \"results\": [\n    {\n      \"url\": \"https://en.wikipedia.org/wiki/Quantum_computing\",\n      \"title\": \"Quantum computing - Wikipedia\",\n      \"content\": \"A quantum computer is a computer that exploits quantum mechanical phenomena. On small scales, physical matter exhibits properties of both particles and waves, and quantum computing takes advantage of this behavior using specialized hardware. Classical physics cannot explain the operation of these quantum devices, and a scalable quantum computer could perform some calculations exponentially faster( than any modern \\\"classical\\\" computer. Theoretically a large-scale quantum computer could break [...] Neuromorphic quantum computing (abbreviated as...[截断]，共计6575字符，剩余5775字符"
        },
        "execution_time": 3.9914908409118652,
        "is_functional_test": true
      },
      {
        "case_name": "Max Results Limit Test",
        "purpose": "验证最大结果数限制是否生效",
        "args": {
          "query": "renewable energy",
          "max_results": 10
        },
        "response": {
          "result": "{\n  \"query\": \"renewable energy\",\n  \"follow_up_questions\": null,\n  \"answer\": null,\n  \"images\": [],\n  \"results\": [\n    {\n      \"title\": \"Renewable Energy - Department of Energy\",\n      \"url\": \"https://www.energy.gov/topics/renewable-energy\",\n      \"content\": \"Energy Security Renewable Energy Renewable Energy What is Renewable Energy? Homeowners and renters can use clean energy at home by buying clean electricity, building renewable energy systems like solar panels or small wind turbines to generate electricity, or using renewable resources like passive solar or geothermal heat pumps to heat and cool water or rooms. DOE also invests in high-voltage direct current transmission linesto help bring offshore wind and other renewable energy generation to the grid. Renewable Energy Renewable Energy ...[截断]，共计9668字符，剩余8868字符"
        },
        "execution_time": 2.7908639907836914,
        "is_functional_test": true
      },
      {
        "case_name": "Combined Filter Domains Test",
        "purpose": "同时测试包含和排除域名的组合搜索功能",
        "args": {
          "query": "deep learning",
          "include_domains": [
            "researchgate.net"
          ],
          "exclude_domains": [
            "linkedin.com"
          ]
        },
        "response": {
          "result": "{\n  \"query\": \"deep learning\",\n  \"follow_up_questions\": null,\n  \"answer\": null,\n  \"images\": [],\n  \"results\": [\n    {\n      \"url\": \"https://www.researchgate.net/publication/277411157_Deep_Learning\",\n      \"title\": \"(PDF) Deep Learning - ResearchGate\",\n      \"content\": \"Warning: Target URL returned error 403: Forbidden ResearchGate - Temporarily Unavailable Access denied You do not have access to www.researchgate.net. The site owner may have set restrictions that prevent you from accessing the site. Ray ID: 947fce2f9ff9e80e Timestamp: 2025-05-30 17:03:31 UTC Your IP address: 2600:1900:0:2d07::b01 Requested URL: www.researchgate.net/publication/277411157_Deep_Learning  Error reference number: 1020 Server ID: FL_612F146 User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537...[截断]，共计3022字符，剩余2222字符"
        },
        "execution_time": 2.4777538776397705,
        "is_functional_test": true
      },
      {
        "case_name": "XSS Injection Attempt Test",
        "purpose": "测试搜索接口对跨站脚本攻击的防御能力",
        "args": {
          "query": "<script>alert('xss')</script>"
        },
        "response": {
          "result": "{\n  \"query\": \"<script>alert('xss')</script>\",\n  \"follow_up_questions\": null,\n  \"answer\": null,\n  \"images\": [],\n  \"results\": [\n    {\n      \"title\": \"Cross-site scripting (XSS) cheat sheet - PortSwigger\",\n      \"url\": \"https://portswigger.net/web-security/cross-site-scripting/cheat-sheet\",\n      \"content\": \"`<style>@keyframes slidein {}</style><xss style=\\\"animation-duration:1s;animation-name:slidein;animation-i[...]22setAnonymousId%22%2C%22addDestinationMiddleware%22%5D%3Banalytics.factory%3Dfunction%28t%29%7Breturn%20function%28%29%7Bvar%20e%3DArray.prototype.slice.call%28arguments%29%3Be.unshift%28t%29%3Banalytics.push%28e%29%3Breturn%20analytics%7D%7D%3Bfor%28var%20t%3D0%3Bt%3Canalytics.methods.length%3Bt%2B%2B%29%7Bvar%20e%3Danalytics.methods%5Bt%5D%3Banalytics%5Be%5D%3Danalytics.factor...[截断]，共计5798字符，剩余4998字符"
        },
        "execution_time": 2.6448464393615723,
        "is_functional_test": false
      },
      {
        "case_name": "SQL Injection Attempt Test",
        "purpose": "测试搜索接口对SQL注入攻击的防御能力",
        "args": {
          "query": "DROP TABLE users; --"
        },
        "response": {
          "result": "{\n  \"query\": \"DROP TABLE users; --\",\n  \"follow_up_questions\": null,\n  \"answer\": null,\n  \"images\": [],\n  \"results\": [\n    {\n      \"title\": \"security - How does the SQL injection from the \\\"Bobby Tables\\\" XKCD ...\",\n      \"url\": \"https://stackoverflow.com/questions/332365/how-does-the-sql-injection-from-the-bobby-tables-xkcd-comic-work\",\n      \"content\": \"The second one will drop the table student if the account has sufficient privileges (Generally the school admin account will run such query and will have the privileges talked about above).\",\n      \"score\": 0.9854,\n      \"raw_content\": null\n    },\n    {\n      \"title\": \"SQL DROP TABLE Statement - W3Schools\",\n      \"url\": \"https://www.w3schools.com/sql/sql_drop_table.asp\",\n      \"content\": \"SQL DROP TABLE Statement Certificates Learn ChatGPT-...[截断]，共计4633字符，剩余3833字符"
        },
        "execution_time": 2.674103260040283,
        "is_functional_test": false
      },
      {
        "case_name": "Empty Query Test",
        "purpose": "验证空查询参数是否被正确拒绝",
        "args": {
          "query": ""
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: Tavily web search failed: 搜索查询不能为空"
        },
        "execution_time": 0.009212255477905273,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Domain Format Test",
        "purpose": "测试无效的域名格式是否会触发参数验证错误",
        "args": {
          "query": "test query",
          "include_domains": [
            "not-a-valid-domain"
          ]
        },
        "response": {
          "result": "{\n  \"query\": \"test query\",\n  \"follow_up_questions\": null,\n  \"answer\": null,\n  \"images\": [],\n  \"results\": [],\n  \"response_time\": 4.12\n}"
        },
        "execution_time": 5.501791715621948,
        "is_functional_test": false
      },
      {
        "case_name": "Exceed Max Results Test",
        "purpose": "验证超过最大结果数限制时的行为",
        "args": {
          "query": "technology trends",
          "max_results": 15
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_web_search: Tavily web search failed: max_results 必须在 1 到 10 之间. 当前值: 15"
        },
        "execution_time": 0.015020608901977539,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters In Query Test",
        "purpose": "测试包含特殊字符的查询是否能正确处理",
        "args": {
          "query": "C++ vs Python @2024"
        },
        "response": {
          "result": "{\n  \"query\": \"C++ vs Python @2024\",\n  \"follow_up_questions\": null,\n  \"answer\": null,\n  \"images\": [],\n  \"results\": [\n    {\n      \"title\": \"Python vs. C++: Beginner's Guide to Choosing and Starting Out\",\n      \"url\": \"https://www.analyticsinsight.net/python-2/python-vs-c-beginners-guide-to-choosing-and-starting-out\",\n      \"content\": \"Confused between Python and C++? This beginner-friendly guide compares their syntax, speed, memory control, and more to help you choose the best starting point for your programming languages journey.\",\n      \"score\": 0.32296407,\n      \"raw_content\": null\n    },\n    {\n      \"title\": \"2024 Python in VS Code Wrapped - devblogs.microsoft.com\",\n      \"url\": \"https://devblogs.microsoft.com/python/2024-python-vscode-wrapped/\",\n      \"content\": \"As the year comes to a ...[截断]，共计3221字符，剩余2421字符"
        },
        "execution_time": 2.9298667907714844,
        "is_functional_test": true
      }
    ],
    "tavily_answer_search": [
      {
        "case_name": "Basic Search Test",
        "purpose": "验证使用默认参数的基本搜索功能是否正常工作",
        "args": {
          "query": "Python programming"
        },
        "response": {
          "result": "\"Python is a versatile programming language used for web development, data analysis, and automation. It features an easy-to-read syntax and supports multiple programming paradigms. Python is widely used in various industries for its simplicity and efficiency.\""
        },
        "execution_time": 3.9352734088897705,
        "is_functional_test": true
      },
      {
        "case_name": "Advanced Search Depth Test",
        "purpose": "测试高级搜索深度选项是否能正确执行",
        "args": {
          "query": "quantum computing",
          "search_depth": "advanced"
        },
        "response": {
          "result": "\"Quantum computing uses qubits to process information, offering faster computation than classical computers. It leverages quantum mechanics principles like superposition and entanglement. Quantum computers are still in development, but show potential for solving complex problems.\""
        },
        "execution_time": 3.9542930126190186,
        "is_functional_test": true
      },
      {
        "case_name": "Max Results Limit Test",
        "purpose": "验证最大结果数限制是否生效",
        "args": {
          "query": "renewable energy",
          "max_results": 10
        },
        "response": {
          "result": "\"Renewable energy is derived from natural sources that replenish quickly. It includes solar, wind, and hydropower. It reduces reliance on fossil fuels.\""
        },
        "execution_time": 5.381171703338623,
        "is_functional_test": true
      },
      {
        "case_name": "Search With Include Domains",
        "purpose": "测试指定包含域名的搜索功能",
        "args": {
          "query": "machine learning",
          "include_domains": [
            "github.com",
            "arxiv.org"
          ]
        },
        "response": {
          "result": "\"Machine learning is a machine intelligence field that enables computers to learn from data and make predictions without explicit programming. It uses algorithms to identify patterns and adapt autonomously.\""
        },
        "execution_time": 4.927605152130127,
        "is_functional_test": true
      },
      {
        "case_name": "Search With Exclude Domains",
        "purpose": "测试排除特定域名的搜索功能",
        "args": {
          "query": "climate change",
          "exclude_domains": [
            "wikipedia.org",
            "news.yahoo.com"
          ]
        },
        "response": {
          "result": "\"Climate change refers to long-term shifts in temperature and weather patterns, primarily driven by human activities like fossil fuel burning. It leads to global warming, rising sea levels, and extreme weather events. The effects are widespread, impacting ecosystems and human societies.\""
        },
        "execution_time": 5.043161153793335,
        "is_functional_test": true
      },
      {
        "case_name": "Combined Filter Domains Test",
        "purpose": "同时测试包含和排除域名的组合搜索功能",
        "args": {
          "query": "deep learning",
          "include_domains": [
            "researchgate.net"
          ],
          "exclude_domains": [
            "linkedin.com"
          ]
        },
        "response": {
          "result": "\"Deep learning is a subset of machine learning that uses neural networks with multiple layers to process data. It's widely used for image and speech recognition, and for generating new content. Its applications span healthcare, finance, and beyond.\""
        },
        "execution_time": 3.6323039531707764,
        "is_functional_test": true
      },
      {
        "case_name": "Special Characters In Query Test",
        "purpose": "测试包含特殊字符的查询是否能正确处理",
        "args": {
          "query": "C++ vs Python @2024"
        },
        "response": {
          "result": "\"For general scripting and data science, Python is preferred; for high-performance applications like game engines, C++ is better. Python's ease of learning contrasts with C++'s speed and control.\""
        },
        "execution_time": 7.245680809020996,
        "is_functional_test": true
      },
      {
        "case_name": "XSS Injection Attempt Test",
        "purpose": "测试搜索接口对跨站脚本攻击的防御能力",
        "args": {
          "query": "<script>alert('xss')</script>"
        },
        "response": {
          "result": "\"Cross-site scripting (XSS) allows attackers to inject malicious scripts into web pages. Prevention involves sanitizing inputs and outputs, and using security headers. XSS can lead to data theft and session hijacking.\""
        },
        "execution_time": 3.7187728881835938,
        "is_functional_test": false
      },
      {
        "case_name": "SQL Injection Attempt Test",
        "purpose": "测试搜索接口对SQL注入攻击的防御能力",
        "args": {
          "query": "DROP TABLE users; --"
        },
        "response": {
          "result": "\"The SQL DROP TABLE statement permanently deletes a table and its data from a database. It cannot be undone. Always use caution and authorization when executing such commands.\""
        },
        "execution_time": 4.557637453079224,
        "is_functional_test": false
      },
      {
        "case_name": "Empty Query Test",
        "purpose": "验证空查询参数是否被正确拒绝",
        "args": {
          "query": ""
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: Tavily answer search failed: 查询内容不能为空"
        },
        "execution_time": 0.010571956634521484,
        "is_functional_test": false
      },
      {
        "case_name": "Invalid Domain Format Test",
        "purpose": "测试无效的域名格式是否会触发参数验证错误",
        "args": {
          "query": "test query",
          "include_domains": [
            "not-a-valid-domain"
          ]
        },
        "response": {
          "result": "\"Test query is a command line tool for querying Go test results with SQL. It is also used in database management for validating data correctness. It is a term in cryptography for a query in a session.\""
        },
        "execution_time": 4.535341262817383,
        "is_functional_test": false
      },
      {
        "case_name": "Exceed Max Results Test",
        "purpose": "验证超过最大结果数限制时的行为",
        "args": {
          "query": "technology trends",
          "max_results": 15
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_answer_search: Tavily answer search failed: max_results 必须在 1 到 10 之间. 当前值: 15"
        },
        "execution_time": 0.012129545211791992,
        "is_functional_test": false
      }
    ],
    "tavily_news_search": [
      {
        "case_name": "Basic News Search Test",
        "purpose": "验证使用默认参数的基本新闻搜索功能是否正常工作",
        "args": {
          "query": "人工智能最新进展"
        },
        "response": {
          "result": "{\n  \"query\": \"人工智能最新进展 when:past7d\",\n  \"follow_up_questions\": null,\n  \"answer\": null,\n  \"images\": [],\n  \"results\": [],\n  \"response_time\": 0.86\n}"
        },
        "execution_time": 2.2599306106567383,
        "is_functional_test": true
      },
      {
        "case_name": "Custom Time Range Search Test",
        "purpose": "测试自定义时间范围的新闻搜索功能（30天）",
        "args": {
          "query": "人工智能最新进展",
          "days": 30
        },
        "response": {
          "result": "{\n  \"query\": \"人工智能最新进展 when:past30d\",\n  \"follow_up_questions\": null,\n  \"answer\": null,\n  \"images\": [],\n  \"results\": [],\n  \"response_time\": 0.82\n}"
        },
        "execution_time": 2.4964687824249268,
        "is_functional_test": true
      },
      {
        "case_name": "Limited Results Search Test",
        "purpose": "验证返回结果数量限制功能（3条结果）",
        "args": {
          "query": "人工智能最新进展",
          "max_results": 3
        },
        "response": {
          "result": "{\n  \"query\": \"人工智能最新进展 when:past7d\",\n  \"follow_up_questions\": null,\n  \"answer\": null,\n  \"images\": [],\n  \"results\": [],\n  \"response_time\": 1.02\n}"
        },
        "execution_time": 2.3980298042297363,
        "is_functional_test": true
      },
      {
        "case_name": "Specific Domain Inclusion Test",
        "purpose": "测试指定包含特定新闻源（techcrunch.com）的搜索功能",
        "args": {
          "query": "人工智能最新进展",
          "include_domains": [
            "techcrunch.com"
          ]
        },
        "response": {
          "result": "{\n  \"query\": \"人工智能最新进展 when:past7d\",\n  \"follow_up_questions\": null,\n  \"answer\": null,\n  \"images\": [],\n  \"results\": [],\n  \"response_time\": 0.8\n}"
        },
        "execution_time": 14.768332719802856,
        "is_functional_test": true
      },
      {
        "case_name": "Domain Exclusion Test",
        "purpose": "测试排除特定新闻源（wikipedia.org）的搜索功能",
        "args": {
          "query": "气候变化影响",
          "exclude_domains": [
            "wikipedia.org"
          ]
        },
        "response": {
          "result": "{\n  \"query\": \"气候变化影响 when:past7d\",\n  \"follow_up_questions\": null,\n  \"answer\": null,\n  \"images\": [],\n  \"results\": [],\n  \"response_time\": 1.11\n}"
        },
        "execution_time": 3.3638594150543213,
        "is_functional_test": true
      },
      {
        "case_name": "Combined Domain Filter Test",
        "purpose": "同时测试包含和排除域名的组合搜索功能",
        "args": {
          "query": "深度学习研究",
          "include_domains": [
            "arxiv.org"
          ],
          "exclude_domains": [
            "linkedin.com"
          ]
        },
        "response": {
          "result": "{\n  \"query\": \"深度学习研究 when:past7d\",\n  \"follow_up_questions\": null,\n  \"answer\": null,\n  \"images\": [],\n  \"results\": [],\n  \"response_time\": 1.3\n}"
        },
        "execution_time": 15.289183139801025,
        "is_functional_test": true
      },
      {
        "case_name": "XSS Attack Defense Test",
        "purpose": "测试搜索接口对跨站脚本攻击的防御能力",
        "args": {
          "query": "<script>alert('xss')</script>"
        },
        "response": {
          "result": "{\n  \"query\": \"<script>alert('xss')</script> when:past7d\",\n  \"follow_up_questions\": null,\n  \"answer\": null,\n  \"images\": [],\n  \"results\": [\n    {\n      \"title\": \"Cross-Site Scripting (XSS) Testing: XSS Alert Example\",\n      \"url\": \"https://www.softwaretestinghelp.com/cross-site-scripting-xss-attack-test/\",\n      \"content\": \"A Complete Guide to Cross-Site Scripting (XSS) Attack, how to prevent it, and XSS testing.\",\n      \"score\": 0.98571,\n      \"raw_content\": null\n    },\n    {\n      \"title\": \"Cross-site scripting (XSS) cheat sheet - PortSwigger\",\n      \"url\": \"https://portswigger.net/web-security/cross-site-scripting/cheat-sheet\",\n      \"content\": \"`<style>@keyframes slidein {}</style><xss style=\\\"animation-duration:1s;animation-name:slidein;animation-i[...]22setAnonymousId%22%2C%22addDestin...[截断]，共计5535字符，剩余4735字符"
        },
        "execution_time": 3.229434013366699,
        "is_functional_test": false
      },
      {
        "case_name": "SQL Injection Defense Test",
        "purpose": "测试搜索接口对SQL注入攻击的防御能力",
        "args": {
          "query": "DROP TABLE users; --"
        },
        "response": {
          "result": "{\n  \"query\": \"DROP TABLE users; -- when:past7d\",\n  \"follow_up_questions\": null,\n  \"answer\": null,\n  \"images\": [],\n  \"results\": [\n    {\n      \"url\": \"https://www.reddit.com/r/ProgrammerHumor/comments/ws482v/drop_table_users/\",\n      \"title\": \"'DROP TABLE Users -- : r/ProgrammerHumor - Reddit\",\n      \"content\": \"No one knows, maybe it would work, too. If only we knew what Reddit actually called their \\\"users\\\" table.\",\n      \"score\": 0.34072697,\n      \"raw_content\": null\n    },\n    {\n      \"url\": \"https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/DROP-TABLE.html\",\n      \"title\": \"DROP TABLE - Oracle Help Center\",\n      \"content\": \"DROP TABLE DROP TABLE Use the DROP TABLE statement to move a table or object table to the recycle bin or to remove the table and all its data fro...[截断]，共计3237字符，剩余2437字符"
        },
        "execution_time": 6.674750328063965,
        "is_functional_test": false
      },
      {
        "case_name": "Empty Query Validation Test",
        "purpose": "验证空查询参数是否被正确拒绝",
        "args": {
          "query": ""
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: Tavily news search failed: 新闻查询不能为空"
        },
        "execution_time": 0.0029981136322021484,
        "is_functional_test": false
      },
      {
        "case_name": "Max Time Range Test",
        "purpose": "验证最大时间范围（365天）限制是否生效",
        "args": {
          "query": "历史科技发展",
          "days": 365
        },
        "response": {
          "result": "{\n  \"query\": \"历史科技发展 when:past365d\",\n  \"follow_up_questions\": null,\n  \"answer\": null,\n  \"images\": [],\n  \"results\": [],\n  \"response_time\": 0.61\n}"
        },
        "execution_time": 2.0509872436523438,
        "is_functional_test": true
      },
      {
        "case_name": "Exceed Max Results Test",
        "purpose": "验证超过最大结果数限制（10条）时的行为",
        "args": {
          "query": "技术趋势分析",
          "max_results": 15
        },
        "response": {
          "error": "ToolException: Error executing tool tavily_news_search: Tavily news search failed: max_results 必须在 1 到 10 之间. 当前值: 15"
        },
        "execution_time": 0.0044667720794677734,
        "is_functional_test": false
      },
      {
        "case_name": "Special Characters Handling Test",
        "purpose": "测试包含特殊字符的查询是否能正确处理",
        "args": {
          "query": "C++ vs Python @2024"
        },
        "response": {
          "result": "{\n  \"query\": \"C++ vs Python @2024 when:past7d\",\n  \"follow_up_questions\": null,\n  \"answer\": null,\n  \"images\": [],\n  \"results\": [\n    {\n      \"title\": \"Year-End Review: The Biggest Python Breakthroughs of 2024\",\n      \"url\": \"https://medium.com/@pundiramadhans/year-end-review-the-biggest-python-breakthroughs-of-2024-2a3fb35a8c62\",\n      \"content\": \"Conclusion In conclusion, 2024 was a landmark year for Python. The language has evolved significantly, with Python 4.0 bringing a host of improvements and new features.\",\n      \"score\": 0.18599188,\n      \"raw_content\": null\n    },\n    {\n      \"title\": \"September 2024 (version 1.94) - Visual Studio Code\",\n      \"url\": \"https://code.visualstudio.com/updates/v1_94\",\n      \"content\": \"Once you have access, you will have a Copilot Chat model picker con...[截断]，共计4310字符，剩余3510字符"
        },
        "execution_time": 3.0852019786834717,
        "is_functional_test": true
      },
      {
        "case_name": "Invalid Domain Format Test",
        "purpose": "测试无效的域名格式是否会触发参数验证错误",
        "args": {
          "query": "测试查询",
          "include_domains": [
            "not-a-valid-domain"
          ]
        },
        "response": {
          "result": "{\n  \"query\": \"测试查询 when:past7d\",\n  \"follow_up_questions\": null,\n  \"answer\": null,\n  \"images\": [],\n  \"results\": [],\n  \"response_time\": 1.65\n}"
        },
        "execution_time": 16.950988054275513,
        "is_functional_test": false
      }
    ]
  },
  "total_cases": 37
}