{
  "server_name": "server",
  "parent_dir": "refined",
  "report_name": "qwen-plus-mcp_unsplash_photo_searcher",
  "server_path": "workspace/pipeline-output-servers/qwen-plus/mcp_unsplash_photo_searcher/refined/server.py",
  "timestamp": "2025-07-13T00:57:10.861649",
  "tools": [
    {
      "name": "search_photos",
      "description": "\n    在 Unsplash 平台根据关键词、分页、排序、颜色和图片方向等条件搜索图片。\n\n    Args:\n        query (str): 搜索关键词（必填）\n        page (int): 分页编号，默认为 1\n        per_page (int): 每页结果数量，默认为 10，最大不超过 30\n        order_by (str): 排序方式：latest, oldest, relevant，默认为 relevant\n        color (str): 图片颜色过滤，如 red, blue, black 等（可选）\n        orientation (str): 图片方向：landscape, portrait, squarish（可选）\n\n    Returns:\n        dict: 包含以下字段的字典：\n            - results: 包含图片信息的列表，每项包括：\n                - id: 图片ID\n                - description: 图片描述\n                - urls: 包含不同尺寸URL的对象（raw, full, regular, small, thumb）\n                - width: 图片宽度\n                - height: 图片高度\n            - total: 总结果数\n            - page: 当前页码\n            - per_page: 每页结果数\n\n    Raises:\n        ValueError: 如果必填参数缺失或参数值无效\n        httpx.HTTPStatusError: 如果API请求失败\n    ",
      "args_schema": {
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "page": {
            "default": 1,
            "title": "Page",
            "type": "integer"
          },
          "per_page": {
            "default": 10,
            "title": "Per Page",
            "type": "integer"
          },
          "order_by": {
            "default": "relevant",
            "title": "Order By",
            "type": "string"
          },
          "color": {
            "default": null,
            "title": "Color",
            "type": "string"
          },
          "orientation": {
            "default": null,
            "title": "Orientation",
            "type": "string"
          }
        },
        "required": [
          "query"
        ],
        "title": "search_photosArguments",
        "type": "object"
      }
    }
  ],
  "test_results": {
    "search_photos": [
      {
        "case_name": "基本搜索功能",
        "purpose": "验证使用默认参数的基本图片搜索功能是否正常工作",
        "args": {
          "query": "nature"
        },
        "response": {
          "result": "{\n  \"results\": [\n    {\n      \"id\": \"IicyiaPYGGI\",\n      \"description\": \"orange flowers\",\n      \"urls\": {\n        \"raw\": \"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxuYXR1cmV8ZW58MHx8fHwxNzUyMzIzODQwfDA&ixlib=rb-4.1.0\",\n        \"full\": \"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxuYXR1cmV8ZW58MHx8fHwxNzUyMzIzODQwfDA&ixlib=rb-4.1.0&q=85\",\n        \"regular\": \"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxuYXR1cmV8ZW58MHx8fHwxNzUyMzIzODQwfDA&ixlib=rb-4.1.0&q=80&w=1080\",\n        \"small\": \"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxuYXR1cmV8ZW58MHx8fHwxNzUyMzIzODQwfDA&ixlib=rb-4.1.0&q=80&w=400\",\n        \"thumb\": \"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxuYXR1cmV8ZW58MHx8fHwxNzUyMzIzODQwfDA&ixlib=rb-4.1.0&q=80&w=200\",\n        \"small_s3\": \"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1465146344425-f00d5f5c8f07\"\n      },\n      \"width\": 4928,\n      \"height\": 3264\n    },\n    {\n      \"id\": \"EwKXn5CapA4\",\n      \"description\": \"Finding my roots\",\n      \"urls\": {\n        \"raw\": \"https://images.unsplash.com/photo-1518495973542-4542c06a5843?ixid=M3w3NjQwNzV8MHwxfH...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计13645字符，剩余12145字符"
        },
        "execution_time": 1.0722622871398926,
        "is_functional_test": true
      },
      {
        "case_name": "指定分页和每页数量的搜索",
        "purpose": "测试分页参数 page 和 per_page 是否能正确控制结果分页",
        "args": {
          "query": "technology",
          "page": 2,
          "per_page": 15
        },
        "response": {
          "result": "{\n  \"results\": [\n    {\n      \"id\": \"IayKLkmz6g0\",\n      \"description\": \"A world of technology\",\n      \"urls\": {\n        \"raw\": \"https://images.unsplash.com/photo-1605810230434-7631ac76ec81?ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxNnx8dGVjaG5vbG9neXxlbnwwfHx8fDE3NTIzMzk0NjB8MA&ixlib=rb-4.1.0\",\n        \"full\": \"https://images.unsplash.com/photo-1605810230434-7631ac76ec81?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxNnx8dGVjaG5vbG9neXxlbnwwfHx8fDE3NTIzMzk0NjB8MA&ixlib=rb-4.1.0&q=85\",\n        \"regular\": \"https://images.unsplash.com/photo-1605810230434-7631ac76ec81?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxNnx8dGVjaG5vbG9neXxlbnwwfHx8fDE3NTIzMzk0NjB8MA&ixlib=rb-4.1.0&q=80&w=1080\",\n        \"small\": \"https://images.unsplash.com/photo-1605810230434-7631ac76ec81?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxNnx8dGVjaG5vbG9neXxlbnwwfHx8fDE3NTIzMzk0NjB8MA&ixlib=rb-4.1.0&q=80&w=400\",\n        \"thumb\": \"https://images.unsplash.com/photo-1605810230434-7631ac76ec81?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxNnx8dGVjaG5vbG9neXxlbnwwfHx8fDE3NTIzMzk0NjB8MA&ixlib=rb-4.1.0&q=80&w=200\",\n        \"small_s3\": \"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1605810230434-7631ac76ec81\"\n      },\n      \"width\": 6052,\n      \"height\": 4035\n    },\n    {\n      \"id\": \"OqtafYT5kTw\",\n      \"description\": \"Fruitful - Free WordPress Responsive theme source code displayed on this photo, you can downl...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计20311字符，剩余18811字符"
        },
        "execution_time": 1.095017910003662,
        "is_functional_test": true
      },
      {
        "case_name": "按最新排序搜索",
        "purpose": "验证 order_by 参数设置为 'latest' 时能否返回按最新顺序排列的结果",
        "args": {
          "query": "architecture",
          "order_by": "latest"
        },
        "response": {
          "result": "{\n  \"results\": [\n    {\n      \"id\": \"VZJ4fS52jAI\",\n      \"description\": \"Title: Courtyard in Kremnica Creator: Angyal, Vojtech Date: 1890/1900 Providing institution: Slovak national gallery Aggregator: Slovak national gallery Providing Country: Slovakia Public Domain Courtyard in Kremnica by Angyal, Vojtech - Slovak national gallery, Slovakia - Public Domain.\",\n      \"urls\": {\n        \"raw\": \"https://images.unsplash.com/photo-1752302113104-ab38612bb75d?ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxhcmNoaXRlY3R1cmV8ZW58MHx8Mnx8MTc1MjMzODU5OHww&ixlib=rb-4.1.0\",\n        \"full\": \"https://images.unsplash.com/photo-1752302113104-ab38612bb75d?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxhcmNoaXRlY3R1cmV8ZW58MHx8Mnx8MTc1MjMzODU5OHww&ixlib=rb-4.1.0&q=85\",\n        \"regular\": \"https://images.unsplash.com/photo-1752302113104-ab38612bb75d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxhcmNoaXRlY3R1cmV8ZW58MHx8Mnx8MTc1MjMzODU5OHww&ixlib=rb-4.1.0&q=80&w=1080\",\n        \"small\": \"https://images.unsplash.com/photo-1752302113104-ab38612bb75d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxhcmNoaXRlY3R1cmV8ZW58MHx8Mnx8MTc1MjMzODU5OHww&ixlib=rb-4.1.0&q=80&w=400\",\n        \"thumb\": \"https://images.unsplash.com/photo-1752302113104-ab38612bb75d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxhcmNoaXRlY3R1cmV8ZW58MHx8Mnx8MTc1MjMzODU5OHww&ixlib=rb-4.1.0&q=80&w=200\",\n        \"small_s3\": \"https://s3.us-west-2.ama...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计14520字符，剩余13020字符"
        },
        "execution_time": 0.37894535064697266,
        "is_functional_test": true
      },
      {
        "case_name": "颜色过滤搜索",
        "purpose": "测试 color 参数是否能正确过滤特定颜色的图片",
        "args": {
          "query": "ocean",
          "color": "blue"
        },
        "response": {
          "result": "{\n  \"results\": [\n    {\n      \"id\": \"K785Da4A_JA\",\n      \"description\": \"blue and clear body of water\",\n      \"urls\": {\n        \"raw\": \"https://images.unsplash.com/photo-1559825481-12a05cc00344?ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxvY2VhbnxlbnwwfHx8Ymx1ZXwxNzUyMzIzODUwfDA&ixlib=rb-4.1.0\",\n        \"full\": \"https://images.unsplash.com/photo-1559825481-12a05cc00344?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxvY2VhbnxlbnwwfHx8Ymx1ZXwxNzUyMzIzODUwfDA&ixlib=rb-4.1.0&q=85\",\n        \"regular\": \"https://images.unsplash.com/photo-1559825481-12a05cc00344?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxvY2VhbnxlbnwwfHx8Ymx1ZXwxNzUyMzIzODUwfDA&ixlib=rb-4.1.0&q=80&w=1080\",\n        \"small\": \"https://images.unsplash.com/photo-1559825481-12a05cc00344?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxvY2VhbnxlbnwwfHx8Ymx1ZXwxNzUyMzIzODUwfDA&ixlib=rb-4.1.0&q=80&w=400\",\n        \"thumb\": \"https://images.unsplash.com/photo-1559825481-12a05cc00344?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxvY2VhbnxlbnwwfHx8Ymx1ZXwxNzUyMzIzODUwfDA&ixlib=rb-4.1.0&q=80&w=200\",\n        \"small_s3\": \"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1559825481-12a05cc00344\"\n      },\n      \"width\": 2821,\n      \"height\": 3526\n    },\n    {\n      \"id\": \"sLAk1guBG90\",\n      \"description\": \"Maldives\",\n      \"urls\": {\n        \"raw\": \"https://images.unsplash.com/photo-1505142468610-359e7d316be0?ixid=M3w3NjQwNz...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计13268字符，剩余11768字符"
        },
        "execution_time": 0.3661525249481201,
        "is_functional_test": true
      },
      {
        "case_name": "方向过滤搜索",
        "purpose": "验证 orientation 参数是否能正确筛选指定方向的图片",
        "args": {
          "query": "mountains",
          "orientation": "landscape"
        },
        "response": {
          "result": "{\n  \"results\": [\n    {\n      \"id\": \"pVATCBKLH8w\",\n      \"description\": \"On the road to the home of giants, Mt Aoraki National Park.\",\n      \"urls\": {\n        \"raw\": \"https://images.unsplash.com/photo-1494806812796-244fe51b774d?ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxtb3VudGFpbnN8ZW58MHwwfHx8MTc1MjMyMzg1M3ww&ixlib=rb-4.1.0\",\n        \"full\": \"https://images.unsplash.com/photo-1494806812796-244fe51b774d?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxtb3VudGFpbnN8ZW58MHwwfHx8MTc1MjMyMzg1M3ww&ixlib=rb-4.1.0&q=85\",\n        \"regular\": \"https://images.unsplash.com/photo-1494806812796-244fe51b774d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxtb3VudGFpbnN8ZW58MHwwfHx8MTc1MjMyMzg1M3ww&ixlib=rb-4.1.0&q=80&w=1080\",\n        \"small\": \"https://images.unsplash.com/photo-1494806812796-244fe51b774d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxtb3VudGFpbnN8ZW58MHwwfHx8MTc1MjMyMzg1M3ww&ixlib=rb-4.1.0&q=80&w=400\",\n        \"thumb\": \"https://images.unsplash.com/photo-1494806812796-244fe51b774d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxtb3VudGFpbnN8ZW58MHwwfHx8MTc1MjMyMzg1M3ww&ixlib=rb-4.1.0&q=80&w=200\",\n        \"small_s3\": \"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1494806812796-244fe51b774d\"\n      },\n      \"width\": 3872,\n      \"height\": 2592\n    },\n    {\n      \"id\": \"1527pjeb6jg\",\n      \"description\": \"aerial photo of foggy mountains\",\n      \"urls\": {\n        \"raw\": ...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计13649字符，剩余12149字符"
        },
        "execution_time": 0.37049365043640137,
        "is_functional_test": true
      },
      {
        "case_name": "组合多条件搜索",
        "purpose": "测试多个参数（查询、排序、颜色、方向）共同作用时的行为",
        "args": {
          "query": "city",
          "order_by": "relevant",
          "color": "black",
          "orientation": "portrait"
        },
        "response": {
          "result": "{\n  \"results\": [\n    {\n      \"id\": \"enGr5YbjQKQ\",\n      \"description\": \"low light photography of vehicle crossing road between high-rise buildings\",\n      \"urls\": {\n        \"raw\": \"https://images.unsplash.com/photo-1512850183-6d7990f42385?ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxjaXR5fGVufDB8MXx8YmxhY2t8MTc1MjMzOTQ2MXww&ixlib=rb-4.1.0\",\n        \"full\": \"https://images.unsplash.com/photo-1512850183-6d7990f42385?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxjaXR5fGVufDB8MXx8YmxhY2t8MTc1MjMzOTQ2MXww&ixlib=rb-4.1.0&q=85\",\n        \"regular\": \"https://images.unsplash.com/photo-1512850183-6d7990f42385?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxjaXR5fGVufDB8MXx8YmxhY2t8MTc1MjMzOTQ2MXww&ixlib=rb-4.1.0&q=80&w=1080\",\n        \"small\": \"https://images.unsplash.com/photo-1512850183-6d7990f42385?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxjaXR5fGVufDB8MXx8YmxhY2t8MTc1MjMzOTQ2MXww&ixlib=rb-4.1.0&q=80&w=400\",\n        \"thumb\": \"https://images.unsplash.com/photo-1512850183-6d7990f42385?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHxjaXR5fGVufDB8MXx8YmxhY2t8MTc1MjMzOTQ2MXww&ixlib=rb-4.1.0&q=80&w=200\",\n        \"small_s3\": \"https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1512850183-6d7990f42385\"\n      },\n      \"width\": 4000,\n      \"height\": 6000\n    },\n    {\n      \"id\": \"uiKqLsjusB0\",\n      \"description\": \"Morning Traffic\",\n      \"urls\": {\n        \"raw\": \"https://images.uns...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计13363字符，剩余11863字符"
        },
        "execution_time": 0.5625576972961426,
        "is_functional_test": true
      },
      {
        "case_name": "跨域脚本攻击测试",
        "purpose": "验证工具是否对输入中的特殊字符进行适当处理以防止 XSS 攻击",
        "args": {
          "query": "<script>alert('xss')</script>"
        },
        "response": {
          "result": "{\n  \"results\": [\n    {\n      \"id\": \"yPBgHCsKdWE\",\n      \"description\": \"binary source code – html php java program source code\",\n      \"urls\": {\n        \"raw\": \"https://images.unsplash.com/photo-1617609277590-ec2d145ca13b?ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHwlM0NzY3JpcHQlM0VhbGVydCUyOCUyN3hzcyUyNyUyOSUzQyUyRnNjcmlwdCUzRXxlbnwwfHx8fDE3NTIzMzk0NjJ8MA&ixlib=rb-4.1.0\",\n        \"full\": \"https://images.unsplash.com/photo-1617609277590-ec2d145ca13b?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHwlM0NzY3JpcHQlM0VhbGVydCUyOCUyN3hzcyUyNyUyOSUzQyUyRnNjcmlwdCUzRXxlbnwwfHx8fDE3NTIzMzk0NjJ8MA&ixlib=rb-4.1.0&q=85\",\n        \"regular\": \"https://images.unsplash.com/photo-1617609277590-ec2d145ca13b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHwlM0NzY3JpcHQlM0VhbGVydCUyOCUyN3hzcyUyNyUyOSUzQyUyRnNjcmlwdCUzRXxlbnwwfHx8fDE3NTIzMzk0NjJ8MA&ixlib=rb-4.1.0&q=80&w=1080\",\n        \"small\": \"https://images.unsplash.com/photo-1617609277590-ec2d145ca13b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHwlM0NzY3JpcHQlM0VhbGVydCUyOCUyN3hzcyUyNyUyOSUzQyUyRnNjcmlwdCUzRXxlbnwwfHx8fDE3NTIzMzk0NjJ8MA&ixlib=rb-4.1.0&q=80&w=400\",\n        \"thumb\": \"https://images.unsplash.com/photo-1617609277590-ec2d145ca13b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NjQwNzV8MHwxfHNlYXJjaHwxfHwlM0NzY3JpcHQlM0VhbGVydCUyOCUyN3hzcyUyNyUyOSUzQyUyRnNjcmlwdCUzRXxlbnwwfHx8fDE3NTIzMzk0NjJ8MA&ixlib=rb-4.1.0&q=80&w=200\",\n        \"small_s3\": \"https://s3.us-west-2.amazona...[截断]，输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。共计16015字符，剩余14515字符"
        },
        "execution_time": 0.6779329776763916,
        "is_functional_test": false
      },
      {
        "case_name": "无效分页参数处理",
        "purpose": "测试当 page 参数小于 1 时是否抛出 ValueError",
        "args": {
          "query": "cars",
          "page": 0
        },
        "response": {
          "error": "ToolException: Error executing tool search_photos: 搜索图片时发生错误: 页码必须大于等于1"
        },
        "execution_time": 0.00400543212890625,
        "is_functional_test": false
      },
      {
        "case_name": "超出最大每页数量限制",
        "purpose": "验证当 per_page 超过 30 时是否抛出 ValueError",
        "args": {
          "query": "animals",
          "per_page": 35
        },
        "response": {
          "error": "ToolException: Error executing tool search_photos: 搜索图片时发生错误: 每页结果数量必须在1到30之间"
        },
        "execution_time": 0.006875038146972656,
        "is_functional_test": false
      }
    ]
  },
  "total_cases": 9
}