[
  {
    "step": {
      "step_id": "search_valid_title",
      "tool_name": "search_items",
      "parameters": {
        "query": "Machine Learning"
      },
      "description": "Happy path: Search for items with title or creator matching 'Machine Learning'."
    },
    "substituted_params": {
      "query": "Machine Learning"
    },
    "result": {
      "status": "error",
      "result": "Error executing tool search_items: Request failed: 404 Client Error: Not Found for url: https://api.zotero.org/items?q=Machine+Learning&qmode=titleCreatorYear&include=data"
    }
  },
  {
    "step": {
      "step_id": "get_metadata_first_item",
      "tool_name": "get_item_metadata",
      "parameters": {
        "item_key": "$outputs.search_valid_title[0].key"
      },
      "description": "Dependent call: Get metadata of the first item returned by the previous search."
    },
    "substituted_params": {
      "item_key": null
    },
    "result": {
      "status": "error",
      "result": "A required parameter resolved to None, likely due to a failure in a dependency. Failed placeholder: '$outputs.search_valid_title[0].key'"
    }
  },
  {
    "step": {
      "step_id": "get_fulltext_first_item",
      "tool_name": "get_item_fulltext",
      "parameters": {
        "item_key": "$outputs.search_valid_title[0].key"
      },
      "description": "Dependent call: Get full text of the first item returned by the previous search."
    },
    "substituted_params": {
      "item_key": null
    },
    "result": {
      "status": "error",
      "result": "A required parameter resolved to None, likely due to a failure in a dependency. Failed placeholder: '$outputs.search_valid_title[0].key'"
    }
  },
  {
    "step": {
      "step_id": "search_by_year",
      "tool_name": "search_items",
      "parameters": {
        "query": "2021",
        "search_by_title": false,
        "search_by_creator": false,
        "search_by_year": true
      },
      "description": "Search specifically by publication year to test parameter toggling."
    },
    "substituted_params": {
      "query": "2021",
      "search_by_title": false,
      "search_by_creator": false,
      "search_by_year": true
    },
    "result": {
      "status": "error",
      "result": "Error executing tool search_items: Request failed: 404 Client Error: Not Found for url: https://api.zotero.org/items?q=2021&qmode=titleCreatorYear&include=data"
    }
  },
  {
    "step": {
      "step_id": "search_by_fulltext",
      "tool_name": "search_items",
      "parameters": {
        "query": "neural networks",
        "search_by_fulltext": true
      },
      "description": "Test full-text search mode."
    },
    "substituted_params": {
      "query": "neural networks",
      "search_by_fulltext": true
    },
    "result": {
      "status": "error",
      "result": "Error executing tool search_items: Request failed: 404 Client Error: Not Found for url: https://api.zotero.org/items?q=neural+networks&qmode=everything&include=data"
    }
  },
  {
    "step": {
      "step_id": "search_invalid_query",
      "tool_name": "search_items",
      "parameters": {
        "query": ""
      },
      "description": "Edge case: Test behavior when query is empty."
    },
    "substituted_params": {
      "query": ""
    },
    "result": {
      "status": "error",
      "result": "Error executing tool search_items: 'query' must be a non-empty string."
    }
  },
  {
    "step": {
      "step_id": "get_metadata_invalid_key",
      "tool_name": "get_item_metadata",
      "parameters": {
        "item_key": "invalid-key-for-testing"
      },
      "description": "Edge case: Attempt to fetch metadata for an invalid item key."
    },
    "substituted_params": {
      "item_key": "invalid-key-for-testing"
    },
    "result": {
      "status": "error",
      "result": "Error executing tool get_item_metadata: Request failed: 404 Client Error: Not Found for url: https://api.zotero.org/items/invalid-key-for-testing"
    }
  },
  {
    "step": {
      "step_id": "get_fulltext_invalid_key",
      "tool_name": "get_item_fulltext",
      "parameters": {
        "item_key": "invalid-key-for-testing"
      },
      "description": "Edge case: Attempt to fetch full text for an invalid item key."
    },
    "substituted_params": {
      "item_key": "invalid-key-for-testing"
    },
    "result": {
      "status": "error",
      "result": "Error executing tool get_item_fulltext: Request failed: 404 Client Error: Not Found for url: https://api.zotero.org/items/invalid-key-for-testing/fulltext"
    }
  },
  {
    "step": {
      "step_id": "search_nonexistent_term",
      "tool_name": "search_items",
      "parameters": {
        "query": "this-term-should-not-exist-in-library"
      },
      "description": "Edge case: Search for a term that should return no results."
    },
    "substituted_params": {
      "query": "this-term-should-not-exist-in-library"
    },
    "result": {
      "status": "error",
      "result": "Error executing tool search_items: Request failed: 404 Client Error: Not Found for url: https://api.zotero.org/items?q=this-term-should-not-exist-in-library&qmode=titleCreatorYear&include=data"
    }
  }
]