[
  {
    "step": {
      "step_id": "search_by_title_happy_path",
      "tool_name": "search_items",
      "parameters": {
        "query": "machine learning"
      },
      "description": "Happy path: Search for items with 'machine learning' in the title using default search_type."
    },
    "substituted_params": {
      "query": "machine learning"
    },
    "result": {
      "status": "error",
      "result": "Error executing tool search_items: Failed to perform search: \nCode: 400\nURL: https://api.zotero.org/users/16026771/items?locale=en-US&q=machine+learning&qmode=title&format=json&limit=100\nMethod: GET\nResponse: Invalid 'qmode' value 'title'"
    }
  },
  {
    "step": {
      "step_id": "get_metadata_for_first_result",
      "tool_name": "get_item_metadata",
      "parameters": {
        "item_key": "$outputs.search_by_title_happy_path[0].data.key"
      },
      "description": "Dependent call: Retrieve metadata for the first item returned from the search."
    },
    "substituted_params": {
      "item_key": null
    },
    "result": {
      "status": "error",
      "result": "A required parameter resolved to None, likely due to a failure in a dependency. Failed placeholder: '$outputs.search_by_title_happy_path[0].data.key'"
    }
  },
  {
    "step": {
      "step_id": "get_fulltext_for_first_result",
      "tool_name": "get_item_fulltext",
      "parameters": {
        "item_key": "$outputs.search_by_title_happy_path[0].data.key"
      },
      "description": "Dependent call: Attempt to retrieve full-text content of the first result (may fail if not an attachment)."
    },
    "substituted_params": {
      "item_key": null
    },
    "result": {
      "status": "error",
      "result": "A required parameter resolved to None, likely due to a failure in a dependency. Failed placeholder: '$outputs.search_by_title_happy_path[0].data.key'"
    }
  },
  {
    "step": {
      "step_id": "search_by_author",
      "tool_name": "search_items",
      "parameters": {
        "query": "Andrew Ng",
        "search_type": "creator"
      },
      "description": "Happy path: Search for items authored by Andrew Ng."
    },
    "substituted_params": {
      "query": "Andrew Ng",
      "search_type": "creator"
    },
    "result": {
      "status": "error",
      "result": "Error executing tool search_items: Failed to perform search: \nCode: 400\nURL: https://api.zotero.org/users/16026771/items?locale=en-US&q=Andrew+Ng&qmode=author&format=json&limit=100\nMethod: GET\nResponse: Invalid 'qmode' value 'author'"
    }
  },
  {
    "step": {
      "step_id": "search_by_year",
      "tool_name": "search_items",
      "parameters": {
        "query": "2020",
        "search_type": "year"
      },
      "description": "Happy path: Search for items published in 2020."
    },
    "substituted_params": {
      "query": "2020",
      "search_type": "year"
    },
    "result": {
      "status": "error",
      "result": "Error executing tool search_items: Failed to perform search: \nCode: 400\nURL: https://api.zotero.org/users/16026771/items?locale=en-US&q=2020&qmode=year&format=json&limit=100\nMethod: GET\nResponse: Invalid 'qmode' value 'year'"
    }
  },
  {
    "step": {
      "step_id": "search_by_fulltext",
      "tool_name": "search_items",
      "parameters": {
        "query": "neural networks",
        "search_type": "fulltext"
      },
      "description": "Happy path: Search for items containing 'neural networks' in full-text content."
    },
    "substituted_params": {
      "query": "neural networks",
      "search_type": "fulltext"
    },
    "result": {
      "status": "success",
      "result": "{\n  \"key\": \"NZ26PJJX\",\n  \"version\": 724,\n  \"library\": {\n    \"type\": \"user\",\n    \"id\": 16026771,\n    \"name\": \"zhihutangjiang\",\n    \"links\": {\n      \"alternate\": {\n        \"href\": \"https://www.zotero.org/zhihutangjiang\",\n        \"type\": \"text/html\"\n      }\n    }\n  },\n  \"links\": {\n    \"self\": {\n      \"href\": \"https://api.zotero.org/users/16026771/items/NZ26PJJX\",\n      \"type\": \"application/json\"\n    },\n    \"alternate\": {\n      \"href\": \"https://www.zotero.org/zhihutangjiang/items/NZ26PJJX\",\n      \"type\": \"text/html\"\n    },\n    \"up\": {\n      \"href\": \"https://api.zotero.org/users/16026771/items/K78DMKPD\",\n      \"type\": \"application/json\"\n    },\n    \"enclosure\": {\n      \"type\": \"application/pdf\",\n      \"href\": \"https://api.zotero.org/users/16026771/items/NZ26PJJX/file/view\",\n      \"title\": \"Islam 等 - 2025 - CODESIM Multi-Agent Code Generation and Problem Solving through Simulation-Driven Planning and Debu.pdf\",\n      \"length\": 2203164\n    }\n  },\n  \"meta\": {\n    \"numChildren\": false\n  },\n  \"data\": {\n    \"key\": \"NZ26PJJX\",\n    \"version\": 724,\n    \"parentItem\": \"K78DMKPD\",\n    \"itemType\": \"attachment\",\n    \"linkMode\": \"imported_url\",\n    \"title\": \"Preprint PDF\",\n    \"accessDate\": \"2025-07-05\n\n[ADAPTER_TRUNCATION_NOTE: 输出已被MCP适配器截断，这是适配器的限制而非工具本身的问题。剩余 47017 个字符未显示。总长度: 48217]"
    }
  },
  {
    "step": {
      "step_id": "search_with_empty_query",
      "tool_name": "search_items",
      "parameters": {
        "query": "",
        "search_type": "title"
      },
      "description": "Edge case: Test server behavior when query is empty."
    },
    "substituted_params": {
      "query": "",
      "search_type": "title"
    },
    "result": {
      "status": "error",
      "result": "Error executing tool search_items: Valid search query must be provided."
    }
  },
  {
    "step": {
      "step_id": "search_with_invalid_search_type",
      "tool_name": "search_items",
      "parameters": {
        "query": "quantum computing",
        "search_type": "invalidtype"
      },
      "description": "Edge case: Test server's handling of invalid search_type parameter."
    },
    "substituted_params": {
      "query": "quantum computing",
      "search_type": "invalidtype"
    },
    "result": {
      "status": "error",
      "result": "Error executing tool search_items: Invalid search_type: invalidtype. Must be one of ['title', 'creator', 'year', 'fulltext']."
    }
  },
  {
    "step": {
      "step_id": "get_metadata_with_invalid_key",
      "tool_name": "get_item_metadata",
      "parameters": {
        "item_key": "invalid-key-123"
      },
      "description": "Edge case: Attempt to get metadata for a non-existent item key."
    },
    "substituted_params": {
      "item_key": "invalid-key-123"
    },
    "result": {
      "status": "error",
      "result": "Error executing tool get_item_metadata: Failed to fetch metadata for item invalid-key-123: \nCode: 404\nURL: https://api.zotero.org/users/16026771/items/INVALID-KEY-123?locale=en-US&format=json&limit=100\nMethod: GET\nResponse: Not found"
    }
  },
  {
    "step": {
      "step_id": "get_fulltext_with_invalid_key",
      "tool_name": "get_item_fulltext",
      "parameters": {
        "item_key": "invalid-key-456"
      },
      "description": "Edge case: Attempt to get fulltext for a non-existent item key."
    },
    "substituted_params": {
      "item_key": "invalid-key-456"
    },
    "result": {
      "status": "error",
      "result": "Error executing tool get_item_fulltext: Failed to fetch fulltext for item invalid-key-456: \nCode: 404\nURL: https://api.zotero.org/users/16026771/items/INVALID-KEY-456?locale=en-US&format=json&limit=100\nMethod: GET\nResponse: Not found"
    }
  },
  {
    "step": {
      "step_id": "get_fulltext_on_non_attachment",
      "tool_name": "get_item_fulltext",
      "parameters": {
        "item_key": "$outputs.search_by_title_happy_path[0].data.key"
      },
      "description": "Edge case: Attempt to get fulltext on an item that is not an attachment (based on prior search result)."
    },
    "substituted_params": {
      "item_key": null
    },
    "result": {
      "status": "error",
      "result": "A required parameter resolved to None, likely due to a failure in a dependency. Failed placeholder: '$outputs.search_by_title_happy_path[0].data.key'"
    }
  }
]